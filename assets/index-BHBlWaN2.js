(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))s(l);new MutationObserver(l=>{for(const h of l)if(h.type==="childList")for(const m of h.addedNodes)m.tagName==="LINK"&&m.rel==="modulepreload"&&s(m)}).observe(document,{childList:!0,subtree:!0});function n(l){const h={};return l.integrity&&(h.integrity=l.integrity),l.referrerPolicy&&(h.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?h.credentials="include":l.crossOrigin==="anonymous"?h.credentials="omit":h.credentials="same-origin",h}function s(l){if(l.ep)return;l.ep=!0;const h=n(l);fetch(l.href,h)}})();function Xp(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var tp={exports:{}},hc={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var uT;function IA(){if(uT)return hc;uT=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function n(s,l,h){var m=null;if(h!==void 0&&(m=""+h),l.key!==void 0&&(m=""+l.key),"key"in l){h={};for(var v in l)v!=="key"&&(h[v]=l[v])}else h=l;return l=h.ref,{$$typeof:r,type:s,key:m,ref:l!==void 0?l:null,props:h}}return hc.Fragment=t,hc.jsx=n,hc.jsxs=n,hc}var cT;function xA(){return cT||(cT=1,tp.exports=IA()),tp.exports}var q=xA(),ep={exports:{}},qt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hT;function NA(){if(hT)return qt;hT=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),h=Symbol.for("react.consumer"),m=Symbol.for("react.context"),v=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),T=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),R=Symbol.for("react.activity"),N=Symbol.iterator;function j(z){return z===null||typeof z!="object"?null:(z=N&&z[N]||z["@@iterator"],typeof z=="function"?z:null)}var B={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},K=Object.assign,G={};function it(z,ot,gt){this.props=z,this.context=ot,this.refs=G,this.updater=gt||B}it.prototype.isReactComponent={},it.prototype.setState=function(z,ot){if(typeof z!="object"&&typeof z!="function"&&z!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,z,ot,"setState")},it.prototype.forceUpdate=function(z){this.updater.enqueueForceUpdate(this,z,"forceUpdate")};function rt(){}rt.prototype=it.prototype;function ct(z,ot,gt){this.props=z,this.context=ot,this.refs=G,this.updater=gt||B}var Ct=ct.prototype=new rt;Ct.constructor=ct,K(Ct,it.prototype),Ct.isPureReactComponent=!0;var Lt=Array.isArray;function kt(){}var D={H:null,A:null,T:null,S:null},O=Object.prototype.hasOwnProperty;function P(z,ot,gt){var _t=gt.ref;return{$$typeof:r,type:z,key:ot,ref:_t!==void 0?_t:null,props:gt}}function F(z,ot){return P(z.type,ot,z.props)}function U(z){return typeof z=="object"&&z!==null&&z.$$typeof===r}function Z(z){var ot={"=":"=0",":":"=2"};return"$"+z.replace(/[=:]/g,function(gt){return ot[gt]})}var k=/\/+/g;function oe(z,ot){return typeof z=="object"&&z!==null&&z.key!=null?Z(""+z.key):ot.toString(36)}function Je(z){switch(z.status){case"fulfilled":return z.value;case"rejected":throw z.reason;default:switch(typeof z.status=="string"?z.then(kt,kt):(z.status="pending",z.then(function(ot){z.status==="pending"&&(z.status="fulfilled",z.value=ot)},function(ot){z.status==="pending"&&(z.status="rejected",z.reason=ot)})),z.status){case"fulfilled":return z.value;case"rejected":throw z.reason}}throw z}function at(z,ot,gt,_t,wt){var Et=typeof z;(Et==="undefined"||Et==="boolean")&&(z=null);var Ht=!1;if(z===null)Ht=!0;else switch(Et){case"bigint":case"string":case"number":Ht=!0;break;case"object":switch(z.$$typeof){case r:case t:Ht=!0;break;case S:return Ht=z._init,at(Ht(z._payload),ot,gt,_t,wt)}}if(Ht)return wt=wt(z),Ht=_t===""?"."+oe(z,0):_t,Lt(wt)?(gt="",Ht!=null&&(gt=Ht.replace(k,"$&/")+"/"),at(wt,ot,gt,"",function(cr){return cr})):wt!=null&&(U(wt)&&(wt=F(wt,gt+(wt.key==null||z&&z.key===wt.key?"":(""+wt.key).replace(k,"$&/")+"/")+Ht)),ot.push(wt)),1;Ht=0;var we=_t===""?".":_t+":";if(Lt(z))for(var Re=0;Re<z.length;Re++)_t=z[Re],Et=we+oe(_t,Re),Ht+=at(_t,ot,gt,Et,wt);else if(Re=j(z),typeof Re=="function")for(z=Re.call(z),Re=0;!(_t=z.next()).done;)_t=_t.value,Et=we+oe(_t,Re++),Ht+=at(_t,ot,gt,Et,wt);else if(Et==="object"){if(typeof z.then=="function")return at(Je(z),ot,gt,_t,wt);throw ot=String(z),Error("Objects are not valid as a React child (found: "+(ot==="[object Object]"?"object with keys {"+Object.keys(z).join(", ")+"}":ot)+"). If you meant to render a collection of children, use an array instead.")}return Ht}function vt(z,ot,gt){if(z==null)return z;var _t=[],wt=0;return at(z,_t,"","",function(Et){return ot.call(gt,Et,wt++)}),_t}function pt(z){if(z._status===-1){var ot=z._result;ot=ot(),ot.then(function(gt){(z._status===0||z._status===-1)&&(z._status=1,z._result=gt)},function(gt){(z._status===0||z._status===-1)&&(z._status=2,z._result=gt)}),z._status===-1&&(z._status=0,z._result=ot)}if(z._status===1)return z._result.default;throw z._result}var te=typeof reportError=="function"?reportError:function(z){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ot=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof z=="object"&&z!==null&&typeof z.message=="string"?String(z.message):String(z),error:z});if(!window.dispatchEvent(ot))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",z);return}console.error(z)},bt={map:vt,forEach:function(z,ot,gt){vt(z,function(){ot.apply(this,arguments)},gt)},count:function(z){var ot=0;return vt(z,function(){ot++}),ot},toArray:function(z){return vt(z,function(ot){return ot})||[]},only:function(z){if(!U(z))throw Error("React.Children.only expected to receive a single React element child.");return z}};return qt.Activity=R,qt.Children=bt,qt.Component=it,qt.Fragment=n,qt.Profiler=l,qt.PureComponent=ct,qt.StrictMode=s,qt.Suspense=y,qt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=D,qt.__COMPILER_RUNTIME={__proto__:null,c:function(z){return D.H.useMemoCache(z)}},qt.cache=function(z){return function(){return z.apply(null,arguments)}},qt.cacheSignal=function(){return null},qt.cloneElement=function(z,ot,gt){if(z==null)throw Error("The argument must be a React element, but you passed "+z+".");var _t=K({},z.props),wt=z.key;if(ot!=null)for(Et in ot.key!==void 0&&(wt=""+ot.key),ot)!O.call(ot,Et)||Et==="key"||Et==="__self"||Et==="__source"||Et==="ref"&&ot.ref===void 0||(_t[Et]=ot[Et]);var Et=arguments.length-2;if(Et===1)_t.children=gt;else if(1<Et){for(var Ht=Array(Et),we=0;we<Et;we++)Ht[we]=arguments[we+2];_t.children=Ht}return P(z.type,wt,_t)},qt.createContext=function(z){return z={$$typeof:m,_currentValue:z,_currentValue2:z,_threadCount:0,Provider:null,Consumer:null},z.Provider=z,z.Consumer={$$typeof:h,_context:z},z},qt.createElement=function(z,ot,gt){var _t,wt={},Et=null;if(ot!=null)for(_t in ot.key!==void 0&&(Et=""+ot.key),ot)O.call(ot,_t)&&_t!=="key"&&_t!=="__self"&&_t!=="__source"&&(wt[_t]=ot[_t]);var Ht=arguments.length-2;if(Ht===1)wt.children=gt;else if(1<Ht){for(var we=Array(Ht),Re=0;Re<Ht;Re++)we[Re]=arguments[Re+2];wt.children=we}if(z&&z.defaultProps)for(_t in Ht=z.defaultProps,Ht)wt[_t]===void 0&&(wt[_t]=Ht[_t]);return P(z,Et,wt)},qt.createRef=function(){return{current:null}},qt.forwardRef=function(z){return{$$typeof:v,render:z}},qt.isValidElement=U,qt.lazy=function(z){return{$$typeof:S,_payload:{_status:-1,_result:z},_init:pt}},qt.memo=function(z,ot){return{$$typeof:T,type:z,compare:ot===void 0?null:ot}},qt.startTransition=function(z){var ot=D.T,gt={};D.T=gt;try{var _t=z(),wt=D.S;wt!==null&&wt(gt,_t),typeof _t=="object"&&_t!==null&&typeof _t.then=="function"&&_t.then(kt,te)}catch(Et){te(Et)}finally{ot!==null&&gt.types!==null&&(ot.types=gt.types),D.T=ot}},qt.unstable_useCacheRefresh=function(){return D.H.useCacheRefresh()},qt.use=function(z){return D.H.use(z)},qt.useActionState=function(z,ot,gt){return D.H.useActionState(z,ot,gt)},qt.useCallback=function(z,ot){return D.H.useCallback(z,ot)},qt.useContext=function(z){return D.H.useContext(z)},qt.useDebugValue=function(){},qt.useDeferredValue=function(z,ot){return D.H.useDeferredValue(z,ot)},qt.useEffect=function(z,ot){return D.H.useEffect(z,ot)},qt.useEffectEvent=function(z){return D.H.useEffectEvent(z)},qt.useId=function(){return D.H.useId()},qt.useImperativeHandle=function(z,ot,gt){return D.H.useImperativeHandle(z,ot,gt)},qt.useInsertionEffect=function(z,ot){return D.H.useInsertionEffect(z,ot)},qt.useLayoutEffect=function(z,ot){return D.H.useLayoutEffect(z,ot)},qt.useMemo=function(z,ot){return D.H.useMemo(z,ot)},qt.useOptimistic=function(z,ot){return D.H.useOptimistic(z,ot)},qt.useReducer=function(z,ot,gt){return D.H.useReducer(z,ot,gt)},qt.useRef=function(z){return D.H.useRef(z)},qt.useState=function(z){return D.H.useState(z)},qt.useSyncExternalStore=function(z,ot,gt){return D.H.useSyncExternalStore(z,ot,gt)},qt.useTransition=function(){return D.H.useTransition()},qt.version="19.2.0",qt}var fT;function Wp(){return fT||(fT=1,ep.exports=NA()),ep.exports}var $=Wp();const Sf=Xp($);var np={exports:{}},fc={},ip={exports:{}},rp={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var dT;function OA(){return dT||(dT=1,(function(r){function t(at,vt){var pt=at.length;at.push(vt);t:for(;0<pt;){var te=pt-1>>>1,bt=at[te];if(0<l(bt,vt))at[te]=vt,at[pt]=bt,pt=te;else break t}}function n(at){return at.length===0?null:at[0]}function s(at){if(at.length===0)return null;var vt=at[0],pt=at.pop();if(pt!==vt){at[0]=pt;t:for(var te=0,bt=at.length,z=bt>>>1;te<z;){var ot=2*(te+1)-1,gt=at[ot],_t=ot+1,wt=at[_t];if(0>l(gt,pt))_t<bt&&0>l(wt,gt)?(at[te]=wt,at[_t]=pt,te=_t):(at[te]=gt,at[ot]=pt,te=ot);else if(_t<bt&&0>l(wt,pt))at[te]=wt,at[_t]=pt,te=_t;else break t}}return vt}function l(at,vt){var pt=at.sortIndex-vt.sortIndex;return pt!==0?pt:at.id-vt.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var h=performance;r.unstable_now=function(){return h.now()}}else{var m=Date,v=m.now();r.unstable_now=function(){return m.now()-v}}var y=[],T=[],S=1,R=null,N=3,j=!1,B=!1,K=!1,G=!1,it=typeof setTimeout=="function"?setTimeout:null,rt=typeof clearTimeout=="function"?clearTimeout:null,ct=typeof setImmediate<"u"?setImmediate:null;function Ct(at){for(var vt=n(T);vt!==null;){if(vt.callback===null)s(T);else if(vt.startTime<=at)s(T),vt.sortIndex=vt.expirationTime,t(y,vt);else break;vt=n(T)}}function Lt(at){if(K=!1,Ct(at),!B)if(n(y)!==null)B=!0,kt||(kt=!0,Z());else{var vt=n(T);vt!==null&&Je(Lt,vt.startTime-at)}}var kt=!1,D=-1,O=5,P=-1;function F(){return G?!0:!(r.unstable_now()-P<O)}function U(){if(G=!1,kt){var at=r.unstable_now();P=at;var vt=!0;try{t:{B=!1,K&&(K=!1,rt(D),D=-1),j=!0;var pt=N;try{e:{for(Ct(at),R=n(y);R!==null&&!(R.expirationTime>at&&F());){var te=R.callback;if(typeof te=="function"){R.callback=null,N=R.priorityLevel;var bt=te(R.expirationTime<=at);if(at=r.unstable_now(),typeof bt=="function"){R.callback=bt,Ct(at),vt=!0;break e}R===n(y)&&s(y),Ct(at)}else s(y);R=n(y)}if(R!==null)vt=!0;else{var z=n(T);z!==null&&Je(Lt,z.startTime-at),vt=!1}}break t}finally{R=null,N=pt,j=!1}vt=void 0}}finally{vt?Z():kt=!1}}}var Z;if(typeof ct=="function")Z=function(){ct(U)};else if(typeof MessageChannel<"u"){var k=new MessageChannel,oe=k.port2;k.port1.onmessage=U,Z=function(){oe.postMessage(null)}}else Z=function(){it(U,0)};function Je(at,vt){D=it(function(){at(r.unstable_now())},vt)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(at){at.callback=null},r.unstable_forceFrameRate=function(at){0>at||125<at?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):O=0<at?Math.floor(1e3/at):5},r.unstable_getCurrentPriorityLevel=function(){return N},r.unstable_next=function(at){switch(N){case 1:case 2:case 3:var vt=3;break;default:vt=N}var pt=N;N=vt;try{return at()}finally{N=pt}},r.unstable_requestPaint=function(){G=!0},r.unstable_runWithPriority=function(at,vt){switch(at){case 1:case 2:case 3:case 4:case 5:break;default:at=3}var pt=N;N=at;try{return vt()}finally{N=pt}},r.unstable_scheduleCallback=function(at,vt,pt){var te=r.unstable_now();switch(typeof pt=="object"&&pt!==null?(pt=pt.delay,pt=typeof pt=="number"&&0<pt?te+pt:te):pt=te,at){case 1:var bt=-1;break;case 2:bt=250;break;case 5:bt=1073741823;break;case 4:bt=1e4;break;default:bt=5e3}return bt=pt+bt,at={id:S++,callback:vt,priorityLevel:at,startTime:pt,expirationTime:bt,sortIndex:-1},pt>te?(at.sortIndex=pt,t(T,at),n(y)===null&&at===n(T)&&(K?(rt(D),D=-1):K=!0,Je(Lt,pt-te))):(at.sortIndex=bt,t(y,at),B||j||(B=!0,kt||(kt=!0,Z()))),at},r.unstable_shouldYield=F,r.unstable_wrapCallback=function(at){var vt=N;return function(){var pt=N;N=vt;try{return at.apply(this,arguments)}finally{N=pt}}}})(rp)),rp}var mT;function LA(){return mT||(mT=1,ip.exports=OA()),ip.exports}var sp={exports:{}},Bn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pT;function PA(){if(pT)return Bn;pT=1;var r=Wp();function t(y){var T="https://react.dev/errors/"+y;if(1<arguments.length){T+="?args[]="+encodeURIComponent(arguments[1]);for(var S=2;S<arguments.length;S++)T+="&args[]="+encodeURIComponent(arguments[S])}return"Minified React error #"+y+"; visit "+T+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(t(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},l=Symbol.for("react.portal");function h(y,T,S){var R=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:R==null?null:""+R,children:y,containerInfo:T,implementation:S}}var m=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function v(y,T){if(y==="font")return"";if(typeof T=="string")return T==="use-credentials"?T:""}return Bn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Bn.createPortal=function(y,T){var S=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!T||T.nodeType!==1&&T.nodeType!==9&&T.nodeType!==11)throw Error(t(299));return h(y,T,null,S)},Bn.flushSync=function(y){var T=m.T,S=s.p;try{if(m.T=null,s.p=2,y)return y()}finally{m.T=T,s.p=S,s.d.f()}},Bn.preconnect=function(y,T){typeof y=="string"&&(T?(T=T.crossOrigin,T=typeof T=="string"?T==="use-credentials"?T:"":void 0):T=null,s.d.C(y,T))},Bn.prefetchDNS=function(y){typeof y=="string"&&s.d.D(y)},Bn.preinit=function(y,T){if(typeof y=="string"&&T&&typeof T.as=="string"){var S=T.as,R=v(S,T.crossOrigin),N=typeof T.integrity=="string"?T.integrity:void 0,j=typeof T.fetchPriority=="string"?T.fetchPriority:void 0;S==="style"?s.d.S(y,typeof T.precedence=="string"?T.precedence:void 0,{crossOrigin:R,integrity:N,fetchPriority:j}):S==="script"&&s.d.X(y,{crossOrigin:R,integrity:N,fetchPriority:j,nonce:typeof T.nonce=="string"?T.nonce:void 0})}},Bn.preinitModule=function(y,T){if(typeof y=="string")if(typeof T=="object"&&T!==null){if(T.as==null||T.as==="script"){var S=v(T.as,T.crossOrigin);s.d.M(y,{crossOrigin:S,integrity:typeof T.integrity=="string"?T.integrity:void 0,nonce:typeof T.nonce=="string"?T.nonce:void 0})}}else T==null&&s.d.M(y)},Bn.preload=function(y,T){if(typeof y=="string"&&typeof T=="object"&&T!==null&&typeof T.as=="string"){var S=T.as,R=v(S,T.crossOrigin);s.d.L(y,S,{crossOrigin:R,integrity:typeof T.integrity=="string"?T.integrity:void 0,nonce:typeof T.nonce=="string"?T.nonce:void 0,type:typeof T.type=="string"?T.type:void 0,fetchPriority:typeof T.fetchPriority=="string"?T.fetchPriority:void 0,referrerPolicy:typeof T.referrerPolicy=="string"?T.referrerPolicy:void 0,imageSrcSet:typeof T.imageSrcSet=="string"?T.imageSrcSet:void 0,imageSizes:typeof T.imageSizes=="string"?T.imageSizes:void 0,media:typeof T.media=="string"?T.media:void 0})}},Bn.preloadModule=function(y,T){if(typeof y=="string")if(T){var S=v(T.as,T.crossOrigin);s.d.m(y,{as:typeof T.as=="string"&&T.as!=="script"?T.as:void 0,crossOrigin:S,integrity:typeof T.integrity=="string"?T.integrity:void 0})}else s.d.m(y)},Bn.requestFormReset=function(y){s.d.r(y)},Bn.unstable_batchedUpdates=function(y,T){return y(T)},Bn.useFormState=function(y,T,S){return m.H.useFormState(y,T,S)},Bn.useFormStatus=function(){return m.H.useHostTransitionStatus()},Bn.version="19.2.0",Bn}var gT;function s0(){if(gT)return sp.exports;gT=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),sp.exports=PA(),sp.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _T;function MA(){if(_T)return fc;_T=1;var r=LA(),t=Wp(),n=s0();function s(e){var i="https://react.dev/errors/"+e;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var o=2;o<arguments.length;o++)i+="&args[]="+encodeURIComponent(arguments[o])}return"Minified React error #"+e+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function h(e){var i=e,o=e;if(e.alternate)for(;i.return;)i=i.return;else{e=i;do i=e,(i.flags&4098)!==0&&(o=i.return),e=i.return;while(e)}return i.tag===3?o:null}function m(e){if(e.tag===13){var i=e.memoizedState;if(i===null&&(e=e.alternate,e!==null&&(i=e.memoizedState)),i!==null)return i.dehydrated}return null}function v(e){if(e.tag===31){var i=e.memoizedState;if(i===null&&(e=e.alternate,e!==null&&(i=e.memoizedState)),i!==null)return i.dehydrated}return null}function y(e){if(h(e)!==e)throw Error(s(188))}function T(e){var i=e.alternate;if(!i){if(i=h(e),i===null)throw Error(s(188));return i!==e?null:e}for(var o=e,c=i;;){var p=o.return;if(p===null)break;var g=p.alternate;if(g===null){if(c=p.return,c!==null){o=c;continue}break}if(p.child===g.child){for(g=p.child;g;){if(g===o)return y(p),e;if(g===c)return y(p),i;g=g.sibling}throw Error(s(188))}if(o.return!==c.return)o=p,c=g;else{for(var b=!1,I=p.child;I;){if(I===o){b=!0,o=p,c=g;break}if(I===c){b=!0,c=p,o=g;break}I=I.sibling}if(!b){for(I=g.child;I;){if(I===o){b=!0,o=g,c=p;break}if(I===c){b=!0,c=g,o=p;break}I=I.sibling}if(!b)throw Error(s(189))}}if(o.alternate!==c)throw Error(s(190))}if(o.tag!==3)throw Error(s(188));return o.stateNode.current===o?e:i}function S(e){var i=e.tag;if(i===5||i===26||i===27||i===6)return e;for(e=e.child;e!==null;){if(i=S(e),i!==null)return i;e=e.sibling}return null}var R=Object.assign,N=Symbol.for("react.element"),j=Symbol.for("react.transitional.element"),B=Symbol.for("react.portal"),K=Symbol.for("react.fragment"),G=Symbol.for("react.strict_mode"),it=Symbol.for("react.profiler"),rt=Symbol.for("react.consumer"),ct=Symbol.for("react.context"),Ct=Symbol.for("react.forward_ref"),Lt=Symbol.for("react.suspense"),kt=Symbol.for("react.suspense_list"),D=Symbol.for("react.memo"),O=Symbol.for("react.lazy"),P=Symbol.for("react.activity"),F=Symbol.for("react.memo_cache_sentinel"),U=Symbol.iterator;function Z(e){return e===null||typeof e!="object"?null:(e=U&&e[U]||e["@@iterator"],typeof e=="function"?e:null)}var k=Symbol.for("react.client.reference");function oe(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===k?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case K:return"Fragment";case it:return"Profiler";case G:return"StrictMode";case Lt:return"Suspense";case kt:return"SuspenseList";case P:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case B:return"Portal";case ct:return e.displayName||"Context";case rt:return(e._context.displayName||"Context")+".Consumer";case Ct:var i=e.render;return e=e.displayName,e||(e=i.displayName||i.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case D:return i=e.displayName||null,i!==null?i:oe(e.type)||"Memo";case O:i=e._payload,e=e._init;try{return oe(e(i))}catch{}}return null}var Je=Array.isArray,at=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,vt=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,pt={pending:!1,data:null,method:null,action:null},te=[],bt=-1;function z(e){return{current:e}}function ot(e){0>bt||(e.current=te[bt],te[bt]=null,bt--)}function gt(e,i){bt++,te[bt]=e.current,e.current=i}var _t=z(null),wt=z(null),Et=z(null),Ht=z(null);function we(e,i){switch(gt(Et,i),gt(wt,e),gt(_t,null),i.nodeType){case 9:case 11:e=(e=i.documentElement)&&(e=e.namespaceURI)?Lv(e):0;break;default:if(e=i.tagName,i=i.namespaceURI)i=Lv(i),e=Pv(i,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}ot(_t),gt(_t,e)}function Re(){ot(_t),ot(wt),ot(Et)}function cr(e){e.memoizedState!==null&&gt(Ht,e);var i=_t.current,o=Pv(i,e.type);i!==o&&(gt(wt,e),gt(_t,o))}function Lr(e){wt.current===e&&(ot(_t),ot(wt)),Ht.current===e&&(ot(Ht),oc._currentValue=pt)}var Bi,Pr;function ji(e){if(Bi===void 0)try{throw Error()}catch(o){var i=o.stack.trim().match(/\n( *(at )?)/);Bi=i&&i[1]||"",Pr=-1<o.stack.indexOf(`
    at`)?" (<anonymous>)":-1<o.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Bi+e+Pr}var Ws=!1;function Mr(e,i){if(!e||Ws)return"";Ws=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var c={DetermineComponentFrameRoot:function(){try{if(i){var ft=function(){throw Error()};if(Object.defineProperty(ft.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ft,[])}catch(st){var et=st}Reflect.construct(e,[],ft)}else{try{ft.call()}catch(st){et=st}e.call(ft.prototype)}}else{try{throw Error()}catch(st){et=st}(ft=e())&&typeof ft.catch=="function"&&ft.catch(function(){})}}catch(st){if(st&&et&&typeof st.stack=="string")return[st.stack,et.stack]}return[null,null]}};c.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var p=Object.getOwnPropertyDescriptor(c.DetermineComponentFrameRoot,"name");p&&p.configurable&&Object.defineProperty(c.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var g=c.DetermineComponentFrameRoot(),b=g[0],I=g[1];if(b&&I){var V=b.split(`
`),J=I.split(`
`);for(p=c=0;c<V.length&&!V[c].includes("DetermineComponentFrameRoot");)c++;for(;p<J.length&&!J[p].includes("DetermineComponentFrameRoot");)p++;if(c===V.length||p===J.length)for(c=V.length-1,p=J.length-1;1<=c&&0<=p&&V[c]!==J[p];)p--;for(;1<=c&&0<=p;c--,p--)if(V[c]!==J[p]){if(c!==1||p!==1)do if(c--,p--,0>p||V[c]!==J[p]){var lt=`
`+V[c].replace(" at new "," at ");return e.displayName&&lt.includes("<anonymous>")&&(lt=lt.replace("<anonymous>",e.displayName)),lt}while(1<=c&&0<=p);break}}}finally{Ws=!1,Error.prepareStackTrace=o}return(o=e?e.displayName||e.name:"")?ji(o):""}function ms(e,i){switch(e.tag){case 26:case 27:case 5:return ji(e.type);case 16:return ji("Lazy");case 13:return e.child!==i&&i!==null?ji("Suspense Fallback"):ji("Suspense");case 19:return ji("SuspenseList");case 0:case 15:return Mr(e.type,!1);case 11:return Mr(e.type.render,!1);case 1:return Mr(e.type,!0);case 31:return ji("Activity");default:return""}}function Dr(e){try{var i="",o=null;do i+=ms(e,o),o=e,e=e.return;while(e);return i}catch(c){return`
Error generating stack: `+c.message+`
`+c.stack}}var Fe=Object.prototype.hasOwnProperty,Ge=r.unstable_scheduleCallback,Hi=r.unstable_cancelCallback,cl=r.unstable_shouldYield,so=r.unstable_requestPaint,Cn=r.unstable_now,ps=r.unstable_getCurrentPriorityLevel,gs=r.unstable_ImmediatePriority,Js=r.unstable_UserBlockingPriority,hr=r.unstable_NormalPriority,Ru=r.unstable_LowPriority,ao=r.unstable_IdlePriority,oo=r.log,hl=r.unstable_setDisableYieldValue,Jn=null,tn=null;function Gn(e){if(typeof oo=="function"&&hl(e),tn&&typeof tn.setStrictMode=="function")try{tn.setStrictMode(Jn,e)}catch{}}var Ve=Math.clz32?Math.clz32:fl,kr=Math.log,ta=Math.LN2;function fl(e){return e>>>=0,e===0?32:31-(kr(e)/ta|0)|0}var vi=256,Vr=262144,Ue=4194304;function qi(e){var i=e&42;if(i!==0)return i;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Fi(e,i,o){var c=e.pendingLanes;if(c===0)return 0;var p=0,g=e.suspendedLanes,b=e.pingedLanes;e=e.warmLanes;var I=c&134217727;return I!==0?(c=I&~g,c!==0?p=qi(c):(b&=I,b!==0?p=qi(b):o||(o=I&~e,o!==0&&(p=qi(o))))):(I=c&~g,I!==0?p=qi(I):b!==0?p=qi(b):o||(o=c&~e,o!==0&&(p=qi(o)))),p===0?0:i!==0&&i!==p&&(i&g)===0&&(g=p&-p,o=i&-i,g>=o||g===32&&(o&4194048)!==0)?i:p}function Ti(e,i){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&i)===0}function Cu(e,i){switch(e){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function dl(){var e=Ue;return Ue<<=1,(Ue&62914560)===0&&(Ue=4194304),e}function Gi(e){for(var i=[],o=0;31>o;o++)i.push(e);return i}function fr(e,i){e.pendingLanes|=i,i!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Iu(e,i,o,c,p,g){var b=e.pendingLanes;e.pendingLanes=o,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=o,e.entangledLanes&=o,e.errorRecoveryDisabledLanes&=o,e.shellSuspendCounter=0;var I=e.entanglements,V=e.expirationTimes,J=e.hiddenUpdates;for(o=b&~o;0<o;){var lt=31-Ve(o),ft=1<<lt;I[lt]=0,V[lt]=-1;var et=J[lt];if(et!==null)for(J[lt]=null,lt=0;lt<et.length;lt++){var st=et[lt];st!==null&&(st.lane&=-536870913)}o&=~ft}c!==0&&_s(e,c,0),g!==0&&p===0&&e.tag!==0&&(e.suspendedLanes|=g&~(b&~i))}function _s(e,i,o){e.pendingLanes|=i,e.suspendedLanes&=~i;var c=31-Ve(i);e.entangledLanes|=i,e.entanglements[c]=e.entanglements[c]|1073741824|o&261930}function lo(e,i){var o=e.entangledLanes|=i;for(e=e.entanglements;o;){var c=31-Ve(o),p=1<<c;p&i|e[c]&i&&(e[c]|=i),o&=~p}}function uo(e,i){var o=i&-i;return o=(o&42)!==0?1:yn(o),(o&(e.suspendedLanes|i))!==0?0:o}function yn(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function It(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function co(){var e=vt.p;return e!==0?e:(e=window.event,e===void 0?32:nT(e.type))}function ti(e,i){var o=vt.p;try{return vt.p=e,i()}finally{vt.p=o}}var ei=Math.random().toString(36).slice(2),ze="__reactFiber$"+ei,Ze="__reactProps$"+ei,Ei="__reactContainer$"+ei,wi="__reactEvents$"+ei,ml="__reactListeners$"+ei,pl="__reactHandles$"+ei,gl="__reactResources$"+ei,Zi="__reactMarker$"+ei;function ea(e){delete e[ze],delete e[Ze],delete e[wi],delete e[ml],delete e[pl]}function bi(e){var i=e[ze];if(i)return i;for(var o=e.parentNode;o;){if(i=o[Ei]||o[ze]){if(o=i.alternate,i.child!==null||o!==null&&o.child!==null)for(e=Bv(e);e!==null;){if(o=e[ze])return o;e=Bv(e)}return i}e=o,o=e.parentNode}return null}function ni(e){if(e=e[ze]||e[Ei]){var i=e.tag;if(i===5||i===6||i===13||i===31||i===26||i===27||i===3)return e}return null}function vn(e){var i=e.tag;if(i===5||i===26||i===27||i===6)return e.stateNode;throw Error(s(33))}function Ki(e){var i=e[gl];return i||(i=e[gl]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function Ke(e){e[Zi]=!0}var ho=new Set,fo={};function Yi(e,i){ii(e,i),ii(e+"Capture",i)}function ii(e,i){for(fo[e]=i,e=0;e<i.length;e++)ho.add(i[e])}var dr=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),na={},ia={};function Ur(e){return Fe.call(ia,e)?!0:Fe.call(na,e)?!1:dr.test(e)?ia[e]=!0:(na[e]=!0,!1)}function Qt(e,i,o){if(Ur(i))if(o===null)e.removeAttribute(i);else{switch(typeof o){case"undefined":case"function":case"symbol":e.removeAttribute(i);return;case"boolean":var c=i.toLowerCase().slice(0,5);if(c!=="data-"&&c!=="aria-"){e.removeAttribute(i);return}}e.setAttribute(i,""+o)}}function $t(e,i,o){if(o===null)e.removeAttribute(i);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(i);return}e.setAttribute(i,""+o)}}function Oe(e,i,o,c){if(c===null)e.removeAttribute(o);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(o);return}e.setAttributeNS(i,o,""+c)}}function Le(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Zn(e){var i=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function ys(e,i,o){var c=Object.getOwnPropertyDescriptor(e.constructor.prototype,i);if(!e.hasOwnProperty(i)&&typeof c<"u"&&typeof c.get=="function"&&typeof c.set=="function"){var p=c.get,g=c.set;return Object.defineProperty(e,i,{configurable:!0,get:function(){return p.call(this)},set:function(b){o=""+b,g.call(this,b)}}),Object.defineProperty(e,i,{enumerable:c.enumerable}),{getValue:function(){return o},setValue:function(b){o=""+b},stopTracking:function(){e._valueTracker=null,delete e[i]}}}}function St(e){if(!e._valueTracker){var i=Zn(e)?"checked":"value";e._valueTracker=ys(e,i,""+e[i])}}function ye(e){if(!e)return!1;var i=e._valueTracker;if(!i)return!0;var o=i.getValue(),c="";return e&&(c=Zn(e)?e.checked?"true":"false":e.value),e=c,e!==o?(i.setValue(e),!0):!1}function ri(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var Qi=/[\n"\\]/g;function Ce(e){return e.replace(Qi,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function ra(e,i,o,c,p,g,b,I){e.name="",b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"?e.type=b:e.removeAttribute("type"),i!=null?b==="number"?(i===0&&e.value===""||e.value!=i)&&(e.value=""+Le(i)):e.value!==""+Le(i)&&(e.value=""+Le(i)):b!=="submit"&&b!=="reset"||e.removeAttribute("value"),i!=null?Si(e,b,Le(i)):o!=null?Si(e,b,Le(o)):c!=null&&e.removeAttribute("value"),p==null&&g!=null&&(e.defaultChecked=!!g),p!=null&&(e.checked=p&&typeof p!="function"&&typeof p!="symbol"),I!=null&&typeof I!="function"&&typeof I!="symbol"&&typeof I!="boolean"?e.name=""+Le(I):e.removeAttribute("name")}function vs(e,i,o,c,p,g,b,I){if(g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(e.type=g),i!=null||o!=null){if(!(g!=="submit"&&g!=="reset"||i!=null)){St(e);return}o=o!=null?""+Le(o):"",i=i!=null?""+Le(i):o,I||i===e.value||(e.value=i),e.defaultValue=i}c=c??p,c=typeof c!="function"&&typeof c!="symbol"&&!!c,e.checked=I?e.checked:!!c,e.defaultChecked=!!c,b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"&&(e.name=b),St(e)}function Si(e,i,o){i==="number"&&ri(e.ownerDocument)===e||e.defaultValue===""+o||(e.defaultValue=""+o)}function ve(e,i,o,c){if(e=e.options,i){i={};for(var p=0;p<o.length;p++)i["$"+o[p]]=!0;for(o=0;o<e.length;o++)p=i.hasOwnProperty("$"+e[o].value),e[o].selected!==p&&(e[o].selected=p),p&&c&&(e[o].defaultSelected=!0)}else{for(o=""+Le(o),i=null,p=0;p<e.length;p++){if(e[p].value===o){e[p].selected=!0,c&&(e[p].defaultSelected=!0);return}i!==null||e[p].disabled||(i=e[p])}i!==null&&(i.selected=!0)}}function $i(e,i,o){if(i!=null&&(i=""+Le(i),i!==e.value&&(e.value=i),o==null)){e.defaultValue!==i&&(e.defaultValue=i);return}e.defaultValue=o!=null?""+Le(o):""}function si(e,i,o,c){if(i==null){if(c!=null){if(o!=null)throw Error(s(92));if(Je(c)){if(1<c.length)throw Error(s(93));c=c[0]}o=c}o==null&&(o=""),i=o}o=Le(i),e.defaultValue=o,c=e.textContent,c===o&&c!==""&&c!==null&&(e.value=c),St(e)}function sn(e,i){if(i){var o=e.firstChild;if(o&&o===e.lastChild&&o.nodeType===3){o.nodeValue=i;return}}e.textContent=i}var sa=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function mr(e,i,o){var c=i.indexOf("--")===0;o==null||typeof o=="boolean"||o===""?c?e.setProperty(i,""):i==="float"?e.cssFloat="":e[i]="":c?e.setProperty(i,o):typeof o!="number"||o===0||sa.has(i)?i==="float"?e.cssFloat=o:e[i]=(""+o).trim():e[i]=o+"px"}function Ts(e,i,o){if(i!=null&&typeof i!="object")throw Error(s(62));if(e=e.style,o!=null){for(var c in o)!o.hasOwnProperty(c)||i!=null&&i.hasOwnProperty(c)||(c.indexOf("--")===0?e.setProperty(c,""):c==="float"?e.cssFloat="":e[c]="");for(var p in i)c=i[p],i.hasOwnProperty(p)&&o[p]!==c&&mr(e,p,c)}else for(var g in i)i.hasOwnProperty(g)&&mr(e,g,i[g])}function zr(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Es=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Xi=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Br(e){return Xi.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function Mn(){}var aa=null;function Dn(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var jr=null,Dt=null;function Tn(e){var i=ni(e);if(i&&(e=i.stateNode)){var o=e[Ze]||null;t:switch(e=i.stateNode,i.type){case"input":if(ra(e,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name),i=o.name,o.type==="radio"&&i!=null){for(o=e;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll('input[name="'+Ce(""+i)+'"][type="radio"]'),i=0;i<o.length;i++){var c=o[i];if(c!==e&&c.form===e.form){var p=c[Ze]||null;if(!p)throw Error(s(90));ra(c,p.value,p.defaultValue,p.defaultValue,p.checked,p.defaultChecked,p.type,p.name)}}for(i=0;i<o.length;i++)c=o[i],c.form===e.form&&ye(c)}break t;case"textarea":$i(e,o.value,o.defaultValue);break t;case"select":i=o.value,i!=null&&ve(e,!!o.multiple,i,!1)}}}var he=!1;function pr(e,i,o){if(he)return e(i,o);he=!0;try{var c=e(i);return c}finally{if(he=!1,(jr!==null||Dt!==null)&&(Mh(),jr&&(i=jr,e=Dt,Dt=jr=null,Tn(i),e)))for(i=0;i<e.length;i++)Tn(e[i])}}function Kn(e,i){var o=e.stateNode;if(o===null)return null;var c=o[Ze]||null;if(c===null)return null;o=c[i];t:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(e=e.type,c=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!c;break t;default:e=!1}if(e)return null;if(o&&typeof o!="function")throw Error(s(231,i,typeof o));return o}var kn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),gr=!1;if(kn)try{var ee={};Object.defineProperty(ee,"passive",{get:function(){gr=!0}}),window.addEventListener("test",ee,ee),window.removeEventListener("test",ee,ee)}catch{gr=!1}var ai=null,_r=null,Pe=null;function Ai(){if(Pe)return Pe;var e,i=_r,o=i.length,c,p="value"in ai?ai.value:ai.textContent,g=p.length;for(e=0;e<o&&i[e]===p[e];e++);var b=o-e;for(c=1;c<=b&&i[o-c]===p[g-c];c++);return Pe=p.slice(e,1<c?1-c:void 0)}function Hr(e){var i=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&i===13&&(e=13)):e=i,e===10&&(e=13),32<=e||e===13?e:0}function Wi(){return!0}function Ri(){return!1}function an(e){function i(o,c,p,g,b){this._reactName=o,this._targetInst=p,this.type=c,this.nativeEvent=g,this.target=b,this.currentTarget=null;for(var I in e)e.hasOwnProperty(I)&&(o=e[I],this[I]=o?o(g):g[I]);return this.isDefaultPrevented=(g.defaultPrevented!=null?g.defaultPrevented:g.returnValue===!1)?Wi:Ri,this.isPropagationStopped=Ri,this}return R(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=Wi)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=Wi)},persist:function(){},isPersistent:Wi}),i}var Ci={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ji=an(Ci),yr=R({},Ci,{view:0,detail:0}),Yt=an(yr),qr,En,Vn,ws=R({},yr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Fr,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Vn&&(Vn&&e.type==="mousemove"?(qr=e.screenX-Vn.screenX,En=e.screenY-Vn.screenY):En=qr=0,Vn=e),qr)},movementY:function(e){return"movementY"in e?e.movementY:En}}),mo=an(ws),vr=R({},ws,{dataTransfer:0}),_l=an(vr),po=R({},yr,{relatedTarget:0}),bs=an(po),go=R({},Ci,{animationName:0,elapsedTime:0,pseudoElement:0}),oa=an(go),la=R({},Ci,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Yn=an(la),yl=R({},Ci,{data:0}),Ii=an(yl),xi={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},_o={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},yo={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ua(e){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(e):(e=yo[e])?!!i[e]:!1}function Fr(){return ua}var wn=R({},yr,{key:function(e){if(e.key){var i=xi[e.key]||e.key;if(i!=="Unidentified")return i}return e.type==="keypress"?(e=Hr(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?_o[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Fr,charCode:function(e){return e.type==="keypress"?Hr(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Hr(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),vo=an(wn),vl=R({},ws,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Tr=an(vl),f=R({},yr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Fr}),E=an(f),A=R({},Ci,{propertyName:0,elapsedTime:0,pseudoElement:0}),x=an(A),X=R({},ws,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),nt=an(X),yt=R({},Ci,{newState:0,oldState:0}),zt=an(yt),le=[9,13,27,32],ue=kn&&"CompositionEvent"in window,Ie=null;kn&&"documentMode"in document&&(Ie=document.documentMode);var oi=kn&&"TextEvent"in window&&!Ie,li=kn&&(!ue||Ie&&8<Ie&&11>=Ie),Qn=" ",Ni=!1;function Ss(e,i){switch(e){case"keyup":return le.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function As(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var ca=!1;function Oi(e,i){switch(e){case"compositionend":return As(i);case"keypress":return i.which!==32?null:(Ni=!0,Qn);case"textInput":return e=i.data,e===Qn&&Ni?null:e;default:return null}}function ha(e,i){if(ca)return e==="compositionend"||!ue&&Ss(e,i)?(e=Ai(),Pe=_r=ai=null,ca=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return li&&i.locale!=="ko"?null:i.data;default:return null}}var yd={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function tr(e){var i=e&&e.nodeName&&e.nodeName.toLowerCase();return i==="input"?!!yd[e.type]:i==="textarea"}function Xc(e,i,o,c){jr?Dt?Dt.push(c):Dt=[c]:jr=c,i=jh(i,"onChange"),0<i.length&&(o=new Ji("onChange","change",null,o,c),e.push({event:o,listeners:i}))}var er=null,To=null;function Eo(e){Rv(e,0)}function wo(e){var i=vn(e);if(ye(i))return e}function bo(e,i){if(e==="change")return i}var Wc=!1;if(kn){var nr;if(kn){var fa="oninput"in document;if(!fa){var Jc=document.createElement("div");Jc.setAttribute("oninput","return;"),fa=typeof Jc.oninput=="function"}nr=fa}else nr=!1;Wc=nr&&(!document.documentMode||9<document.documentMode)}function Tl(){er&&(er.detachEvent("onpropertychange",th),To=er=null)}function th(e){if(e.propertyName==="value"&&wo(To)){var i=[];Xc(i,To,e,Dn(e)),pr(Eo,i)}}function Er(e,i,o){e==="focusin"?(Tl(),er=i,To=o,er.attachEvent("onpropertychange",th)):e==="focusout"&&Tl()}function vd(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return wo(To)}function da(e,i){if(e==="click")return wo(i)}function Td(e,i){if(e==="input"||e==="change")return wo(i)}function wr(e,i){return e===i&&(e!==0||1/e===1/i)||e!==e&&i!==i}var bn=typeof Object.is=="function"?Object.is:wr;function ma(e,i){if(bn(e,i))return!0;if(typeof e!="object"||e===null||typeof i!="object"||i===null)return!1;var o=Object.keys(e),c=Object.keys(i);if(o.length!==c.length)return!1;for(c=0;c<o.length;c++){var p=o[c];if(!Fe.call(i,p)||!bn(e[p],i[p]))return!1}return!0}function El(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function So(e,i){var o=El(e);e=0;for(var c;o;){if(o.nodeType===3){if(c=e+o.textContent.length,e<=i&&c>=i)return{node:o,offset:i-e};e=c}t:{for(;o;){if(o.nextSibling){o=o.nextSibling;break t}o=o.parentNode}o=void 0}o=El(o)}}function wl(e,i){return e&&i?e===i?!0:e&&e.nodeType===3?!1:i&&i.nodeType===3?wl(e,i.parentNode):"contains"in e?e.contains(i):e.compareDocumentPosition?!!(e.compareDocumentPosition(i)&16):!1:!1}function Ao(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var i=ri(e.document);i instanceof e.HTMLIFrameElement;){try{var o=typeof i.contentWindow.location.href=="string"}catch{o=!1}if(o)e=i.contentWindow;else break;i=ri(e.document)}return i}function Gr(e){var i=e&&e.nodeName&&e.nodeName.toLowerCase();return i&&(i==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||i==="textarea"||e.contentEditable==="true")}var bl=kn&&"documentMode"in document&&11>=document.documentMode,Zr=null,Sl=null,Ro=null,pa=!1;function eh(e,i,o){var c=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;pa||Zr==null||Zr!==ri(c)||(c=Zr,"selectionStart"in c&&Gr(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),Ro&&ma(Ro,c)||(Ro=c,c=jh(Sl,"onSelect"),0<c.length&&(i=new Ji("onSelect","select",null,i,o),e.push({event:i,listeners:c}),i.target=Zr)))}function Kr(e,i){var o={};return o[e.toLowerCase()]=i.toLowerCase(),o["Webkit"+e]="webkit"+i,o["Moz"+e]="moz"+i,o}var ga={animationend:Kr("Animation","AnimationEnd"),animationiteration:Kr("Animation","AnimationIteration"),animationstart:Kr("Animation","AnimationStart"),transitionrun:Kr("Transition","TransitionRun"),transitionstart:Kr("Transition","TransitionStart"),transitioncancel:Kr("Transition","TransitionCancel"),transitionend:Kr("Transition","TransitionEnd")},Al={},nh={};kn&&(nh=document.createElement("div").style,"AnimationEvent"in window||(delete ga.animationend.animation,delete ga.animationiteration.animation,delete ga.animationstart.animation),"TransitionEvent"in window||delete ga.transitionend.transition);function Sn(e){if(Al[e])return Al[e];if(!ga[e])return e;var i=ga[e],o;for(o in i)if(i.hasOwnProperty(o)&&o in nh)return Al[e]=i[o];return e}var Co=Sn("animationend"),ih=Sn("animationiteration"),Io=Sn("animationstart"),Ed=Sn("transitionrun"),rh=Sn("transitionstart"),wd=Sn("transitioncancel"),_a=Sn("transitionend"),sh=new Map,Yr="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Yr.push("scrollEnd");function ui(e,i){sh.set(e,i),Yi(i,[e])}var xo=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},ci=[],Un=0,Rl=0;function No(){for(var e=Un,i=Rl=Un=0;i<e;){var o=ci[i];ci[i++]=null;var c=ci[i];ci[i++]=null;var p=ci[i];ci[i++]=null;var g=ci[i];if(ci[i++]=null,c!==null&&p!==null){var b=c.pending;b===null?p.next=p:(p.next=b.next,b.next=p),c.pending=p}g!==0&&ya(o,p,g)}}function Qr(e,i,o,c){ci[Un++]=e,ci[Un++]=i,ci[Un++]=o,ci[Un++]=c,Rl|=c,e.lanes|=c,e=e.alternate,e!==null&&(e.lanes|=c)}function xu(e,i,o,c){return Qr(e,i,o,c),Oo(e)}function ir(e,i){return Qr(e,null,null,i),Oo(e)}function ya(e,i,o){e.lanes|=o;var c=e.alternate;c!==null&&(c.lanes|=o);for(var p=!1,g=e.return;g!==null;)g.childLanes|=o,c=g.alternate,c!==null&&(c.childLanes|=o),g.tag===22&&(e=g.stateNode,e===null||e._visibility&1||(p=!0)),e=g,g=g.return;return e.tag===3?(g=e.stateNode,p&&i!==null&&(p=31-Ve(o),e=g.hiddenUpdates,c=e[p],c===null?e[p]=[i]:c.push(i),i.lane=o|536870912),g):null}function Oo(e){if(50<tc)throw tc=0,Sm=null,Error(s(185));for(var i=e.return;i!==null;)e=i,i=e.return;return e.tag===3?e.stateNode:null}var Rs={};function bd(e,i,o,c){this.tag=e,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function zn(e,i,o,c){return new bd(e,i,o,c)}function Cl(e){return e=e.prototype,!(!e||!e.isReactComponent)}function rr(e,i){var o=e.alternate;return o===null?(o=zn(e.tag,i,e.key,e.mode),o.elementType=e.elementType,o.type=e.type,o.stateNode=e.stateNode,o.alternate=e,e.alternate=o):(o.pendingProps=i,o.type=e.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=e.flags&65011712,o.childLanes=e.childLanes,o.lanes=e.lanes,o.child=e.child,o.memoizedProps=e.memoizedProps,o.memoizedState=e.memoizedState,o.updateQueue=e.updateQueue,i=e.dependencies,o.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},o.sibling=e.sibling,o.index=e.index,o.ref=e.ref,o.refCleanup=e.refCleanup,o}function Nu(e,i){e.flags&=65011714;var o=e.alternate;return o===null?(e.childLanes=0,e.lanes=i,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=o.childLanes,e.lanes=o.lanes,e.child=o.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=o.memoizedProps,e.memoizedState=o.memoizedState,e.updateQueue=o.updateQueue,e.type=o.type,i=o.dependencies,e.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),e}function Lo(e,i,o,c,p,g){var b=0;if(c=e,typeof e=="function")Cl(e)&&(b=1);else if(typeof e=="string")b=gA(e,o,_t.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case P:return e=zn(31,o,i,p),e.elementType=P,e.lanes=g,e;case K:return Cs(o.children,p,g,i);case G:b=8,p|=24;break;case it:return e=zn(12,o,i,p|2),e.elementType=it,e.lanes=g,e;case Lt:return e=zn(13,o,i,p),e.elementType=Lt,e.lanes=g,e;case kt:return e=zn(19,o,i,p),e.elementType=kt,e.lanes=g,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case ct:b=10;break t;case rt:b=9;break t;case Ct:b=11;break t;case D:b=14;break t;case O:b=16,c=null;break t}b=29,o=Error(s(130,e===null?"null":typeof e,"")),c=null}return i=zn(b,o,i,p),i.elementType=e,i.type=c,i.lanes=g,i}function Cs(e,i,o,c){return e=zn(7,e,c,i),e.lanes=o,e}function Il(e,i,o){return e=zn(6,e,null,i),e.lanes=o,e}function Ou(e){var i=zn(18,null,null,0);return i.stateNode=e,i}function Lu(e,i,o){return i=zn(4,e.children!==null?e.children:[],e.key,i),i.lanes=o,i.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},i}var a=new WeakMap;function u(e,i){if(typeof e=="object"&&e!==null){var o=a.get(e);return o!==void 0?o:(i={value:e,source:i,stack:Dr(i)},a.set(e,i),i)}return{value:e,source:i,stack:Dr(i)}}var d=[],_=0,w=null,C=0,M=[],Q=0,tt=null,ht=1,Tt="";function Ot(e,i){d[_++]=C,d[_++]=w,w=e,C=i}function Zt(e,i,o){M[Q++]=ht,M[Q++]=Tt,M[Q++]=tt,tt=e;var c=ht;e=Tt;var p=32-Ve(c)-1;c&=~(1<<p),o+=1;var g=32-Ve(i)+p;if(30<g){var b=p-p%5;g=(c&(1<<b)-1).toString(32),c>>=b,p-=b,ht=1<<32-Ve(i)+p|o<<p|c,Tt=g+e}else ht=1<<g|o<<p|c,Tt=e}function pn(e){e.return!==null&&(Ot(e,1),Zt(e,1,0))}function Ye(e){for(;e===w;)w=d[--_],d[_]=null,C=d[--_],d[_]=null;for(;e===tt;)tt=M[--Q],M[Q]=null,Tt=M[--Q],M[Q]=null,ht=M[--Q],M[Q]=null}function $n(e,i){M[Q++]=ht,M[Q++]=Tt,M[Q++]=tt,ht=i.id,Tt=i.overflow,tt=e}var fe=null,de=null,Xt=!1,$r=null,hi=!1,xl=Error(s(519));function Xr(e){var i=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Po(u(i,e)),xl}function Pu(e){var i=e.stateNode,o=e.type,c=e.memoizedProps;switch(i[ze]=e,i[Ze]=c,o){case"dialog":Jt("cancel",i),Jt("close",i);break;case"iframe":case"object":case"embed":Jt("load",i);break;case"video":case"audio":for(o=0;o<nc.length;o++)Jt(nc[o],i);break;case"source":Jt("error",i);break;case"img":case"image":case"link":Jt("error",i),Jt("load",i);break;case"details":Jt("toggle",i);break;case"input":Jt("invalid",i),vs(i,c.value,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name,!0);break;case"select":Jt("invalid",i);break;case"textarea":Jt("invalid",i),si(i,c.value,c.defaultValue,c.children)}o=c.children,typeof o!="string"&&typeof o!="number"&&typeof o!="bigint"||i.textContent===""+o||c.suppressHydrationWarning===!0||Nv(i.textContent,o)?(c.popover!=null&&(Jt("beforetoggle",i),Jt("toggle",i)),c.onScroll!=null&&Jt("scroll",i),c.onScrollEnd!=null&&Jt("scrollend",i),c.onClick!=null&&(i.onclick=Mn),i=!0):i=!1,i||Xr(e,!0)}function Be(e){for(fe=e.return;fe;)switch(fe.tag){case 5:case 31:case 13:hi=!1;return;case 27:case 3:hi=!0;return;default:fe=fe.return}}function br(e){if(e!==fe)return!1;if(!Xt)return Be(e),Xt=!0,!1;var i=e.tag,o;if((o=i!==3&&i!==27)&&((o=i===5)&&(o=e.type,o=!(o!=="form"&&o!=="button")||zm(e.type,e.memoizedProps)),o=!o),o&&de&&Xr(e),Be(e),i===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(317));de=zv(e)}else if(i===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(317));de=zv(e)}else i===27?(i=de,La(e.type)?(e=Fm,Fm=null,de=e):de=i):de=fe?ar(e.stateNode.nextSibling):null;return!0}function Is(){de=fe=null,Xt=!1}function Mu(){var e=$r;return e!==null&&(pi===null?pi=e:pi.push.apply(pi,e),$r=null),e}function Po(e){$r===null?$r=[e]:$r.push(e)}var Mo=z(null),Wr=null,Sr=null;function va(e,i,o){gt(Mo,i._currentValue),i._currentValue=o}function xs(e){e._currentValue=Mo.current,ot(Mo)}function Sd(e,i,o){for(;e!==null;){var c=e.alternate;if((e.childLanes&i)!==i?(e.childLanes|=i,c!==null&&(c.childLanes|=i)):c!==null&&(c.childLanes&i)!==i&&(c.childLanes|=i),e===o)break;e=e.return}}function Ad(e,i,o,c){var p=e.child;for(p!==null&&(p.return=e);p!==null;){var g=p.dependencies;if(g!==null){var b=p.child;g=g.firstContext;t:for(;g!==null;){var I=g;g=p;for(var V=0;V<i.length;V++)if(I.context===i[V]){g.lanes|=o,I=g.alternate,I!==null&&(I.lanes|=o),Sd(g.return,o,e),c||(b=null);break t}g=I.next}}else if(p.tag===18){if(b=p.return,b===null)throw Error(s(341));b.lanes|=o,g=b.alternate,g!==null&&(g.lanes|=o),Sd(b,o,e),b=null}else b=p.child;if(b!==null)b.return=p;else for(b=p;b!==null;){if(b===e){b=null;break}if(p=b.sibling,p!==null){p.return=b.return,b=p;break}b=b.return}p=b}}function Nl(e,i,o,c){e=null;for(var p=i,g=!1;p!==null;){if(!g){if((p.flags&524288)!==0)g=!0;else if((p.flags&262144)!==0)break}if(p.tag===10){var b=p.alternate;if(b===null)throw Error(s(387));if(b=b.memoizedProps,b!==null){var I=p.type;bn(p.pendingProps.value,b.value)||(e!==null?e.push(I):e=[I])}}else if(p===Ht.current){if(b=p.alternate,b===null)throw Error(s(387));b.memoizedState.memoizedState!==p.memoizedState.memoizedState&&(e!==null?e.push(oc):e=[oc])}p=p.return}e!==null&&Ad(i,e,o,c),i.flags|=262144}function ah(e){for(e=e.firstContext;e!==null;){if(!bn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Do(e){Wr=e,Sr=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function In(e){return p_(Wr,e)}function oh(e,i){return Wr===null&&Do(e),p_(e,i)}function p_(e,i){var o=i._currentValue;if(i={context:i,memoizedValue:o,next:null},Sr===null){if(e===null)throw Error(s(308));Sr=i,e.dependencies={lanes:0,firstContext:i},e.flags|=524288}else Sr=Sr.next=i;return o}var fS=typeof AbortController<"u"?AbortController:function(){var e=[],i=this.signal={aborted:!1,addEventListener:function(o,c){e.push(c)}};this.abort=function(){i.aborted=!0,e.forEach(function(o){return o()})}},dS=r.unstable_scheduleCallback,mS=r.unstable_NormalPriority,on={$$typeof:ct,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Rd(){return{controller:new fS,data:new Map,refCount:0}}function Du(e){e.refCount--,e.refCount===0&&dS(mS,function(){e.controller.abort()})}var ku=null,Cd=0,Ol=0,Ll=null;function pS(e,i){if(ku===null){var o=ku=[];Cd=0,Ol=Nm(),Ll={status:"pending",value:void 0,then:function(c){o.push(c)}}}return Cd++,i.then(g_,g_),i}function g_(){if(--Cd===0&&ku!==null){Ll!==null&&(Ll.status="fulfilled");var e=ku;ku=null,Ol=0,Ll=null;for(var i=0;i<e.length;i++)(0,e[i])()}}function gS(e,i){var o=[],c={status:"pending",value:null,reason:null,then:function(p){o.push(p)}};return e.then(function(){c.status="fulfilled",c.value=i;for(var p=0;p<o.length;p++)(0,o[p])(i)},function(p){for(c.status="rejected",c.reason=p,p=0;p<o.length;p++)(0,o[p])(void 0)}),c}var __=at.S;at.S=function(e,i){tv=Cn(),typeof i=="object"&&i!==null&&typeof i.then=="function"&&pS(e,i),__!==null&&__(e,i)};var ko=z(null);function Id(){var e=ko.current;return e!==null?e:xe.pooledCache}function lh(e,i){i===null?gt(ko,ko.current):gt(ko,i.pool)}function y_(){var e=Id();return e===null?null:{parent:on._currentValue,pool:e}}var Pl=Error(s(460)),xd=Error(s(474)),uh=Error(s(542)),ch={then:function(){}};function v_(e){return e=e.status,e==="fulfilled"||e==="rejected"}function T_(e,i,o){switch(o=e[o],o===void 0?e.push(i):o!==i&&(i.then(Mn,Mn),i=o),i.status){case"fulfilled":return i.value;case"rejected":throw e=i.reason,w_(e),e;default:if(typeof i.status=="string")i.then(Mn,Mn);else{if(e=xe,e!==null&&100<e.shellSuspendCounter)throw Error(s(482));e=i,e.status="pending",e.then(function(c){if(i.status==="pending"){var p=i;p.status="fulfilled",p.value=c}},function(c){if(i.status==="pending"){var p=i;p.status="rejected",p.reason=c}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw e=i.reason,w_(e),e}throw Uo=i,Pl}}function Vo(e){try{var i=e._init;return i(e._payload)}catch(o){throw o!==null&&typeof o=="object"&&typeof o.then=="function"?(Uo=o,Pl):o}}var Uo=null;function E_(){if(Uo===null)throw Error(s(459));var e=Uo;return Uo=null,e}function w_(e){if(e===Pl||e===uh)throw Error(s(483))}var Ml=null,Vu=0;function hh(e){var i=Vu;return Vu+=1,Ml===null&&(Ml=[]),T_(Ml,e,i)}function Uu(e,i){i=i.props.ref,e.ref=i!==void 0?i:null}function fh(e,i){throw i.$$typeof===N?Error(s(525)):(e=Object.prototype.toString.call(i),Error(s(31,e==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":e)))}function b_(e){function i(Y,H){if(e){var W=Y.deletions;W===null?(Y.deletions=[H],Y.flags|=16):W.push(H)}}function o(Y,H){if(!e)return null;for(;H!==null;)i(Y,H),H=H.sibling;return null}function c(Y){for(var H=new Map;Y!==null;)Y.key!==null?H.set(Y.key,Y):H.set(Y.index,Y),Y=Y.sibling;return H}function p(Y,H){return Y=rr(Y,H),Y.index=0,Y.sibling=null,Y}function g(Y,H,W){return Y.index=W,e?(W=Y.alternate,W!==null?(W=W.index,W<H?(Y.flags|=67108866,H):W):(Y.flags|=67108866,H)):(Y.flags|=1048576,H)}function b(Y){return e&&Y.alternate===null&&(Y.flags|=67108866),Y}function I(Y,H,W,ut){return H===null||H.tag!==6?(H=Il(W,Y.mode,ut),H.return=Y,H):(H=p(H,W),H.return=Y,H)}function V(Y,H,W,ut){var Pt=W.type;return Pt===K?lt(Y,H,W.props.children,ut,W.key):H!==null&&(H.elementType===Pt||typeof Pt=="object"&&Pt!==null&&Pt.$$typeof===O&&Vo(Pt)===H.type)?(H=p(H,W.props),Uu(H,W),H.return=Y,H):(H=Lo(W.type,W.key,W.props,null,Y.mode,ut),Uu(H,W),H.return=Y,H)}function J(Y,H,W,ut){return H===null||H.tag!==4||H.stateNode.containerInfo!==W.containerInfo||H.stateNode.implementation!==W.implementation?(H=Lu(W,Y.mode,ut),H.return=Y,H):(H=p(H,W.children||[]),H.return=Y,H)}function lt(Y,H,W,ut,Pt){return H===null||H.tag!==7?(H=Cs(W,Y.mode,ut,Pt),H.return=Y,H):(H=p(H,W),H.return=Y,H)}function ft(Y,H,W){if(typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint")return H=Il(""+H,Y.mode,W),H.return=Y,H;if(typeof H=="object"&&H!==null){switch(H.$$typeof){case j:return W=Lo(H.type,H.key,H.props,null,Y.mode,W),Uu(W,H),W.return=Y,W;case B:return H=Lu(H,Y.mode,W),H.return=Y,H;case O:return H=Vo(H),ft(Y,H,W)}if(Je(H)||Z(H))return H=Cs(H,Y.mode,W,null),H.return=Y,H;if(typeof H.then=="function")return ft(Y,hh(H),W);if(H.$$typeof===ct)return ft(Y,oh(Y,H),W);fh(Y,H)}return null}function et(Y,H,W,ut){var Pt=H!==null?H.key:null;if(typeof W=="string"&&W!==""||typeof W=="number"||typeof W=="bigint")return Pt!==null?null:I(Y,H,""+W,ut);if(typeof W=="object"&&W!==null){switch(W.$$typeof){case j:return W.key===Pt?V(Y,H,W,ut):null;case B:return W.key===Pt?J(Y,H,W,ut):null;case O:return W=Vo(W),et(Y,H,W,ut)}if(Je(W)||Z(W))return Pt!==null?null:lt(Y,H,W,ut,null);if(typeof W.then=="function")return et(Y,H,hh(W),ut);if(W.$$typeof===ct)return et(Y,H,oh(Y,W),ut);fh(Y,W)}return null}function st(Y,H,W,ut,Pt){if(typeof ut=="string"&&ut!==""||typeof ut=="number"||typeof ut=="bigint")return Y=Y.get(W)||null,I(H,Y,""+ut,Pt);if(typeof ut=="object"&&ut!==null){switch(ut.$$typeof){case j:return Y=Y.get(ut.key===null?W:ut.key)||null,V(H,Y,ut,Pt);case B:return Y=Y.get(ut.key===null?W:ut.key)||null,J(H,Y,ut,Pt);case O:return ut=Vo(ut),st(Y,H,W,ut,Pt)}if(Je(ut)||Z(ut))return Y=Y.get(W)||null,lt(H,Y,ut,Pt,null);if(typeof ut.then=="function")return st(Y,H,W,hh(ut),Pt);if(ut.$$typeof===ct)return st(Y,H,W,oh(H,ut),Pt);fh(H,ut)}return null}function xt(Y,H,W,ut){for(var Pt=null,me=null,Nt=H,Kt=H=0,ie=null;Nt!==null&&Kt<W.length;Kt++){Nt.index>Kt?(ie=Nt,Nt=null):ie=Nt.sibling;var pe=et(Y,Nt,W[Kt],ut);if(pe===null){Nt===null&&(Nt=ie);break}e&&Nt&&pe.alternate===null&&i(Y,Nt),H=g(pe,H,Kt),me===null?Pt=pe:me.sibling=pe,me=pe,Nt=ie}if(Kt===W.length)return o(Y,Nt),Xt&&Ot(Y,Kt),Pt;if(Nt===null){for(;Kt<W.length;Kt++)Nt=ft(Y,W[Kt],ut),Nt!==null&&(H=g(Nt,H,Kt),me===null?Pt=Nt:me.sibling=Nt,me=Nt);return Xt&&Ot(Y,Kt),Pt}for(Nt=c(Nt);Kt<W.length;Kt++)ie=st(Nt,Y,Kt,W[Kt],ut),ie!==null&&(e&&ie.alternate!==null&&Nt.delete(ie.key===null?Kt:ie.key),H=g(ie,H,Kt),me===null?Pt=ie:me.sibling=ie,me=ie);return e&&Nt.forEach(function(Va){return i(Y,Va)}),Xt&&Ot(Y,Kt),Pt}function Vt(Y,H,W,ut){if(W==null)throw Error(s(151));for(var Pt=null,me=null,Nt=H,Kt=H=0,ie=null,pe=W.next();Nt!==null&&!pe.done;Kt++,pe=W.next()){Nt.index>Kt?(ie=Nt,Nt=null):ie=Nt.sibling;var Va=et(Y,Nt,pe.value,ut);if(Va===null){Nt===null&&(Nt=ie);break}e&&Nt&&Va.alternate===null&&i(Y,Nt),H=g(Va,H,Kt),me===null?Pt=Va:me.sibling=Va,me=Va,Nt=ie}if(pe.done)return o(Y,Nt),Xt&&Ot(Y,Kt),Pt;if(Nt===null){for(;!pe.done;Kt++,pe=W.next())pe=ft(Y,pe.value,ut),pe!==null&&(H=g(pe,H,Kt),me===null?Pt=pe:me.sibling=pe,me=pe);return Xt&&Ot(Y,Kt),Pt}for(Nt=c(Nt);!pe.done;Kt++,pe=W.next())pe=st(Nt,Y,Kt,pe.value,ut),pe!==null&&(e&&pe.alternate!==null&&Nt.delete(pe.key===null?Kt:pe.key),H=g(pe,H,Kt),me===null?Pt=pe:me.sibling=pe,me=pe);return e&&Nt.forEach(function(CA){return i(Y,CA)}),Xt&&Ot(Y,Kt),Pt}function Ae(Y,H,W,ut){if(typeof W=="object"&&W!==null&&W.type===K&&W.key===null&&(W=W.props.children),typeof W=="object"&&W!==null){switch(W.$$typeof){case j:t:{for(var Pt=W.key;H!==null;){if(H.key===Pt){if(Pt=W.type,Pt===K){if(H.tag===7){o(Y,H.sibling),ut=p(H,W.props.children),ut.return=Y,Y=ut;break t}}else if(H.elementType===Pt||typeof Pt=="object"&&Pt!==null&&Pt.$$typeof===O&&Vo(Pt)===H.type){o(Y,H.sibling),ut=p(H,W.props),Uu(ut,W),ut.return=Y,Y=ut;break t}o(Y,H);break}else i(Y,H);H=H.sibling}W.type===K?(ut=Cs(W.props.children,Y.mode,ut,W.key),ut.return=Y,Y=ut):(ut=Lo(W.type,W.key,W.props,null,Y.mode,ut),Uu(ut,W),ut.return=Y,Y=ut)}return b(Y);case B:t:{for(Pt=W.key;H!==null;){if(H.key===Pt)if(H.tag===4&&H.stateNode.containerInfo===W.containerInfo&&H.stateNode.implementation===W.implementation){o(Y,H.sibling),ut=p(H,W.children||[]),ut.return=Y,Y=ut;break t}else{o(Y,H);break}else i(Y,H);H=H.sibling}ut=Lu(W,Y.mode,ut),ut.return=Y,Y=ut}return b(Y);case O:return W=Vo(W),Ae(Y,H,W,ut)}if(Je(W))return xt(Y,H,W,ut);if(Z(W)){if(Pt=Z(W),typeof Pt!="function")throw Error(s(150));return W=Pt.call(W),Vt(Y,H,W,ut)}if(typeof W.then=="function")return Ae(Y,H,hh(W),ut);if(W.$$typeof===ct)return Ae(Y,H,oh(Y,W),ut);fh(Y,W)}return typeof W=="string"&&W!==""||typeof W=="number"||typeof W=="bigint"?(W=""+W,H!==null&&H.tag===6?(o(Y,H.sibling),ut=p(H,W),ut.return=Y,Y=ut):(o(Y,H),ut=Il(W,Y.mode,ut),ut.return=Y,Y=ut),b(Y)):o(Y,H)}return function(Y,H,W,ut){try{Vu=0;var Pt=Ae(Y,H,W,ut);return Ml=null,Pt}catch(Nt){if(Nt===Pl||Nt===uh)throw Nt;var me=zn(29,Nt,null,Y.mode);return me.lanes=ut,me.return=Y,me}finally{}}}var zo=b_(!0),S_=b_(!1),Ta=!1;function Nd(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Od(e,i){e=e.updateQueue,i.updateQueue===e&&(i.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Ea(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function wa(e,i,o){var c=e.updateQueue;if(c===null)return null;if(c=c.shared,(ge&2)!==0){var p=c.pending;return p===null?i.next=i:(i.next=p.next,p.next=i),c.pending=i,i=Oo(e),ya(e,null,o),i}return Qr(e,c,i,o),Oo(e)}function zu(e,i,o){if(i=i.updateQueue,i!==null&&(i=i.shared,(o&4194048)!==0)){var c=i.lanes;c&=e.pendingLanes,o|=c,i.lanes=o,lo(e,o)}}function Ld(e,i){var o=e.updateQueue,c=e.alternate;if(c!==null&&(c=c.updateQueue,o===c)){var p=null,g=null;if(o=o.firstBaseUpdate,o!==null){do{var b={lane:o.lane,tag:o.tag,payload:o.payload,callback:null,next:null};g===null?p=g=b:g=g.next=b,o=o.next}while(o!==null);g===null?p=g=i:g=g.next=i}else p=g=i;o={baseState:c.baseState,firstBaseUpdate:p,lastBaseUpdate:g,shared:c.shared,callbacks:c.callbacks},e.updateQueue=o;return}e=o.lastBaseUpdate,e===null?o.firstBaseUpdate=i:e.next=i,o.lastBaseUpdate=i}var Pd=!1;function Bu(){if(Pd){var e=Ll;if(e!==null)throw e}}function ju(e,i,o,c){Pd=!1;var p=e.updateQueue;Ta=!1;var g=p.firstBaseUpdate,b=p.lastBaseUpdate,I=p.shared.pending;if(I!==null){p.shared.pending=null;var V=I,J=V.next;V.next=null,b===null?g=J:b.next=J,b=V;var lt=e.alternate;lt!==null&&(lt=lt.updateQueue,I=lt.lastBaseUpdate,I!==b&&(I===null?lt.firstBaseUpdate=J:I.next=J,lt.lastBaseUpdate=V))}if(g!==null){var ft=p.baseState;b=0,lt=J=V=null,I=g;do{var et=I.lane&-536870913,st=et!==I.lane;if(st?(ne&et)===et:(c&et)===et){et!==0&&et===Ol&&(Pd=!0),lt!==null&&(lt=lt.next={lane:0,tag:I.tag,payload:I.payload,callback:null,next:null});t:{var xt=e,Vt=I;et=i;var Ae=o;switch(Vt.tag){case 1:if(xt=Vt.payload,typeof xt=="function"){ft=xt.call(Ae,ft,et);break t}ft=xt;break t;case 3:xt.flags=xt.flags&-65537|128;case 0:if(xt=Vt.payload,et=typeof xt=="function"?xt.call(Ae,ft,et):xt,et==null)break t;ft=R({},ft,et);break t;case 2:Ta=!0}}et=I.callback,et!==null&&(e.flags|=64,st&&(e.flags|=8192),st=p.callbacks,st===null?p.callbacks=[et]:st.push(et))}else st={lane:et,tag:I.tag,payload:I.payload,callback:I.callback,next:null},lt===null?(J=lt=st,V=ft):lt=lt.next=st,b|=et;if(I=I.next,I===null){if(I=p.shared.pending,I===null)break;st=I,I=st.next,st.next=null,p.lastBaseUpdate=st,p.shared.pending=null}}while(!0);lt===null&&(V=ft),p.baseState=V,p.firstBaseUpdate=J,p.lastBaseUpdate=lt,g===null&&(p.shared.lanes=0),Ca|=b,e.lanes=b,e.memoizedState=ft}}function A_(e,i){if(typeof e!="function")throw Error(s(191,e));e.call(i)}function R_(e,i){var o=e.callbacks;if(o!==null)for(e.callbacks=null,e=0;e<o.length;e++)A_(o[e],i)}var Dl=z(null),dh=z(0);function C_(e,i){e=Us,gt(dh,e),gt(Dl,i),Us=e|i.baseLanes}function Md(){gt(dh,Us),gt(Dl,Dl.current)}function Dd(){Us=dh.current,ot(Dl),ot(dh)}var Li=z(null),sr=null;function ba(e){var i=e.alternate;gt(en,en.current&1),gt(Li,e),sr===null&&(i===null||Dl.current!==null||i.memoizedState!==null)&&(sr=e)}function kd(e){gt(en,en.current),gt(Li,e),sr===null&&(sr=e)}function I_(e){e.tag===22?(gt(en,en.current),gt(Li,e),sr===null&&(sr=e)):Sa()}function Sa(){gt(en,en.current),gt(Li,Li.current)}function Pi(e){ot(Li),sr===e&&(sr=null),ot(en)}var en=z(0);function mh(e){for(var i=e;i!==null;){if(i.tag===13){var o=i.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||Hm(o)||qm(o)))return i}else if(i.tag===19&&(i.memoizedProps.revealOrder==="forwards"||i.memoizedProps.revealOrder==="backwards"||i.memoizedProps.revealOrder==="unstable_legacy-backwards"||i.memoizedProps.revealOrder==="together")){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===e)break;for(;i.sibling===null;){if(i.return===null||i.return===e)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var Ns=0,Gt=null,be=null,ln=null,ph=!1,kl=!1,Bo=!1,gh=0,Hu=0,Vl=null,_S=0;function Qe(){throw Error(s(321))}function Vd(e,i){if(i===null)return!1;for(var o=0;o<i.length&&o<e.length;o++)if(!bn(e[o],i[o]))return!1;return!0}function Ud(e,i,o,c,p,g){return Ns=g,Gt=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,at.H=e===null||e.memoizedState===null?hy:Jd,Bo=!1,g=o(c,p),Bo=!1,kl&&(g=N_(i,o,c,p)),x_(e),g}function x_(e){at.H=Gu;var i=be!==null&&be.next!==null;if(Ns=0,ln=be=Gt=null,ph=!1,Hu=0,Vl=null,i)throw Error(s(300));e===null||un||(e=e.dependencies,e!==null&&ah(e)&&(un=!0))}function N_(e,i,o,c){Gt=e;var p=0;do{if(kl&&(Vl=null),Hu=0,kl=!1,25<=p)throw Error(s(301));if(p+=1,ln=be=null,e.updateQueue!=null){var g=e.updateQueue;g.lastEffect=null,g.events=null,g.stores=null,g.memoCache!=null&&(g.memoCache.index=0)}at.H=fy,g=i(o,c)}while(kl);return g}function yS(){var e=at.H,i=e.useState()[0];return i=typeof i.then=="function"?qu(i):i,e=e.useState()[0],(be!==null?be.memoizedState:null)!==e&&(Gt.flags|=1024),i}function zd(){var e=gh!==0;return gh=0,e}function Bd(e,i,o){i.updateQueue=e.updateQueue,i.flags&=-2053,e.lanes&=~o}function jd(e){if(ph){for(e=e.memoizedState;e!==null;){var i=e.queue;i!==null&&(i.pending=null),e=e.next}ph=!1}Ns=0,ln=be=Gt=null,kl=!1,Hu=gh=0,Vl=null}function Xn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ln===null?Gt.memoizedState=ln=e:ln=ln.next=e,ln}function nn(){if(be===null){var e=Gt.alternate;e=e!==null?e.memoizedState:null}else e=be.next;var i=ln===null?Gt.memoizedState:ln.next;if(i!==null)ln=i,be=e;else{if(e===null)throw Gt.alternate===null?Error(s(467)):Error(s(310));be=e,e={memoizedState:be.memoizedState,baseState:be.baseState,baseQueue:be.baseQueue,queue:be.queue,next:null},ln===null?Gt.memoizedState=ln=e:ln=ln.next=e}return ln}function _h(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function qu(e){var i=Hu;return Hu+=1,Vl===null&&(Vl=[]),e=T_(Vl,e,i),i=Gt,(ln===null?i.memoizedState:ln.next)===null&&(i=i.alternate,at.H=i===null||i.memoizedState===null?hy:Jd),e}function yh(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return qu(e);if(e.$$typeof===ct)return In(e)}throw Error(s(438,String(e)))}function Hd(e){var i=null,o=Gt.updateQueue;if(o!==null&&(i=o.memoCache),i==null){var c=Gt.alternate;c!==null&&(c=c.updateQueue,c!==null&&(c=c.memoCache,c!=null&&(i={data:c.data.map(function(p){return p.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),o===null&&(o=_h(),Gt.updateQueue=o),o.memoCache=i,o=i.data[i.index],o===void 0)for(o=i.data[i.index]=Array(e),c=0;c<e;c++)o[c]=F;return i.index++,o}function Os(e,i){return typeof i=="function"?i(e):i}function vh(e){var i=nn();return qd(i,be,e)}function qd(e,i,o){var c=e.queue;if(c===null)throw Error(s(311));c.lastRenderedReducer=o;var p=e.baseQueue,g=c.pending;if(g!==null){if(p!==null){var b=p.next;p.next=g.next,g.next=b}i.baseQueue=p=g,c.pending=null}if(g=e.baseState,p===null)e.memoizedState=g;else{i=p.next;var I=b=null,V=null,J=i,lt=!1;do{var ft=J.lane&-536870913;if(ft!==J.lane?(ne&ft)===ft:(Ns&ft)===ft){var et=J.revertLane;if(et===0)V!==null&&(V=V.next={lane:0,revertLane:0,gesture:null,action:J.action,hasEagerState:J.hasEagerState,eagerState:J.eagerState,next:null}),ft===Ol&&(lt=!0);else if((Ns&et)===et){J=J.next,et===Ol&&(lt=!0);continue}else ft={lane:0,revertLane:J.revertLane,gesture:null,action:J.action,hasEagerState:J.hasEagerState,eagerState:J.eagerState,next:null},V===null?(I=V=ft,b=g):V=V.next=ft,Gt.lanes|=et,Ca|=et;ft=J.action,Bo&&o(g,ft),g=J.hasEagerState?J.eagerState:o(g,ft)}else et={lane:ft,revertLane:J.revertLane,gesture:J.gesture,action:J.action,hasEagerState:J.hasEagerState,eagerState:J.eagerState,next:null},V===null?(I=V=et,b=g):V=V.next=et,Gt.lanes|=ft,Ca|=ft;J=J.next}while(J!==null&&J!==i);if(V===null?b=g:V.next=I,!bn(g,e.memoizedState)&&(un=!0,lt&&(o=Ll,o!==null)))throw o;e.memoizedState=g,e.baseState=b,e.baseQueue=V,c.lastRenderedState=g}return p===null&&(c.lanes=0),[e.memoizedState,c.dispatch]}function Fd(e){var i=nn(),o=i.queue;if(o===null)throw Error(s(311));o.lastRenderedReducer=e;var c=o.dispatch,p=o.pending,g=i.memoizedState;if(p!==null){o.pending=null;var b=p=p.next;do g=e(g,b.action),b=b.next;while(b!==p);bn(g,i.memoizedState)||(un=!0),i.memoizedState=g,i.baseQueue===null&&(i.baseState=g),o.lastRenderedState=g}return[g,c]}function O_(e,i,o){var c=Gt,p=nn(),g=Xt;if(g){if(o===void 0)throw Error(s(407));o=o()}else o=i();var b=!bn((be||p).memoizedState,o);if(b&&(p.memoizedState=o,un=!0),p=p.queue,Kd(M_.bind(null,c,p,e),[e]),p.getSnapshot!==i||b||ln!==null&&ln.memoizedState.tag&1){if(c.flags|=2048,Ul(9,{destroy:void 0},P_.bind(null,c,p,o,i),null),xe===null)throw Error(s(349));g||(Ns&127)!==0||L_(c,i,o)}return o}function L_(e,i,o){e.flags|=16384,e={getSnapshot:i,value:o},i=Gt.updateQueue,i===null?(i=_h(),Gt.updateQueue=i,i.stores=[e]):(o=i.stores,o===null?i.stores=[e]:o.push(e))}function P_(e,i,o,c){i.value=o,i.getSnapshot=c,D_(i)&&k_(e)}function M_(e,i,o){return o(function(){D_(i)&&k_(e)})}function D_(e){var i=e.getSnapshot;e=e.value;try{var o=i();return!bn(e,o)}catch{return!0}}function k_(e){var i=ir(e,2);i!==null&&gi(i,e,2)}function Gd(e){var i=Xn();if(typeof e=="function"){var o=e;if(e=o(),Bo){Gn(!0);try{o()}finally{Gn(!1)}}}return i.memoizedState=i.baseState=e,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Os,lastRenderedState:e},i}function V_(e,i,o,c){return e.baseState=o,qd(e,be,typeof c=="function"?c:Os)}function vS(e,i,o,c,p){if(wh(e))throw Error(s(485));if(e=i.action,e!==null){var g={payload:p,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(b){g.listeners.push(b)}};at.T!==null?o(!0):g.isTransition=!1,c(g),o=i.pending,o===null?(g.next=i.pending=g,U_(i,g)):(g.next=o.next,i.pending=o.next=g)}}function U_(e,i){var o=i.action,c=i.payload,p=e.state;if(i.isTransition){var g=at.T,b={};at.T=b;try{var I=o(p,c),V=at.S;V!==null&&V(b,I),z_(e,i,I)}catch(J){Zd(e,i,J)}finally{g!==null&&b.types!==null&&(g.types=b.types),at.T=g}}else try{g=o(p,c),z_(e,i,g)}catch(J){Zd(e,i,J)}}function z_(e,i,o){o!==null&&typeof o=="object"&&typeof o.then=="function"?o.then(function(c){B_(e,i,c)},function(c){return Zd(e,i,c)}):B_(e,i,o)}function B_(e,i,o){i.status="fulfilled",i.value=o,j_(i),e.state=o,i=e.pending,i!==null&&(o=i.next,o===i?e.pending=null:(o=o.next,i.next=o,U_(e,o)))}function Zd(e,i,o){var c=e.pending;if(e.pending=null,c!==null){c=c.next;do i.status="rejected",i.reason=o,j_(i),i=i.next;while(i!==c)}e.action=null}function j_(e){e=e.listeners;for(var i=0;i<e.length;i++)(0,e[i])()}function H_(e,i){return i}function q_(e,i){if(Xt){var o=xe.formState;if(o!==null){t:{var c=Gt;if(Xt){if(de){e:{for(var p=de,g=hi;p.nodeType!==8;){if(!g){p=null;break e}if(p=ar(p.nextSibling),p===null){p=null;break e}}g=p.data,p=g==="F!"||g==="F"?p:null}if(p){de=ar(p.nextSibling),c=p.data==="F!";break t}}Xr(c)}c=!1}c&&(i=o[0])}}return o=Xn(),o.memoizedState=o.baseState=i,c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:H_,lastRenderedState:i},o.queue=c,o=ly.bind(null,Gt,c),c.dispatch=o,c=Gd(!1),g=Wd.bind(null,Gt,!1,c.queue),c=Xn(),p={state:i,dispatch:null,action:e,pending:null},c.queue=p,o=vS.bind(null,Gt,p,g,o),p.dispatch=o,c.memoizedState=e,[i,o,!1]}function F_(e){var i=nn();return G_(i,be,e)}function G_(e,i,o){if(i=qd(e,i,H_)[0],e=vh(Os)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var c=qu(i)}catch(b){throw b===Pl?uh:b}else c=i;i=nn();var p=i.queue,g=p.dispatch;return o!==i.memoizedState&&(Gt.flags|=2048,Ul(9,{destroy:void 0},TS.bind(null,p,o),null)),[c,g,e]}function TS(e,i){e.action=i}function Z_(e){var i=nn(),o=be;if(o!==null)return G_(i,o,e);nn(),i=i.memoizedState,o=nn();var c=o.queue.dispatch;return o.memoizedState=e,[i,c,!1]}function Ul(e,i,o,c){return e={tag:e,create:o,deps:c,inst:i,next:null},i=Gt.updateQueue,i===null&&(i=_h(),Gt.updateQueue=i),o=i.lastEffect,o===null?i.lastEffect=e.next=e:(c=o.next,o.next=e,e.next=c,i.lastEffect=e),e}function K_(){return nn().memoizedState}function Th(e,i,o,c){var p=Xn();Gt.flags|=e,p.memoizedState=Ul(1|i,{destroy:void 0},o,c===void 0?null:c)}function Eh(e,i,o,c){var p=nn();c=c===void 0?null:c;var g=p.memoizedState.inst;be!==null&&c!==null&&Vd(c,be.memoizedState.deps)?p.memoizedState=Ul(i,g,o,c):(Gt.flags|=e,p.memoizedState=Ul(1|i,g,o,c))}function Y_(e,i){Th(8390656,8,e,i)}function Kd(e,i){Eh(2048,8,e,i)}function ES(e){Gt.flags|=4;var i=Gt.updateQueue;if(i===null)i=_h(),Gt.updateQueue=i,i.events=[e];else{var o=i.events;o===null?i.events=[e]:o.push(e)}}function Q_(e){var i=nn().memoizedState;return ES({ref:i,nextImpl:e}),function(){if((ge&2)!==0)throw Error(s(440));return i.impl.apply(void 0,arguments)}}function $_(e,i){return Eh(4,2,e,i)}function X_(e,i){return Eh(4,4,e,i)}function W_(e,i){if(typeof i=="function"){e=e();var o=i(e);return function(){typeof o=="function"?o():i(null)}}if(i!=null)return e=e(),i.current=e,function(){i.current=null}}function J_(e,i,o){o=o!=null?o.concat([e]):null,Eh(4,4,W_.bind(null,i,e),o)}function Yd(){}function ty(e,i){var o=nn();i=i===void 0?null:i;var c=o.memoizedState;return i!==null&&Vd(i,c[1])?c[0]:(o.memoizedState=[e,i],e)}function ey(e,i){var o=nn();i=i===void 0?null:i;var c=o.memoizedState;if(i!==null&&Vd(i,c[1]))return c[0];if(c=e(),Bo){Gn(!0);try{e()}finally{Gn(!1)}}return o.memoizedState=[c,i],c}function Qd(e,i,o){return o===void 0||(Ns&1073741824)!==0&&(ne&261930)===0?e.memoizedState=i:(e.memoizedState=o,e=nv(),Gt.lanes|=e,Ca|=e,o)}function ny(e,i,o,c){return bn(o,i)?o:Dl.current!==null?(e=Qd(e,o,c),bn(e,i)||(un=!0),e):(Ns&42)===0||(Ns&1073741824)!==0&&(ne&261930)===0?(un=!0,e.memoizedState=o):(e=nv(),Gt.lanes|=e,Ca|=e,i)}function iy(e,i,o,c,p){var g=vt.p;vt.p=g!==0&&8>g?g:8;var b=at.T,I={};at.T=I,Wd(e,!1,i,o);try{var V=p(),J=at.S;if(J!==null&&J(I,V),V!==null&&typeof V=="object"&&typeof V.then=="function"){var lt=gS(V,c);Fu(e,i,lt,ki(e))}else Fu(e,i,c,ki(e))}catch(ft){Fu(e,i,{then:function(){},status:"rejected",reason:ft},ki())}finally{vt.p=g,b!==null&&I.types!==null&&(b.types=I.types),at.T=b}}function wS(){}function $d(e,i,o,c){if(e.tag!==5)throw Error(s(476));var p=ry(e).queue;iy(e,p,i,pt,o===null?wS:function(){return sy(e),o(c)})}function ry(e){var i=e.memoizedState;if(i!==null)return i;i={memoizedState:pt,baseState:pt,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Os,lastRenderedState:pt},next:null};var o={};return i.next={memoizedState:o,baseState:o,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Os,lastRenderedState:o},next:null},e.memoizedState=i,e=e.alternate,e!==null&&(e.memoizedState=i),i}function sy(e){var i=ry(e);i.next===null&&(i=e.alternate.memoizedState),Fu(e,i.next.queue,{},ki())}function Xd(){return In(oc)}function ay(){return nn().memoizedState}function oy(){return nn().memoizedState}function bS(e){for(var i=e.return;i!==null;){switch(i.tag){case 24:case 3:var o=ki();e=Ea(o);var c=wa(i,e,o);c!==null&&(gi(c,i,o),zu(c,i,o)),i={cache:Rd()},e.payload=i;return}i=i.return}}function SS(e,i,o){var c=ki();o={lane:c,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},wh(e)?uy(i,o):(o=xu(e,i,o,c),o!==null&&(gi(o,e,c),cy(o,i,c)))}function ly(e,i,o){var c=ki();Fu(e,i,o,c)}function Fu(e,i,o,c){var p={lane:c,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null};if(wh(e))uy(i,p);else{var g=e.alternate;if(e.lanes===0&&(g===null||g.lanes===0)&&(g=i.lastRenderedReducer,g!==null))try{var b=i.lastRenderedState,I=g(b,o);if(p.hasEagerState=!0,p.eagerState=I,bn(I,b))return Qr(e,i,p,0),xe===null&&No(),!1}catch{}finally{}if(o=xu(e,i,p,c),o!==null)return gi(o,e,c),cy(o,i,c),!0}return!1}function Wd(e,i,o,c){if(c={lane:2,revertLane:Nm(),gesture:null,action:c,hasEagerState:!1,eagerState:null,next:null},wh(e)){if(i)throw Error(s(479))}else i=xu(e,o,c,2),i!==null&&gi(i,e,2)}function wh(e){var i=e.alternate;return e===Gt||i!==null&&i===Gt}function uy(e,i){kl=ph=!0;var o=e.pending;o===null?i.next=i:(i.next=o.next,o.next=i),e.pending=i}function cy(e,i,o){if((o&4194048)!==0){var c=i.lanes;c&=e.pendingLanes,o|=c,i.lanes=o,lo(e,o)}}var Gu={readContext:In,use:yh,useCallback:Qe,useContext:Qe,useEffect:Qe,useImperativeHandle:Qe,useLayoutEffect:Qe,useInsertionEffect:Qe,useMemo:Qe,useReducer:Qe,useRef:Qe,useState:Qe,useDebugValue:Qe,useDeferredValue:Qe,useTransition:Qe,useSyncExternalStore:Qe,useId:Qe,useHostTransitionStatus:Qe,useFormState:Qe,useActionState:Qe,useOptimistic:Qe,useMemoCache:Qe,useCacheRefresh:Qe};Gu.useEffectEvent=Qe;var hy={readContext:In,use:yh,useCallback:function(e,i){return Xn().memoizedState=[e,i===void 0?null:i],e},useContext:In,useEffect:Y_,useImperativeHandle:function(e,i,o){o=o!=null?o.concat([e]):null,Th(4194308,4,W_.bind(null,i,e),o)},useLayoutEffect:function(e,i){return Th(4194308,4,e,i)},useInsertionEffect:function(e,i){Th(4,2,e,i)},useMemo:function(e,i){var o=Xn();i=i===void 0?null:i;var c=e();if(Bo){Gn(!0);try{e()}finally{Gn(!1)}}return o.memoizedState=[c,i],c},useReducer:function(e,i,o){var c=Xn();if(o!==void 0){var p=o(i);if(Bo){Gn(!0);try{o(i)}finally{Gn(!1)}}}else p=i;return c.memoizedState=c.baseState=p,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:p},c.queue=e,e=e.dispatch=SS.bind(null,Gt,e),[c.memoizedState,e]},useRef:function(e){var i=Xn();return e={current:e},i.memoizedState=e},useState:function(e){e=Gd(e);var i=e.queue,o=ly.bind(null,Gt,i);return i.dispatch=o,[e.memoizedState,o]},useDebugValue:Yd,useDeferredValue:function(e,i){var o=Xn();return Qd(o,e,i)},useTransition:function(){var e=Gd(!1);return e=iy.bind(null,Gt,e.queue,!0,!1),Xn().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,i,o){var c=Gt,p=Xn();if(Xt){if(o===void 0)throw Error(s(407));o=o()}else{if(o=i(),xe===null)throw Error(s(349));(ne&127)!==0||L_(c,i,o)}p.memoizedState=o;var g={value:o,getSnapshot:i};return p.queue=g,Y_(M_.bind(null,c,g,e),[e]),c.flags|=2048,Ul(9,{destroy:void 0},P_.bind(null,c,g,o,i),null),o},useId:function(){var e=Xn(),i=xe.identifierPrefix;if(Xt){var o=Tt,c=ht;o=(c&~(1<<32-Ve(c)-1)).toString(32)+o,i="_"+i+"R_"+o,o=gh++,0<o&&(i+="H"+o.toString(32)),i+="_"}else o=_S++,i="_"+i+"r_"+o.toString(32)+"_";return e.memoizedState=i},useHostTransitionStatus:Xd,useFormState:q_,useActionState:q_,useOptimistic:function(e){var i=Xn();i.memoizedState=i.baseState=e;var o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=o,i=Wd.bind(null,Gt,!0,o),o.dispatch=i,[e,i]},useMemoCache:Hd,useCacheRefresh:function(){return Xn().memoizedState=bS.bind(null,Gt)},useEffectEvent:function(e){var i=Xn(),o={impl:e};return i.memoizedState=o,function(){if((ge&2)!==0)throw Error(s(440));return o.impl.apply(void 0,arguments)}}},Jd={readContext:In,use:yh,useCallback:ty,useContext:In,useEffect:Kd,useImperativeHandle:J_,useInsertionEffect:$_,useLayoutEffect:X_,useMemo:ey,useReducer:vh,useRef:K_,useState:function(){return vh(Os)},useDebugValue:Yd,useDeferredValue:function(e,i){var o=nn();return ny(o,be.memoizedState,e,i)},useTransition:function(){var e=vh(Os)[0],i=nn().memoizedState;return[typeof e=="boolean"?e:qu(e),i]},useSyncExternalStore:O_,useId:ay,useHostTransitionStatus:Xd,useFormState:F_,useActionState:F_,useOptimistic:function(e,i){var o=nn();return V_(o,be,e,i)},useMemoCache:Hd,useCacheRefresh:oy};Jd.useEffectEvent=Q_;var fy={readContext:In,use:yh,useCallback:ty,useContext:In,useEffect:Kd,useImperativeHandle:J_,useInsertionEffect:$_,useLayoutEffect:X_,useMemo:ey,useReducer:Fd,useRef:K_,useState:function(){return Fd(Os)},useDebugValue:Yd,useDeferredValue:function(e,i){var o=nn();return be===null?Qd(o,e,i):ny(o,be.memoizedState,e,i)},useTransition:function(){var e=Fd(Os)[0],i=nn().memoizedState;return[typeof e=="boolean"?e:qu(e),i]},useSyncExternalStore:O_,useId:ay,useHostTransitionStatus:Xd,useFormState:Z_,useActionState:Z_,useOptimistic:function(e,i){var o=nn();return be!==null?V_(o,be,e,i):(o.baseState=e,[e,o.queue.dispatch])},useMemoCache:Hd,useCacheRefresh:oy};fy.useEffectEvent=Q_;function tm(e,i,o,c){i=e.memoizedState,o=o(c,i),o=o==null?i:R({},i,o),e.memoizedState=o,e.lanes===0&&(e.updateQueue.baseState=o)}var em={enqueueSetState:function(e,i,o){e=e._reactInternals;var c=ki(),p=Ea(c);p.payload=i,o!=null&&(p.callback=o),i=wa(e,p,c),i!==null&&(gi(i,e,c),zu(i,e,c))},enqueueReplaceState:function(e,i,o){e=e._reactInternals;var c=ki(),p=Ea(c);p.tag=1,p.payload=i,o!=null&&(p.callback=o),i=wa(e,p,c),i!==null&&(gi(i,e,c),zu(i,e,c))},enqueueForceUpdate:function(e,i){e=e._reactInternals;var o=ki(),c=Ea(o);c.tag=2,i!=null&&(c.callback=i),i=wa(e,c,o),i!==null&&(gi(i,e,o),zu(i,e,o))}};function dy(e,i,o,c,p,g,b){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(c,g,b):i.prototype&&i.prototype.isPureReactComponent?!ma(o,c)||!ma(p,g):!0}function my(e,i,o,c){e=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(o,c),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(o,c),i.state!==e&&em.enqueueReplaceState(i,i.state,null)}function jo(e,i){var o=i;if("ref"in i){o={};for(var c in i)c!=="ref"&&(o[c]=i[c])}if(e=e.defaultProps){o===i&&(o=R({},o));for(var p in e)o[p]===void 0&&(o[p]=e[p])}return o}function py(e){xo(e)}function gy(e){console.error(e)}function _y(e){xo(e)}function bh(e,i){try{var o=e.onUncaughtError;o(i.value,{componentStack:i.stack})}catch(c){setTimeout(function(){throw c})}}function yy(e,i,o){try{var c=e.onCaughtError;c(o.value,{componentStack:o.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(p){setTimeout(function(){throw p})}}function nm(e,i,o){return o=Ea(o),o.tag=3,o.payload={element:null},o.callback=function(){bh(e,i)},o}function vy(e){return e=Ea(e),e.tag=3,e}function Ty(e,i,o,c){var p=o.type.getDerivedStateFromError;if(typeof p=="function"){var g=c.value;e.payload=function(){return p(g)},e.callback=function(){yy(i,o,c)}}var b=o.stateNode;b!==null&&typeof b.componentDidCatch=="function"&&(e.callback=function(){yy(i,o,c),typeof p!="function"&&(Ia===null?Ia=new Set([this]):Ia.add(this));var I=c.stack;this.componentDidCatch(c.value,{componentStack:I!==null?I:""})})}function AS(e,i,o,c,p){if(o.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){if(i=o.alternate,i!==null&&Nl(i,o,p,!0),o=Li.current,o!==null){switch(o.tag){case 31:case 13:return sr===null?Dh():o.alternate===null&&$e===0&&($e=3),o.flags&=-257,o.flags|=65536,o.lanes=p,c===ch?o.flags|=16384:(i=o.updateQueue,i===null?o.updateQueue=new Set([c]):i.add(c),Cm(e,c,p)),!1;case 22:return o.flags|=65536,c===ch?o.flags|=16384:(i=o.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([c])},o.updateQueue=i):(o=i.retryQueue,o===null?i.retryQueue=new Set([c]):o.add(c)),Cm(e,c,p)),!1}throw Error(s(435,o.tag))}return Cm(e,c,p),Dh(),!1}if(Xt)return i=Li.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=p,c!==xl&&(e=Error(s(422),{cause:c}),Po(u(e,o)))):(c!==xl&&(i=Error(s(423),{cause:c}),Po(u(i,o))),e=e.current.alternate,e.flags|=65536,p&=-p,e.lanes|=p,c=u(c,o),p=nm(e.stateNode,c,p),Ld(e,p),$e!==4&&($e=2)),!1;var g=Error(s(520),{cause:c});if(g=u(g,o),Ju===null?Ju=[g]:Ju.push(g),$e!==4&&($e=2),i===null)return!0;c=u(c,o),o=i;do{switch(o.tag){case 3:return o.flags|=65536,e=p&-p,o.lanes|=e,e=nm(o.stateNode,c,e),Ld(o,e),!1;case 1:if(i=o.type,g=o.stateNode,(o.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(Ia===null||!Ia.has(g))))return o.flags|=65536,p&=-p,o.lanes|=p,p=vy(p),Ty(p,e,o,c),Ld(o,p),!1}o=o.return}while(o!==null);return!1}var im=Error(s(461)),un=!1;function xn(e,i,o,c){i.child=e===null?S_(i,null,o,c):zo(i,e.child,o,c)}function Ey(e,i,o,c,p){o=o.render;var g=i.ref;if("ref"in c){var b={};for(var I in c)I!=="ref"&&(b[I]=c[I])}else b=c;return Do(i),c=Ud(e,i,o,b,g,p),I=zd(),e!==null&&!un?(Bd(e,i,p),Ls(e,i,p)):(Xt&&I&&pn(i),i.flags|=1,xn(e,i,c,p),i.child)}function wy(e,i,o,c,p){if(e===null){var g=o.type;return typeof g=="function"&&!Cl(g)&&g.defaultProps===void 0&&o.compare===null?(i.tag=15,i.type=g,by(e,i,g,c,p)):(e=Lo(o.type,null,c,i,i.mode,p),e.ref=i.ref,e.return=i,i.child=e)}if(g=e.child,!hm(e,p)){var b=g.memoizedProps;if(o=o.compare,o=o!==null?o:ma,o(b,c)&&e.ref===i.ref)return Ls(e,i,p)}return i.flags|=1,e=rr(g,c),e.ref=i.ref,e.return=i,i.child=e}function by(e,i,o,c,p){if(e!==null){var g=e.memoizedProps;if(ma(g,c)&&e.ref===i.ref)if(un=!1,i.pendingProps=c=g,hm(e,p))(e.flags&131072)!==0&&(un=!0);else return i.lanes=e.lanes,Ls(e,i,p)}return rm(e,i,o,c,p)}function Sy(e,i,o,c){var p=c.children,g=e!==null?e.memoizedState:null;if(e===null&&i.stateNode===null&&(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),c.mode==="hidden"){if((i.flags&128)!==0){if(g=g!==null?g.baseLanes|o:o,e!==null){for(c=i.child=e.child,p=0;c!==null;)p=p|c.lanes|c.childLanes,c=c.sibling;c=p&~g}else c=0,i.child=null;return Ay(e,i,g,o,c)}if((o&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},e!==null&&lh(i,g!==null?g.cachePool:null),g!==null?C_(i,g):Md(),I_(i);else return c=i.lanes=536870912,Ay(e,i,g!==null?g.baseLanes|o:o,o,c)}else g!==null?(lh(i,g.cachePool),C_(i,g),Sa(),i.memoizedState=null):(e!==null&&lh(i,null),Md(),Sa());return xn(e,i,p,o),i.child}function Zu(e,i){return e!==null&&e.tag===22||i.stateNode!==null||(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),i.sibling}function Ay(e,i,o,c,p){var g=Id();return g=g===null?null:{parent:on._currentValue,pool:g},i.memoizedState={baseLanes:o,cachePool:g},e!==null&&lh(i,null),Md(),I_(i),e!==null&&Nl(e,i,c,!0),i.childLanes=p,null}function Sh(e,i){return i=Rh({mode:i.mode,children:i.children},e.mode),i.ref=e.ref,e.child=i,i.return=e,i}function Ry(e,i,o){return zo(i,e.child,null,o),e=Sh(i,i.pendingProps),e.flags|=2,Pi(i),i.memoizedState=null,e}function RS(e,i,o){var c=i.pendingProps,p=(i.flags&128)!==0;if(i.flags&=-129,e===null){if(Xt){if(c.mode==="hidden")return e=Sh(i,c),i.lanes=536870912,Zu(null,e);if(kd(i),(e=de)?(e=Uv(e,hi),e=e!==null&&e.data==="&"?e:null,e!==null&&(i.memoizedState={dehydrated:e,treeContext:tt!==null?{id:ht,overflow:Tt}:null,retryLane:536870912,hydrationErrors:null},o=Ou(e),o.return=i,i.child=o,fe=i,de=null)):e=null,e===null)throw Xr(i);return i.lanes=536870912,null}return Sh(i,c)}var g=e.memoizedState;if(g!==null){var b=g.dehydrated;if(kd(i),p)if(i.flags&256)i.flags&=-257,i=Ry(e,i,o);else if(i.memoizedState!==null)i.child=e.child,i.flags|=128,i=null;else throw Error(s(558));else if(un||Nl(e,i,o,!1),p=(o&e.childLanes)!==0,un||p){if(c=xe,c!==null&&(b=uo(c,o),b!==0&&b!==g.retryLane))throw g.retryLane=b,ir(e,b),gi(c,e,b),im;Dh(),i=Ry(e,i,o)}else e=g.treeContext,de=ar(b.nextSibling),fe=i,Xt=!0,$r=null,hi=!1,e!==null&&$n(i,e),i=Sh(i,c),i.flags|=4096;return i}return e=rr(e.child,{mode:c.mode,children:c.children}),e.ref=i.ref,i.child=e,e.return=i,e}function Ah(e,i){var o=i.ref;if(o===null)e!==null&&e.ref!==null&&(i.flags|=4194816);else{if(typeof o!="function"&&typeof o!="object")throw Error(s(284));(e===null||e.ref!==o)&&(i.flags|=4194816)}}function rm(e,i,o,c,p){return Do(i),o=Ud(e,i,o,c,void 0,p),c=zd(),e!==null&&!un?(Bd(e,i,p),Ls(e,i,p)):(Xt&&c&&pn(i),i.flags|=1,xn(e,i,o,p),i.child)}function Cy(e,i,o,c,p,g){return Do(i),i.updateQueue=null,o=N_(i,c,o,p),x_(e),c=zd(),e!==null&&!un?(Bd(e,i,g),Ls(e,i,g)):(Xt&&c&&pn(i),i.flags|=1,xn(e,i,o,g),i.child)}function Iy(e,i,o,c,p){if(Do(i),i.stateNode===null){var g=Rs,b=o.contextType;typeof b=="object"&&b!==null&&(g=In(b)),g=new o(c,g),i.memoizedState=g.state!==null&&g.state!==void 0?g.state:null,g.updater=em,i.stateNode=g,g._reactInternals=i,g=i.stateNode,g.props=c,g.state=i.memoizedState,g.refs={},Nd(i),b=o.contextType,g.context=typeof b=="object"&&b!==null?In(b):Rs,g.state=i.memoizedState,b=o.getDerivedStateFromProps,typeof b=="function"&&(tm(i,o,b,c),g.state=i.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof g.getSnapshotBeforeUpdate=="function"||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(b=g.state,typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount(),b!==g.state&&em.enqueueReplaceState(g,g.state,null),ju(i,c,g,p),Bu(),g.state=i.memoizedState),typeof g.componentDidMount=="function"&&(i.flags|=4194308),c=!0}else if(e===null){g=i.stateNode;var I=i.memoizedProps,V=jo(o,I);g.props=V;var J=g.context,lt=o.contextType;b=Rs,typeof lt=="object"&&lt!==null&&(b=In(lt));var ft=o.getDerivedStateFromProps;lt=typeof ft=="function"||typeof g.getSnapshotBeforeUpdate=="function",I=i.pendingProps!==I,lt||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(I||J!==b)&&my(i,g,c,b),Ta=!1;var et=i.memoizedState;g.state=et,ju(i,c,g,p),Bu(),J=i.memoizedState,I||et!==J||Ta?(typeof ft=="function"&&(tm(i,o,ft,c),J=i.memoizedState),(V=Ta||dy(i,o,V,c,et,J,b))?(lt||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount()),typeof g.componentDidMount=="function"&&(i.flags|=4194308)):(typeof g.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=c,i.memoizedState=J),g.props=c,g.state=J,g.context=b,c=V):(typeof g.componentDidMount=="function"&&(i.flags|=4194308),c=!1)}else{g=i.stateNode,Od(e,i),b=i.memoizedProps,lt=jo(o,b),g.props=lt,ft=i.pendingProps,et=g.context,J=o.contextType,V=Rs,typeof J=="object"&&J!==null&&(V=In(J)),I=o.getDerivedStateFromProps,(J=typeof I=="function"||typeof g.getSnapshotBeforeUpdate=="function")||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(b!==ft||et!==V)&&my(i,g,c,V),Ta=!1,et=i.memoizedState,g.state=et,ju(i,c,g,p),Bu();var st=i.memoizedState;b!==ft||et!==st||Ta||e!==null&&e.dependencies!==null&&ah(e.dependencies)?(typeof I=="function"&&(tm(i,o,I,c),st=i.memoizedState),(lt=Ta||dy(i,o,lt,c,et,st,V)||e!==null&&e.dependencies!==null&&ah(e.dependencies))?(J||typeof g.UNSAFE_componentWillUpdate!="function"&&typeof g.componentWillUpdate!="function"||(typeof g.componentWillUpdate=="function"&&g.componentWillUpdate(c,st,V),typeof g.UNSAFE_componentWillUpdate=="function"&&g.UNSAFE_componentWillUpdate(c,st,V)),typeof g.componentDidUpdate=="function"&&(i.flags|=4),typeof g.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof g.componentDidUpdate!="function"||b===e.memoizedProps&&et===e.memoizedState||(i.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||b===e.memoizedProps&&et===e.memoizedState||(i.flags|=1024),i.memoizedProps=c,i.memoizedState=st),g.props=c,g.state=st,g.context=V,c=lt):(typeof g.componentDidUpdate!="function"||b===e.memoizedProps&&et===e.memoizedState||(i.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||b===e.memoizedProps&&et===e.memoizedState||(i.flags|=1024),c=!1)}return g=c,Ah(e,i),c=(i.flags&128)!==0,g||c?(g=i.stateNode,o=c&&typeof o.getDerivedStateFromError!="function"?null:g.render(),i.flags|=1,e!==null&&c?(i.child=zo(i,e.child,null,p),i.child=zo(i,null,o,p)):xn(e,i,o,p),i.memoizedState=g.state,e=i.child):e=Ls(e,i,p),e}function xy(e,i,o,c){return Is(),i.flags|=256,xn(e,i,o,c),i.child}var sm={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function am(e){return{baseLanes:e,cachePool:y_()}}function om(e,i,o){return e=e!==null?e.childLanes&~o:0,i&&(e|=Di),e}function Ny(e,i,o){var c=i.pendingProps,p=!1,g=(i.flags&128)!==0,b;if((b=g)||(b=e!==null&&e.memoizedState===null?!1:(en.current&2)!==0),b&&(p=!0,i.flags&=-129),b=(i.flags&32)!==0,i.flags&=-33,e===null){if(Xt){if(p?ba(i):Sa(),(e=de)?(e=Uv(e,hi),e=e!==null&&e.data!=="&"?e:null,e!==null&&(i.memoizedState={dehydrated:e,treeContext:tt!==null?{id:ht,overflow:Tt}:null,retryLane:536870912,hydrationErrors:null},o=Ou(e),o.return=i,i.child=o,fe=i,de=null)):e=null,e===null)throw Xr(i);return qm(e)?i.lanes=32:i.lanes=536870912,null}var I=c.children;return c=c.fallback,p?(Sa(),p=i.mode,I=Rh({mode:"hidden",children:I},p),c=Cs(c,p,o,null),I.return=i,c.return=i,I.sibling=c,i.child=I,c=i.child,c.memoizedState=am(o),c.childLanes=om(e,b,o),i.memoizedState=sm,Zu(null,c)):(ba(i),lm(i,I))}var V=e.memoizedState;if(V!==null&&(I=V.dehydrated,I!==null)){if(g)i.flags&256?(ba(i),i.flags&=-257,i=um(e,i,o)):i.memoizedState!==null?(Sa(),i.child=e.child,i.flags|=128,i=null):(Sa(),I=c.fallback,p=i.mode,c=Rh({mode:"visible",children:c.children},p),I=Cs(I,p,o,null),I.flags|=2,c.return=i,I.return=i,c.sibling=I,i.child=c,zo(i,e.child,null,o),c=i.child,c.memoizedState=am(o),c.childLanes=om(e,b,o),i.memoizedState=sm,i=Zu(null,c));else if(ba(i),qm(I)){if(b=I.nextSibling&&I.nextSibling.dataset,b)var J=b.dgst;b=J,c=Error(s(419)),c.stack="",c.digest=b,Po({value:c,source:null,stack:null}),i=um(e,i,o)}else if(un||Nl(e,i,o,!1),b=(o&e.childLanes)!==0,un||b){if(b=xe,b!==null&&(c=uo(b,o),c!==0&&c!==V.retryLane))throw V.retryLane=c,ir(e,c),gi(b,e,c),im;Hm(I)||Dh(),i=um(e,i,o)}else Hm(I)?(i.flags|=192,i.child=e.child,i=null):(e=V.treeContext,de=ar(I.nextSibling),fe=i,Xt=!0,$r=null,hi=!1,e!==null&&$n(i,e),i=lm(i,c.children),i.flags|=4096);return i}return p?(Sa(),I=c.fallback,p=i.mode,V=e.child,J=V.sibling,c=rr(V,{mode:"hidden",children:c.children}),c.subtreeFlags=V.subtreeFlags&65011712,J!==null?I=rr(J,I):(I=Cs(I,p,o,null),I.flags|=2),I.return=i,c.return=i,c.sibling=I,i.child=c,Zu(null,c),c=i.child,I=e.child.memoizedState,I===null?I=am(o):(p=I.cachePool,p!==null?(V=on._currentValue,p=p.parent!==V?{parent:V,pool:V}:p):p=y_(),I={baseLanes:I.baseLanes|o,cachePool:p}),c.memoizedState=I,c.childLanes=om(e,b,o),i.memoizedState=sm,Zu(e.child,c)):(ba(i),o=e.child,e=o.sibling,o=rr(o,{mode:"visible",children:c.children}),o.return=i,o.sibling=null,e!==null&&(b=i.deletions,b===null?(i.deletions=[e],i.flags|=16):b.push(e)),i.child=o,i.memoizedState=null,o)}function lm(e,i){return i=Rh({mode:"visible",children:i},e.mode),i.return=e,e.child=i}function Rh(e,i){return e=zn(22,e,null,i),e.lanes=0,e}function um(e,i,o){return zo(i,e.child,null,o),e=lm(i,i.pendingProps.children),e.flags|=2,i.memoizedState=null,e}function Oy(e,i,o){e.lanes|=i;var c=e.alternate;c!==null&&(c.lanes|=i),Sd(e.return,i,o)}function cm(e,i,o,c,p,g){var b=e.memoizedState;b===null?e.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:c,tail:o,tailMode:p,treeForkCount:g}:(b.isBackwards=i,b.rendering=null,b.renderingStartTime=0,b.last=c,b.tail=o,b.tailMode=p,b.treeForkCount=g)}function Ly(e,i,o){var c=i.pendingProps,p=c.revealOrder,g=c.tail;c=c.children;var b=en.current,I=(b&2)!==0;if(I?(b=b&1|2,i.flags|=128):b&=1,gt(en,b),xn(e,i,c,o),c=Xt?C:0,!I&&e!==null&&(e.flags&128)!==0)t:for(e=i.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Oy(e,o,i);else if(e.tag===19)Oy(e,o,i);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===i)break t;for(;e.sibling===null;){if(e.return===null||e.return===i)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(p){case"forwards":for(o=i.child,p=null;o!==null;)e=o.alternate,e!==null&&mh(e)===null&&(p=o),o=o.sibling;o=p,o===null?(p=i.child,i.child=null):(p=o.sibling,o.sibling=null),cm(i,!1,p,o,g,c);break;case"backwards":case"unstable_legacy-backwards":for(o=null,p=i.child,i.child=null;p!==null;){if(e=p.alternate,e!==null&&mh(e)===null){i.child=p;break}e=p.sibling,p.sibling=o,o=p,p=e}cm(i,!0,o,null,g,c);break;case"together":cm(i,!1,null,null,void 0,c);break;default:i.memoizedState=null}return i.child}function Ls(e,i,o){if(e!==null&&(i.dependencies=e.dependencies),Ca|=i.lanes,(o&i.childLanes)===0)if(e!==null){if(Nl(e,i,o,!1),(o&i.childLanes)===0)return null}else return null;if(e!==null&&i.child!==e.child)throw Error(s(153));if(i.child!==null){for(e=i.child,o=rr(e,e.pendingProps),i.child=o,o.return=i;e.sibling!==null;)e=e.sibling,o=o.sibling=rr(e,e.pendingProps),o.return=i;o.sibling=null}return i.child}function hm(e,i){return(e.lanes&i)!==0?!0:(e=e.dependencies,!!(e!==null&&ah(e)))}function CS(e,i,o){switch(i.tag){case 3:we(i,i.stateNode.containerInfo),va(i,on,e.memoizedState.cache),Is();break;case 27:case 5:cr(i);break;case 4:we(i,i.stateNode.containerInfo);break;case 10:va(i,i.type,i.memoizedProps.value);break;case 31:if(i.memoizedState!==null)return i.flags|=128,kd(i),null;break;case 13:var c=i.memoizedState;if(c!==null)return c.dehydrated!==null?(ba(i),i.flags|=128,null):(o&i.child.childLanes)!==0?Ny(e,i,o):(ba(i),e=Ls(e,i,o),e!==null?e.sibling:null);ba(i);break;case 19:var p=(e.flags&128)!==0;if(c=(o&i.childLanes)!==0,c||(Nl(e,i,o,!1),c=(o&i.childLanes)!==0),p){if(c)return Ly(e,i,o);i.flags|=128}if(p=i.memoizedState,p!==null&&(p.rendering=null,p.tail=null,p.lastEffect=null),gt(en,en.current),c)break;return null;case 22:return i.lanes=0,Sy(e,i,o,i.pendingProps);case 24:va(i,on,e.memoizedState.cache)}return Ls(e,i,o)}function Py(e,i,o){if(e!==null)if(e.memoizedProps!==i.pendingProps)un=!0;else{if(!hm(e,o)&&(i.flags&128)===0)return un=!1,CS(e,i,o);un=(e.flags&131072)!==0}else un=!1,Xt&&(i.flags&1048576)!==0&&Zt(i,C,i.index);switch(i.lanes=0,i.tag){case 16:t:{var c=i.pendingProps;if(e=Vo(i.elementType),i.type=e,typeof e=="function")Cl(e)?(c=jo(e,c),i.tag=1,i=Iy(null,i,e,c,o)):(i.tag=0,i=rm(null,i,e,c,o));else{if(e!=null){var p=e.$$typeof;if(p===Ct){i.tag=11,i=Ey(null,i,e,c,o);break t}else if(p===D){i.tag=14,i=wy(null,i,e,c,o);break t}}throw i=oe(e)||e,Error(s(306,i,""))}}return i;case 0:return rm(e,i,i.type,i.pendingProps,o);case 1:return c=i.type,p=jo(c,i.pendingProps),Iy(e,i,c,p,o);case 3:t:{if(we(i,i.stateNode.containerInfo),e===null)throw Error(s(387));c=i.pendingProps;var g=i.memoizedState;p=g.element,Od(e,i),ju(i,c,null,o);var b=i.memoizedState;if(c=b.cache,va(i,on,c),c!==g.cache&&Ad(i,[on],o,!0),Bu(),c=b.element,g.isDehydrated)if(g={element:c,isDehydrated:!1,cache:b.cache},i.updateQueue.baseState=g,i.memoizedState=g,i.flags&256){i=xy(e,i,c,o);break t}else if(c!==p){p=u(Error(s(424)),i),Po(p),i=xy(e,i,c,o);break t}else{switch(e=i.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(de=ar(e.firstChild),fe=i,Xt=!0,$r=null,hi=!0,o=S_(i,null,c,o),i.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling}else{if(Is(),c===p){i=Ls(e,i,o);break t}xn(e,i,c,o)}i=i.child}return i;case 26:return Ah(e,i),e===null?(o=Fv(i.type,null,i.pendingProps,null))?i.memoizedState=o:Xt||(o=i.type,e=i.pendingProps,c=Hh(Et.current).createElement(o),c[ze]=i,c[Ze]=e,Nn(c,o,e),Ke(c),i.stateNode=c):i.memoizedState=Fv(i.type,e.memoizedProps,i.pendingProps,e.memoizedState),null;case 27:return cr(i),e===null&&Xt&&(c=i.stateNode=jv(i.type,i.pendingProps,Et.current),fe=i,hi=!0,p=de,La(i.type)?(Fm=p,de=ar(c.firstChild)):de=p),xn(e,i,i.pendingProps.children,o),Ah(e,i),e===null&&(i.flags|=4194304),i.child;case 5:return e===null&&Xt&&((p=c=de)&&(c=iA(c,i.type,i.pendingProps,hi),c!==null?(i.stateNode=c,fe=i,de=ar(c.firstChild),hi=!1,p=!0):p=!1),p||Xr(i)),cr(i),p=i.type,g=i.pendingProps,b=e!==null?e.memoizedProps:null,c=g.children,zm(p,g)?c=null:b!==null&&zm(p,b)&&(i.flags|=32),i.memoizedState!==null&&(p=Ud(e,i,yS,null,null,o),oc._currentValue=p),Ah(e,i),xn(e,i,c,o),i.child;case 6:return e===null&&Xt&&((e=o=de)&&(o=rA(o,i.pendingProps,hi),o!==null?(i.stateNode=o,fe=i,de=null,e=!0):e=!1),e||Xr(i)),null;case 13:return Ny(e,i,o);case 4:return we(i,i.stateNode.containerInfo),c=i.pendingProps,e===null?i.child=zo(i,null,c,o):xn(e,i,c,o),i.child;case 11:return Ey(e,i,i.type,i.pendingProps,o);case 7:return xn(e,i,i.pendingProps,o),i.child;case 8:return xn(e,i,i.pendingProps.children,o),i.child;case 12:return xn(e,i,i.pendingProps.children,o),i.child;case 10:return c=i.pendingProps,va(i,i.type,c.value),xn(e,i,c.children,o),i.child;case 9:return p=i.type._context,c=i.pendingProps.children,Do(i),p=In(p),c=c(p),i.flags|=1,xn(e,i,c,o),i.child;case 14:return wy(e,i,i.type,i.pendingProps,o);case 15:return by(e,i,i.type,i.pendingProps,o);case 19:return Ly(e,i,o);case 31:return RS(e,i,o);case 22:return Sy(e,i,o,i.pendingProps);case 24:return Do(i),c=In(on),e===null?(p=Id(),p===null&&(p=xe,g=Rd(),p.pooledCache=g,g.refCount++,g!==null&&(p.pooledCacheLanes|=o),p=g),i.memoizedState={parent:c,cache:p},Nd(i),va(i,on,p)):((e.lanes&o)!==0&&(Od(e,i),ju(i,null,null,o),Bu()),p=e.memoizedState,g=i.memoizedState,p.parent!==c?(p={parent:c,cache:c},i.memoizedState=p,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=p),va(i,on,c)):(c=g.cache,va(i,on,c),c!==p.cache&&Ad(i,[on],o,!0))),xn(e,i,i.pendingProps.children,o),i.child;case 29:throw i.pendingProps}throw Error(s(156,i.tag))}function Ps(e){e.flags|=4}function fm(e,i,o,c,p){if((i=(e.mode&32)!==0)&&(i=!1),i){if(e.flags|=16777216,(p&335544128)===p)if(e.stateNode.complete)e.flags|=8192;else if(av())e.flags|=8192;else throw Uo=ch,xd}else e.flags&=-16777217}function My(e,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!Qv(i))if(av())e.flags|=8192;else throw Uo=ch,xd}function Ch(e,i){i!==null&&(e.flags|=4),e.flags&16384&&(i=e.tag!==22?dl():536870912,e.lanes|=i,Hl|=i)}function Ku(e,i){if(!Xt)switch(e.tailMode){case"hidden":i=e.tail;for(var o=null;i!==null;)i.alternate!==null&&(o=i),i=i.sibling;o===null?e.tail=null:o.sibling=null;break;case"collapsed":o=e.tail;for(var c=null;o!==null;)o.alternate!==null&&(c=o),o=o.sibling;c===null?i||e.tail===null?e.tail=null:e.tail.sibling=null:c.sibling=null}}function Me(e){var i=e.alternate!==null&&e.alternate.child===e.child,o=0,c=0;if(i)for(var p=e.child;p!==null;)o|=p.lanes|p.childLanes,c|=p.subtreeFlags&65011712,c|=p.flags&65011712,p.return=e,p=p.sibling;else for(p=e.child;p!==null;)o|=p.lanes|p.childLanes,c|=p.subtreeFlags,c|=p.flags,p.return=e,p=p.sibling;return e.subtreeFlags|=c,e.childLanes=o,i}function IS(e,i,o){var c=i.pendingProps;switch(Ye(i),i.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Me(i),null;case 1:return Me(i),null;case 3:return o=i.stateNode,c=null,e!==null&&(c=e.memoizedState.cache),i.memoizedState.cache!==c&&(i.flags|=2048),xs(on),Re(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(e===null||e.child===null)&&(br(i)?Ps(i):e===null||e.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,Mu())),Me(i),null;case 26:var p=i.type,g=i.memoizedState;return e===null?(Ps(i),g!==null?(Me(i),My(i,g)):(Me(i),fm(i,p,null,c,o))):g?g!==e.memoizedState?(Ps(i),Me(i),My(i,g)):(Me(i),i.flags&=-16777217):(e=e.memoizedProps,e!==c&&Ps(i),Me(i),fm(i,p,e,c,o)),null;case 27:if(Lr(i),o=Et.current,p=i.type,e!==null&&i.stateNode!=null)e.memoizedProps!==c&&Ps(i);else{if(!c){if(i.stateNode===null)throw Error(s(166));return Me(i),null}e=_t.current,br(i)?Pu(i):(e=jv(p,c,o),i.stateNode=e,Ps(i))}return Me(i),null;case 5:if(Lr(i),p=i.type,e!==null&&i.stateNode!=null)e.memoizedProps!==c&&Ps(i);else{if(!c){if(i.stateNode===null)throw Error(s(166));return Me(i),null}if(g=_t.current,br(i))Pu(i);else{var b=Hh(Et.current);switch(g){case 1:g=b.createElementNS("http://www.w3.org/2000/svg",p);break;case 2:g=b.createElementNS("http://www.w3.org/1998/Math/MathML",p);break;default:switch(p){case"svg":g=b.createElementNS("http://www.w3.org/2000/svg",p);break;case"math":g=b.createElementNS("http://www.w3.org/1998/Math/MathML",p);break;case"script":g=b.createElement("div"),g.innerHTML="<script><\/script>",g=g.removeChild(g.firstChild);break;case"select":g=typeof c.is=="string"?b.createElement("select",{is:c.is}):b.createElement("select"),c.multiple?g.multiple=!0:c.size&&(g.size=c.size);break;default:g=typeof c.is=="string"?b.createElement(p,{is:c.is}):b.createElement(p)}}g[ze]=i,g[Ze]=c;t:for(b=i.child;b!==null;){if(b.tag===5||b.tag===6)g.appendChild(b.stateNode);else if(b.tag!==4&&b.tag!==27&&b.child!==null){b.child.return=b,b=b.child;continue}if(b===i)break t;for(;b.sibling===null;){if(b.return===null||b.return===i)break t;b=b.return}b.sibling.return=b.return,b=b.sibling}i.stateNode=g;t:switch(Nn(g,p,c),p){case"button":case"input":case"select":case"textarea":c=!!c.autoFocus;break t;case"img":c=!0;break t;default:c=!1}c&&Ps(i)}}return Me(i),fm(i,i.type,e===null?null:e.memoizedProps,i.pendingProps,o),null;case 6:if(e&&i.stateNode!=null)e.memoizedProps!==c&&Ps(i);else{if(typeof c!="string"&&i.stateNode===null)throw Error(s(166));if(e=Et.current,br(i)){if(e=i.stateNode,o=i.memoizedProps,c=null,p=fe,p!==null)switch(p.tag){case 27:case 5:c=p.memoizedProps}e[ze]=i,e=!!(e.nodeValue===o||c!==null&&c.suppressHydrationWarning===!0||Nv(e.nodeValue,o)),e||Xr(i,!0)}else e=Hh(e).createTextNode(c),e[ze]=i,i.stateNode=e}return Me(i),null;case 31:if(o=i.memoizedState,e===null||e.memoizedState!==null){if(c=br(i),o!==null){if(e===null){if(!c)throw Error(s(318));if(e=i.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(557));e[ze]=i}else Is(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;Me(i),e=!1}else o=Mu(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=o),e=!0;if(!e)return i.flags&256?(Pi(i),i):(Pi(i),null);if((i.flags&128)!==0)throw Error(s(558))}return Me(i),null;case 13:if(c=i.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(p=br(i),c!==null&&c.dehydrated!==null){if(e===null){if(!p)throw Error(s(318));if(p=i.memoizedState,p=p!==null?p.dehydrated:null,!p)throw Error(s(317));p[ze]=i}else Is(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;Me(i),p=!1}else p=Mu(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=p),p=!0;if(!p)return i.flags&256?(Pi(i),i):(Pi(i),null)}return Pi(i),(i.flags&128)!==0?(i.lanes=o,i):(o=c!==null,e=e!==null&&e.memoizedState!==null,o&&(c=i.child,p=null,c.alternate!==null&&c.alternate.memoizedState!==null&&c.alternate.memoizedState.cachePool!==null&&(p=c.alternate.memoizedState.cachePool.pool),g=null,c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(g=c.memoizedState.cachePool.pool),g!==p&&(c.flags|=2048)),o!==e&&o&&(i.child.flags|=8192),Ch(i,i.updateQueue),Me(i),null);case 4:return Re(),e===null&&Mm(i.stateNode.containerInfo),Me(i),null;case 10:return xs(i.type),Me(i),null;case 19:if(ot(en),c=i.memoizedState,c===null)return Me(i),null;if(p=(i.flags&128)!==0,g=c.rendering,g===null)if(p)Ku(c,!1);else{if($e!==0||e!==null&&(e.flags&128)!==0)for(e=i.child;e!==null;){if(g=mh(e),g!==null){for(i.flags|=128,Ku(c,!1),e=g.updateQueue,i.updateQueue=e,Ch(i,e),i.subtreeFlags=0,e=o,o=i.child;o!==null;)Nu(o,e),o=o.sibling;return gt(en,en.current&1|2),Xt&&Ot(i,c.treeForkCount),i.child}e=e.sibling}c.tail!==null&&Cn()>Lh&&(i.flags|=128,p=!0,Ku(c,!1),i.lanes=4194304)}else{if(!p)if(e=mh(g),e!==null){if(i.flags|=128,p=!0,e=e.updateQueue,i.updateQueue=e,Ch(i,e),Ku(c,!0),c.tail===null&&c.tailMode==="hidden"&&!g.alternate&&!Xt)return Me(i),null}else 2*Cn()-c.renderingStartTime>Lh&&o!==536870912&&(i.flags|=128,p=!0,Ku(c,!1),i.lanes=4194304);c.isBackwards?(g.sibling=i.child,i.child=g):(e=c.last,e!==null?e.sibling=g:i.child=g,c.last=g)}return c.tail!==null?(e=c.tail,c.rendering=e,c.tail=e.sibling,c.renderingStartTime=Cn(),e.sibling=null,o=en.current,gt(en,p?o&1|2:o&1),Xt&&Ot(i,c.treeForkCount),e):(Me(i),null);case 22:case 23:return Pi(i),Dd(),c=i.memoizedState!==null,e!==null?e.memoizedState!==null!==c&&(i.flags|=8192):c&&(i.flags|=8192),c?(o&536870912)!==0&&(i.flags&128)===0&&(Me(i),i.subtreeFlags&6&&(i.flags|=8192)):Me(i),o=i.updateQueue,o!==null&&Ch(i,o.retryQueue),o=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(o=e.memoizedState.cachePool.pool),c=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(c=i.memoizedState.cachePool.pool),c!==o&&(i.flags|=2048),e!==null&&ot(ko),null;case 24:return o=null,e!==null&&(o=e.memoizedState.cache),i.memoizedState.cache!==o&&(i.flags|=2048),xs(on),Me(i),null;case 25:return null;case 30:return null}throw Error(s(156,i.tag))}function xS(e,i){switch(Ye(i),i.tag){case 1:return e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 3:return xs(on),Re(),e=i.flags,(e&65536)!==0&&(e&128)===0?(i.flags=e&-65537|128,i):null;case 26:case 27:case 5:return Lr(i),null;case 31:if(i.memoizedState!==null){if(Pi(i),i.alternate===null)throw Error(s(340));Is()}return e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 13:if(Pi(i),e=i.memoizedState,e!==null&&e.dehydrated!==null){if(i.alternate===null)throw Error(s(340));Is()}return e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 19:return ot(en),null;case 4:return Re(),null;case 10:return xs(i.type),null;case 22:case 23:return Pi(i),Dd(),e!==null&&ot(ko),e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 24:return xs(on),null;case 25:return null;default:return null}}function Dy(e,i){switch(Ye(i),i.tag){case 3:xs(on),Re();break;case 26:case 27:case 5:Lr(i);break;case 4:Re();break;case 31:i.memoizedState!==null&&Pi(i);break;case 13:Pi(i);break;case 19:ot(en);break;case 10:xs(i.type);break;case 22:case 23:Pi(i),Dd(),e!==null&&ot(ko);break;case 24:xs(on)}}function Yu(e,i){try{var o=i.updateQueue,c=o!==null?o.lastEffect:null;if(c!==null){var p=c.next;o=p;do{if((o.tag&e)===e){c=void 0;var g=o.create,b=o.inst;c=g(),b.destroy=c}o=o.next}while(o!==p)}}catch(I){Ee(i,i.return,I)}}function Aa(e,i,o){try{var c=i.updateQueue,p=c!==null?c.lastEffect:null;if(p!==null){var g=p.next;c=g;do{if((c.tag&e)===e){var b=c.inst,I=b.destroy;if(I!==void 0){b.destroy=void 0,p=i;var V=o,J=I;try{J()}catch(lt){Ee(p,V,lt)}}}c=c.next}while(c!==g)}}catch(lt){Ee(i,i.return,lt)}}function ky(e){var i=e.updateQueue;if(i!==null){var o=e.stateNode;try{R_(i,o)}catch(c){Ee(e,e.return,c)}}}function Vy(e,i,o){o.props=jo(e.type,e.memoizedProps),o.state=e.memoizedState;try{o.componentWillUnmount()}catch(c){Ee(e,i,c)}}function Qu(e,i){try{var o=e.ref;if(o!==null){switch(e.tag){case 26:case 27:case 5:var c=e.stateNode;break;case 30:c=e.stateNode;break;default:c=e.stateNode}typeof o=="function"?e.refCleanup=o(c):o.current=c}}catch(p){Ee(e,i,p)}}function Jr(e,i){var o=e.ref,c=e.refCleanup;if(o!==null)if(typeof c=="function")try{c()}catch(p){Ee(e,i,p)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof o=="function")try{o(null)}catch(p){Ee(e,i,p)}else o.current=null}function Uy(e){var i=e.type,o=e.memoizedProps,c=e.stateNode;try{t:switch(i){case"button":case"input":case"select":case"textarea":o.autoFocus&&c.focus();break t;case"img":o.src?c.src=o.src:o.srcSet&&(c.srcset=o.srcSet)}}catch(p){Ee(e,e.return,p)}}function dm(e,i,o){try{var c=e.stateNode;XS(c,e.type,o,i),c[Ze]=i}catch(p){Ee(e,e.return,p)}}function zy(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&La(e.type)||e.tag===4}function mm(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||zy(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&La(e.type)||e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function pm(e,i,o){var c=e.tag;if(c===5||c===6)e=e.stateNode,i?(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o).insertBefore(e,i):(i=o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,i.appendChild(e),o=o._reactRootContainer,o!=null||i.onclick!==null||(i.onclick=Mn));else if(c!==4&&(c===27&&La(e.type)&&(o=e.stateNode,i=null),e=e.child,e!==null))for(pm(e,i,o),e=e.sibling;e!==null;)pm(e,i,o),e=e.sibling}function Ih(e,i,o){var c=e.tag;if(c===5||c===6)e=e.stateNode,i?o.insertBefore(e,i):o.appendChild(e);else if(c!==4&&(c===27&&La(e.type)&&(o=e.stateNode),e=e.child,e!==null))for(Ih(e,i,o),e=e.sibling;e!==null;)Ih(e,i,o),e=e.sibling}function By(e){var i=e.stateNode,o=e.memoizedProps;try{for(var c=e.type,p=i.attributes;p.length;)i.removeAttributeNode(p[0]);Nn(i,c,o),i[ze]=e,i[Ze]=o}catch(g){Ee(e,e.return,g)}}var Ms=!1,cn=!1,gm=!1,jy=typeof WeakSet=="function"?WeakSet:Set,An=null;function NS(e,i){if(e=e.containerInfo,Vm=Qh,e=Ao(e),Gr(e)){if("selectionStart"in e)var o={start:e.selectionStart,end:e.selectionEnd};else t:{o=(o=e.ownerDocument)&&o.defaultView||window;var c=o.getSelection&&o.getSelection();if(c&&c.rangeCount!==0){o=c.anchorNode;var p=c.anchorOffset,g=c.focusNode;c=c.focusOffset;try{o.nodeType,g.nodeType}catch{o=null;break t}var b=0,I=-1,V=-1,J=0,lt=0,ft=e,et=null;e:for(;;){for(var st;ft!==o||p!==0&&ft.nodeType!==3||(I=b+p),ft!==g||c!==0&&ft.nodeType!==3||(V=b+c),ft.nodeType===3&&(b+=ft.nodeValue.length),(st=ft.firstChild)!==null;)et=ft,ft=st;for(;;){if(ft===e)break e;if(et===o&&++J===p&&(I=b),et===g&&++lt===c&&(V=b),(st=ft.nextSibling)!==null)break;ft=et,et=ft.parentNode}ft=st}o=I===-1||V===-1?null:{start:I,end:V}}else o=null}o=o||{start:0,end:0}}else o=null;for(Um={focusedElem:e,selectionRange:o},Qh=!1,An=i;An!==null;)if(i=An,e=i.child,(i.subtreeFlags&1028)!==0&&e!==null)e.return=i,An=e;else for(;An!==null;){switch(i=An,g=i.alternate,e=i.flags,i.tag){case 0:if((e&4)!==0&&(e=i.updateQueue,e=e!==null?e.events:null,e!==null))for(o=0;o<e.length;o++)p=e[o],p.ref.impl=p.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&g!==null){e=void 0,o=i,p=g.memoizedProps,g=g.memoizedState,c=o.stateNode;try{var xt=jo(o.type,p);e=c.getSnapshotBeforeUpdate(xt,g),c.__reactInternalSnapshotBeforeUpdate=e}catch(Vt){Ee(o,o.return,Vt)}}break;case 3:if((e&1024)!==0){if(e=i.stateNode.containerInfo,o=e.nodeType,o===9)jm(e);else if(o===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":jm(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(s(163))}if(e=i.sibling,e!==null){e.return=i.return,An=e;break}An=i.return}}function Hy(e,i,o){var c=o.flags;switch(o.tag){case 0:case 11:case 15:ks(e,o),c&4&&Yu(5,o);break;case 1:if(ks(e,o),c&4)if(e=o.stateNode,i===null)try{e.componentDidMount()}catch(b){Ee(o,o.return,b)}else{var p=jo(o.type,i.memoizedProps);i=i.memoizedState;try{e.componentDidUpdate(p,i,e.__reactInternalSnapshotBeforeUpdate)}catch(b){Ee(o,o.return,b)}}c&64&&ky(o),c&512&&Qu(o,o.return);break;case 3:if(ks(e,o),c&64&&(e=o.updateQueue,e!==null)){if(i=null,o.child!==null)switch(o.child.tag){case 27:case 5:i=o.child.stateNode;break;case 1:i=o.child.stateNode}try{R_(e,i)}catch(b){Ee(o,o.return,b)}}break;case 27:i===null&&c&4&&By(o);case 26:case 5:ks(e,o),i===null&&c&4&&Uy(o),c&512&&Qu(o,o.return);break;case 12:ks(e,o);break;case 31:ks(e,o),c&4&&Gy(e,o);break;case 13:ks(e,o),c&4&&Zy(e,o),c&64&&(e=o.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(o=zS.bind(null,o),sA(e,o))));break;case 22:if(c=o.memoizedState!==null||Ms,!c){i=i!==null&&i.memoizedState!==null||cn,p=Ms;var g=cn;Ms=c,(cn=i)&&!g?Vs(e,o,(o.subtreeFlags&8772)!==0):ks(e,o),Ms=p,cn=g}break;case 30:break;default:ks(e,o)}}function qy(e){var i=e.alternate;i!==null&&(e.alternate=null,qy(i)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(i=e.stateNode,i!==null&&ea(i)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var ke=null,fi=!1;function Ds(e,i,o){for(o=o.child;o!==null;)Fy(e,i,o),o=o.sibling}function Fy(e,i,o){if(tn&&typeof tn.onCommitFiberUnmount=="function")try{tn.onCommitFiberUnmount(Jn,o)}catch{}switch(o.tag){case 26:cn||Jr(o,i),Ds(e,i,o),o.memoizedState?o.memoizedState.count--:o.stateNode&&(o=o.stateNode,o.parentNode.removeChild(o));break;case 27:cn||Jr(o,i);var c=ke,p=fi;La(o.type)&&(ke=o.stateNode,fi=!1),Ds(e,i,o),rc(o.stateNode),ke=c,fi=p;break;case 5:cn||Jr(o,i);case 6:if(c=ke,p=fi,ke=null,Ds(e,i,o),ke=c,fi=p,ke!==null)if(fi)try{(ke.nodeType===9?ke.body:ke.nodeName==="HTML"?ke.ownerDocument.body:ke).removeChild(o.stateNode)}catch(g){Ee(o,i,g)}else try{ke.removeChild(o.stateNode)}catch(g){Ee(o,i,g)}break;case 18:ke!==null&&(fi?(e=ke,kv(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,o.stateNode),$l(e)):kv(ke,o.stateNode));break;case 4:c=ke,p=fi,ke=o.stateNode.containerInfo,fi=!0,Ds(e,i,o),ke=c,fi=p;break;case 0:case 11:case 14:case 15:Aa(2,o,i),cn||Aa(4,o,i),Ds(e,i,o);break;case 1:cn||(Jr(o,i),c=o.stateNode,typeof c.componentWillUnmount=="function"&&Vy(o,i,c)),Ds(e,i,o);break;case 21:Ds(e,i,o);break;case 22:cn=(c=cn)||o.memoizedState!==null,Ds(e,i,o),cn=c;break;default:Ds(e,i,o)}}function Gy(e,i){if(i.memoizedState===null&&(e=i.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{$l(e)}catch(o){Ee(i,i.return,o)}}}function Zy(e,i){if(i.memoizedState===null&&(e=i.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{$l(e)}catch(o){Ee(i,i.return,o)}}function OS(e){switch(e.tag){case 31:case 13:case 19:var i=e.stateNode;return i===null&&(i=e.stateNode=new jy),i;case 22:return e=e.stateNode,i=e._retryCache,i===null&&(i=e._retryCache=new jy),i;default:throw Error(s(435,e.tag))}}function xh(e,i){var o=OS(e);i.forEach(function(c){if(!o.has(c)){o.add(c);var p=BS.bind(null,e,c);c.then(p,p)}})}function di(e,i){var o=i.deletions;if(o!==null)for(var c=0;c<o.length;c++){var p=o[c],g=e,b=i,I=b;t:for(;I!==null;){switch(I.tag){case 27:if(La(I.type)){ke=I.stateNode,fi=!1;break t}break;case 5:ke=I.stateNode,fi=!1;break t;case 3:case 4:ke=I.stateNode.containerInfo,fi=!0;break t}I=I.return}if(ke===null)throw Error(s(160));Fy(g,b,p),ke=null,fi=!1,g=p.alternate,g!==null&&(g.return=null),p.return=null}if(i.subtreeFlags&13886)for(i=i.child;i!==null;)Ky(i,e),i=i.sibling}var Ar=null;function Ky(e,i){var o=e.alternate,c=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:di(i,e),mi(e),c&4&&(Aa(3,e,e.return),Yu(3,e),Aa(5,e,e.return));break;case 1:di(i,e),mi(e),c&512&&(cn||o===null||Jr(o,o.return)),c&64&&Ms&&(e=e.updateQueue,e!==null&&(c=e.callbacks,c!==null&&(o=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=o===null?c:o.concat(c))));break;case 26:var p=Ar;if(di(i,e),mi(e),c&512&&(cn||o===null||Jr(o,o.return)),c&4){var g=o!==null?o.memoizedState:null;if(c=e.memoizedState,o===null)if(c===null)if(e.stateNode===null){t:{c=e.type,o=e.memoizedProps,p=p.ownerDocument||p;e:switch(c){case"title":g=p.getElementsByTagName("title")[0],(!g||g[Zi]||g[ze]||g.namespaceURI==="http://www.w3.org/2000/svg"||g.hasAttribute("itemprop"))&&(g=p.createElement(c),p.head.insertBefore(g,p.querySelector("head > title"))),Nn(g,c,o),g[ze]=e,Ke(g),c=g;break t;case"link":var b=Kv("link","href",p).get(c+(o.href||""));if(b){for(var I=0;I<b.length;I++)if(g=b[I],g.getAttribute("href")===(o.href==null||o.href===""?null:o.href)&&g.getAttribute("rel")===(o.rel==null?null:o.rel)&&g.getAttribute("title")===(o.title==null?null:o.title)&&g.getAttribute("crossorigin")===(o.crossOrigin==null?null:o.crossOrigin)){b.splice(I,1);break e}}g=p.createElement(c),Nn(g,c,o),p.head.appendChild(g);break;case"meta":if(b=Kv("meta","content",p).get(c+(o.content||""))){for(I=0;I<b.length;I++)if(g=b[I],g.getAttribute("content")===(o.content==null?null:""+o.content)&&g.getAttribute("name")===(o.name==null?null:o.name)&&g.getAttribute("property")===(o.property==null?null:o.property)&&g.getAttribute("http-equiv")===(o.httpEquiv==null?null:o.httpEquiv)&&g.getAttribute("charset")===(o.charSet==null?null:o.charSet)){b.splice(I,1);break e}}g=p.createElement(c),Nn(g,c,o),p.head.appendChild(g);break;default:throw Error(s(468,c))}g[ze]=e,Ke(g),c=g}e.stateNode=c}else Yv(p,e.type,e.stateNode);else e.stateNode=Zv(p,c,e.memoizedProps);else g!==c?(g===null?o.stateNode!==null&&(o=o.stateNode,o.parentNode.removeChild(o)):g.count--,c===null?Yv(p,e.type,e.stateNode):Zv(p,c,e.memoizedProps)):c===null&&e.stateNode!==null&&dm(e,e.memoizedProps,o.memoizedProps)}break;case 27:di(i,e),mi(e),c&512&&(cn||o===null||Jr(o,o.return)),o!==null&&c&4&&dm(e,e.memoizedProps,o.memoizedProps);break;case 5:if(di(i,e),mi(e),c&512&&(cn||o===null||Jr(o,o.return)),e.flags&32){p=e.stateNode;try{sn(p,"")}catch(xt){Ee(e,e.return,xt)}}c&4&&e.stateNode!=null&&(p=e.memoizedProps,dm(e,p,o!==null?o.memoizedProps:p)),c&1024&&(gm=!0);break;case 6:if(di(i,e),mi(e),c&4){if(e.stateNode===null)throw Error(s(162));c=e.memoizedProps,o=e.stateNode;try{o.nodeValue=c}catch(xt){Ee(e,e.return,xt)}}break;case 3:if(Gh=null,p=Ar,Ar=qh(i.containerInfo),di(i,e),Ar=p,mi(e),c&4&&o!==null&&o.memoizedState.isDehydrated)try{$l(i.containerInfo)}catch(xt){Ee(e,e.return,xt)}gm&&(gm=!1,Yy(e));break;case 4:c=Ar,Ar=qh(e.stateNode.containerInfo),di(i,e),mi(e),Ar=c;break;case 12:di(i,e),mi(e);break;case 31:di(i,e),mi(e),c&4&&(c=e.updateQueue,c!==null&&(e.updateQueue=null,xh(e,c)));break;case 13:di(i,e),mi(e),e.child.flags&8192&&e.memoizedState!==null!=(o!==null&&o.memoizedState!==null)&&(Oh=Cn()),c&4&&(c=e.updateQueue,c!==null&&(e.updateQueue=null,xh(e,c)));break;case 22:p=e.memoizedState!==null;var V=o!==null&&o.memoizedState!==null,J=Ms,lt=cn;if(Ms=J||p,cn=lt||V,di(i,e),cn=lt,Ms=J,mi(e),c&8192)t:for(i=e.stateNode,i._visibility=p?i._visibility&-2:i._visibility|1,p&&(o===null||V||Ms||cn||Ho(e)),o=null,i=e;;){if(i.tag===5||i.tag===26){if(o===null){V=o=i;try{if(g=V.stateNode,p)b=g.style,typeof b.setProperty=="function"?b.setProperty("display","none","important"):b.display="none";else{I=V.stateNode;var ft=V.memoizedProps.style,et=ft!=null&&ft.hasOwnProperty("display")?ft.display:null;I.style.display=et==null||typeof et=="boolean"?"":(""+et).trim()}}catch(xt){Ee(V,V.return,xt)}}}else if(i.tag===6){if(o===null){V=i;try{V.stateNode.nodeValue=p?"":V.memoizedProps}catch(xt){Ee(V,V.return,xt)}}}else if(i.tag===18){if(o===null){V=i;try{var st=V.stateNode;p?Vv(st,!0):Vv(V.stateNode,!1)}catch(xt){Ee(V,V.return,xt)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===e)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===e)break t;for(;i.sibling===null;){if(i.return===null||i.return===e)break t;o===i&&(o=null),i=i.return}o===i&&(o=null),i.sibling.return=i.return,i=i.sibling}c&4&&(c=e.updateQueue,c!==null&&(o=c.retryQueue,o!==null&&(c.retryQueue=null,xh(e,o))));break;case 19:di(i,e),mi(e),c&4&&(c=e.updateQueue,c!==null&&(e.updateQueue=null,xh(e,c)));break;case 30:break;case 21:break;default:di(i,e),mi(e)}}function mi(e){var i=e.flags;if(i&2){try{for(var o,c=e.return;c!==null;){if(zy(c)){o=c;break}c=c.return}if(o==null)throw Error(s(160));switch(o.tag){case 27:var p=o.stateNode,g=mm(e);Ih(e,g,p);break;case 5:var b=o.stateNode;o.flags&32&&(sn(b,""),o.flags&=-33);var I=mm(e);Ih(e,I,b);break;case 3:case 4:var V=o.stateNode.containerInfo,J=mm(e);pm(e,J,V);break;default:throw Error(s(161))}}catch(lt){Ee(e,e.return,lt)}e.flags&=-3}i&4096&&(e.flags&=-4097)}function Yy(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var i=e;Yy(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),e=e.sibling}}function ks(e,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)Hy(e,i.alternate,i),i=i.sibling}function Ho(e){for(e=e.child;e!==null;){var i=e;switch(i.tag){case 0:case 11:case 14:case 15:Aa(4,i,i.return),Ho(i);break;case 1:Jr(i,i.return);var o=i.stateNode;typeof o.componentWillUnmount=="function"&&Vy(i,i.return,o),Ho(i);break;case 27:rc(i.stateNode);case 26:case 5:Jr(i,i.return),Ho(i);break;case 22:i.memoizedState===null&&Ho(i);break;case 30:Ho(i);break;default:Ho(i)}e=e.sibling}}function Vs(e,i,o){for(o=o&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var c=i.alternate,p=e,g=i,b=g.flags;switch(g.tag){case 0:case 11:case 15:Vs(p,g,o),Yu(4,g);break;case 1:if(Vs(p,g,o),c=g,p=c.stateNode,typeof p.componentDidMount=="function")try{p.componentDidMount()}catch(J){Ee(c,c.return,J)}if(c=g,p=c.updateQueue,p!==null){var I=c.stateNode;try{var V=p.shared.hiddenCallbacks;if(V!==null)for(p.shared.hiddenCallbacks=null,p=0;p<V.length;p++)A_(V[p],I)}catch(J){Ee(c,c.return,J)}}o&&b&64&&ky(g),Qu(g,g.return);break;case 27:By(g);case 26:case 5:Vs(p,g,o),o&&c===null&&b&4&&Uy(g),Qu(g,g.return);break;case 12:Vs(p,g,o);break;case 31:Vs(p,g,o),o&&b&4&&Gy(p,g);break;case 13:Vs(p,g,o),o&&b&4&&Zy(p,g);break;case 22:g.memoizedState===null&&Vs(p,g,o),Qu(g,g.return);break;case 30:break;default:Vs(p,g,o)}i=i.sibling}}function _m(e,i){var o=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(o=e.memoizedState.cachePool.pool),e=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(e=i.memoizedState.cachePool.pool),e!==o&&(e!=null&&e.refCount++,o!=null&&Du(o))}function ym(e,i){e=null,i.alternate!==null&&(e=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==e&&(i.refCount++,e!=null&&Du(e))}function Rr(e,i,o,c){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)Qy(e,i,o,c),i=i.sibling}function Qy(e,i,o,c){var p=i.flags;switch(i.tag){case 0:case 11:case 15:Rr(e,i,o,c),p&2048&&Yu(9,i);break;case 1:Rr(e,i,o,c);break;case 3:Rr(e,i,o,c),p&2048&&(e=null,i.alternate!==null&&(e=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==e&&(i.refCount++,e!=null&&Du(e)));break;case 12:if(p&2048){Rr(e,i,o,c),e=i.stateNode;try{var g=i.memoizedProps,b=g.id,I=g.onPostCommit;typeof I=="function"&&I(b,i.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(V){Ee(i,i.return,V)}}else Rr(e,i,o,c);break;case 31:Rr(e,i,o,c);break;case 13:Rr(e,i,o,c);break;case 23:break;case 22:g=i.stateNode,b=i.alternate,i.memoizedState!==null?g._visibility&2?Rr(e,i,o,c):$u(e,i):g._visibility&2?Rr(e,i,o,c):(g._visibility|=2,zl(e,i,o,c,(i.subtreeFlags&10256)!==0||!1)),p&2048&&_m(b,i);break;case 24:Rr(e,i,o,c),p&2048&&ym(i.alternate,i);break;default:Rr(e,i,o,c)}}function zl(e,i,o,c,p){for(p=p&&((i.subtreeFlags&10256)!==0||!1),i=i.child;i!==null;){var g=e,b=i,I=o,V=c,J=b.flags;switch(b.tag){case 0:case 11:case 15:zl(g,b,I,V,p),Yu(8,b);break;case 23:break;case 22:var lt=b.stateNode;b.memoizedState!==null?lt._visibility&2?zl(g,b,I,V,p):$u(g,b):(lt._visibility|=2,zl(g,b,I,V,p)),p&&J&2048&&_m(b.alternate,b);break;case 24:zl(g,b,I,V,p),p&&J&2048&&ym(b.alternate,b);break;default:zl(g,b,I,V,p)}i=i.sibling}}function $u(e,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var o=e,c=i,p=c.flags;switch(c.tag){case 22:$u(o,c),p&2048&&_m(c.alternate,c);break;case 24:$u(o,c),p&2048&&ym(c.alternate,c);break;default:$u(o,c)}i=i.sibling}}var Xu=8192;function Bl(e,i,o){if(e.subtreeFlags&Xu)for(e=e.child;e!==null;)$y(e,i,o),e=e.sibling}function $y(e,i,o){switch(e.tag){case 26:Bl(e,i,o),e.flags&Xu&&e.memoizedState!==null&&_A(o,Ar,e.memoizedState,e.memoizedProps);break;case 5:Bl(e,i,o);break;case 3:case 4:var c=Ar;Ar=qh(e.stateNode.containerInfo),Bl(e,i,o),Ar=c;break;case 22:e.memoizedState===null&&(c=e.alternate,c!==null&&c.memoizedState!==null?(c=Xu,Xu=16777216,Bl(e,i,o),Xu=c):Bl(e,i,o));break;default:Bl(e,i,o)}}function Xy(e){var i=e.alternate;if(i!==null&&(e=i.child,e!==null)){i.child=null;do i=e.sibling,e.sibling=null,e=i;while(e!==null)}}function Wu(e){var i=e.deletions;if((e.flags&16)!==0){if(i!==null)for(var o=0;o<i.length;o++){var c=i[o];An=c,Jy(c,e)}Xy(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Wy(e),e=e.sibling}function Wy(e){switch(e.tag){case 0:case 11:case 15:Wu(e),e.flags&2048&&Aa(9,e,e.return);break;case 3:Wu(e);break;case 12:Wu(e);break;case 22:var i=e.stateNode;e.memoizedState!==null&&i._visibility&2&&(e.return===null||e.return.tag!==13)?(i._visibility&=-3,Nh(e)):Wu(e);break;default:Wu(e)}}function Nh(e){var i=e.deletions;if((e.flags&16)!==0){if(i!==null)for(var o=0;o<i.length;o++){var c=i[o];An=c,Jy(c,e)}Xy(e)}for(e=e.child;e!==null;){switch(i=e,i.tag){case 0:case 11:case 15:Aa(8,i,i.return),Nh(i);break;case 22:o=i.stateNode,o._visibility&2&&(o._visibility&=-3,Nh(i));break;default:Nh(i)}e=e.sibling}}function Jy(e,i){for(;An!==null;){var o=An;switch(o.tag){case 0:case 11:case 15:Aa(8,o,i);break;case 23:case 22:if(o.memoizedState!==null&&o.memoizedState.cachePool!==null){var c=o.memoizedState.cachePool.pool;c!=null&&c.refCount++}break;case 24:Du(o.memoizedState.cache)}if(c=o.child,c!==null)c.return=o,An=c;else t:for(o=e;An!==null;){c=An;var p=c.sibling,g=c.return;if(qy(c),c===o){An=null;break t}if(p!==null){p.return=g,An=p;break t}An=g}}}var LS={getCacheForType:function(e){var i=In(on),o=i.data.get(e);return o===void 0&&(o=e(),i.data.set(e,o)),o},cacheSignal:function(){return In(on).controller.signal}},PS=typeof WeakMap=="function"?WeakMap:Map,ge=0,xe=null,Wt=null,ne=0,Te=0,Mi=null,Ra=!1,jl=!1,vm=!1,Us=0,$e=0,Ca=0,qo=0,Tm=0,Di=0,Hl=0,Ju=null,pi=null,Em=!1,Oh=0,tv=0,Lh=1/0,Ph=null,Ia=null,gn=0,xa=null,ql=null,zs=0,wm=0,bm=null,ev=null,tc=0,Sm=null;function ki(){return(ge&2)!==0&&ne!==0?ne&-ne:at.T!==null?Nm():co()}function nv(){if(Di===0)if((ne&536870912)===0||Xt){var e=Vr;Vr<<=1,(Vr&3932160)===0&&(Vr=262144),Di=e}else Di=536870912;return e=Li.current,e!==null&&(e.flags|=32),Di}function gi(e,i,o){(e===xe&&(Te===2||Te===9)||e.cancelPendingCommit!==null)&&(Fl(e,0),Na(e,ne,Di,!1)),fr(e,o),((ge&2)===0||e!==xe)&&(e===xe&&((ge&2)===0&&(qo|=o),$e===4&&Na(e,ne,Di,!1)),ts(e))}function iv(e,i,o){if((ge&6)!==0)throw Error(s(327));var c=!o&&(i&127)===0&&(i&e.expiredLanes)===0||Ti(e,i),p=c?kS(e,i):Rm(e,i,!0),g=c;do{if(p===0){jl&&!c&&Na(e,i,0,!1);break}else{if(o=e.current.alternate,g&&!MS(o)){p=Rm(e,i,!1),g=!1;continue}if(p===2){if(g=i,e.errorRecoveryDisabledLanes&g)var b=0;else b=e.pendingLanes&-536870913,b=b!==0?b:b&536870912?536870912:0;if(b!==0){i=b;t:{var I=e;p=Ju;var V=I.current.memoizedState.isDehydrated;if(V&&(Fl(I,b).flags|=256),b=Rm(I,b,!1),b!==2){if(vm&&!V){I.errorRecoveryDisabledLanes|=g,qo|=g,p=4;break t}g=pi,pi=p,g!==null&&(pi===null?pi=g:pi.push.apply(pi,g))}p=b}if(g=!1,p!==2)continue}}if(p===1){Fl(e,0),Na(e,i,0,!0);break}t:{switch(c=e,g=p,g){case 0:case 1:throw Error(s(345));case 4:if((i&4194048)!==i)break;case 6:Na(c,i,Di,!Ra);break t;case 2:pi=null;break;case 3:case 5:break;default:throw Error(s(329))}if((i&62914560)===i&&(p=Oh+300-Cn(),10<p)){if(Na(c,i,Di,!Ra),Fi(c,0,!0)!==0)break t;zs=i,c.timeoutHandle=Mv(rv.bind(null,c,o,pi,Ph,Em,i,Di,qo,Hl,Ra,g,"Throttled",-0,0),p);break t}rv(c,o,pi,Ph,Em,i,Di,qo,Hl,Ra,g,null,-0,0)}}break}while(!0);ts(e)}function rv(e,i,o,c,p,g,b,I,V,J,lt,ft,et,st){if(e.timeoutHandle=-1,ft=i.subtreeFlags,ft&8192||(ft&16785408)===16785408){ft={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Mn},$y(i,g,ft);var xt=(g&62914560)===g?Oh-Cn():(g&4194048)===g?tv-Cn():0;if(xt=yA(ft,xt),xt!==null){zs=g,e.cancelPendingCommit=xt(fv.bind(null,e,i,g,o,c,p,b,I,V,lt,ft,null,et,st)),Na(e,g,b,!J);return}}fv(e,i,g,o,c,p,b,I,V)}function MS(e){for(var i=e;;){var o=i.tag;if((o===0||o===11||o===15)&&i.flags&16384&&(o=i.updateQueue,o!==null&&(o=o.stores,o!==null)))for(var c=0;c<o.length;c++){var p=o[c],g=p.getSnapshot;p=p.value;try{if(!bn(g(),p))return!1}catch{return!1}}if(o=i.child,i.subtreeFlags&16384&&o!==null)o.return=i,i=o;else{if(i===e)break;for(;i.sibling===null;){if(i.return===null||i.return===e)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function Na(e,i,o,c){i&=~Tm,i&=~qo,e.suspendedLanes|=i,e.pingedLanes&=~i,c&&(e.warmLanes|=i),c=e.expirationTimes;for(var p=i;0<p;){var g=31-Ve(p),b=1<<g;c[g]=-1,p&=~b}o!==0&&_s(e,o,i)}function Mh(){return(ge&6)===0?(ec(0),!1):!0}function Am(){if(Wt!==null){if(Te===0)var e=Wt.return;else e=Wt,Sr=Wr=null,jd(e),Ml=null,Vu=0,e=Wt;for(;e!==null;)Dy(e.alternate,e),e=e.return;Wt=null}}function Fl(e,i){var o=e.timeoutHandle;o!==-1&&(e.timeoutHandle=-1,tA(o)),o=e.cancelPendingCommit,o!==null&&(e.cancelPendingCommit=null,o()),zs=0,Am(),xe=e,Wt=o=rr(e.current,null),ne=i,Te=0,Mi=null,Ra=!1,jl=Ti(e,i),vm=!1,Hl=Di=Tm=qo=Ca=$e=0,pi=Ju=null,Em=!1,(i&8)!==0&&(i|=i&32);var c=e.entangledLanes;if(c!==0)for(e=e.entanglements,c&=i;0<c;){var p=31-Ve(c),g=1<<p;i|=e[p],c&=~g}return Us=i,No(),o}function sv(e,i){Gt=null,at.H=Gu,i===Pl||i===uh?(i=E_(),Te=3):i===xd?(i=E_(),Te=4):Te=i===im?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,Mi=i,Wt===null&&($e=1,bh(e,u(i,e.current)))}function av(){var e=Li.current;return e===null?!0:(ne&4194048)===ne?sr===null:(ne&62914560)===ne||(ne&536870912)!==0?e===sr:!1}function ov(){var e=at.H;return at.H=Gu,e===null?Gu:e}function lv(){var e=at.A;return at.A=LS,e}function Dh(){$e=4,Ra||(ne&4194048)!==ne&&Li.current!==null||(jl=!0),(Ca&134217727)===0&&(qo&134217727)===0||xe===null||Na(xe,ne,Di,!1)}function Rm(e,i,o){var c=ge;ge|=2;var p=ov(),g=lv();(xe!==e||ne!==i)&&(Ph=null,Fl(e,i)),i=!1;var b=$e;t:do try{if(Te!==0&&Wt!==null){var I=Wt,V=Mi;switch(Te){case 8:Am(),b=6;break t;case 3:case 2:case 9:case 6:Li.current===null&&(i=!0);var J=Te;if(Te=0,Mi=null,Gl(e,I,V,J),o&&jl){b=0;break t}break;default:J=Te,Te=0,Mi=null,Gl(e,I,V,J)}}DS(),b=$e;break}catch(lt){sv(e,lt)}while(!0);return i&&e.shellSuspendCounter++,Sr=Wr=null,ge=c,at.H=p,at.A=g,Wt===null&&(xe=null,ne=0,No()),b}function DS(){for(;Wt!==null;)uv(Wt)}function kS(e,i){var o=ge;ge|=2;var c=ov(),p=lv();xe!==e||ne!==i?(Ph=null,Lh=Cn()+500,Fl(e,i)):jl=Ti(e,i);t:do try{if(Te!==0&&Wt!==null){i=Wt;var g=Mi;e:switch(Te){case 1:Te=0,Mi=null,Gl(e,i,g,1);break;case 2:case 9:if(v_(g)){Te=0,Mi=null,cv(i);break}i=function(){Te!==2&&Te!==9||xe!==e||(Te=7),ts(e)},g.then(i,i);break t;case 3:Te=7;break t;case 4:Te=5;break t;case 7:v_(g)?(Te=0,Mi=null,cv(i)):(Te=0,Mi=null,Gl(e,i,g,7));break;case 5:var b=null;switch(Wt.tag){case 26:b=Wt.memoizedState;case 5:case 27:var I=Wt;if(b?Qv(b):I.stateNode.complete){Te=0,Mi=null;var V=I.sibling;if(V!==null)Wt=V;else{var J=I.return;J!==null?(Wt=J,kh(J)):Wt=null}break e}}Te=0,Mi=null,Gl(e,i,g,5);break;case 6:Te=0,Mi=null,Gl(e,i,g,6);break;case 8:Am(),$e=6;break t;default:throw Error(s(462))}}VS();break}catch(lt){sv(e,lt)}while(!0);return Sr=Wr=null,at.H=c,at.A=p,ge=o,Wt!==null?0:(xe=null,ne=0,No(),$e)}function VS(){for(;Wt!==null&&!cl();)uv(Wt)}function uv(e){var i=Py(e.alternate,e,Us);e.memoizedProps=e.pendingProps,i===null?kh(e):Wt=i}function cv(e){var i=e,o=i.alternate;switch(i.tag){case 15:case 0:i=Cy(o,i,i.pendingProps,i.type,void 0,ne);break;case 11:i=Cy(o,i,i.pendingProps,i.type.render,i.ref,ne);break;case 5:jd(i);default:Dy(o,i),i=Wt=Nu(i,Us),i=Py(o,i,Us)}e.memoizedProps=e.pendingProps,i===null?kh(e):Wt=i}function Gl(e,i,o,c){Sr=Wr=null,jd(i),Ml=null,Vu=0;var p=i.return;try{if(AS(e,p,i,o,ne)){$e=1,bh(e,u(o,e.current)),Wt=null;return}}catch(g){if(p!==null)throw Wt=p,g;$e=1,bh(e,u(o,e.current)),Wt=null;return}i.flags&32768?(Xt||c===1?e=!0:jl||(ne&536870912)!==0?e=!1:(Ra=e=!0,(c===2||c===9||c===3||c===6)&&(c=Li.current,c!==null&&c.tag===13&&(c.flags|=16384))),hv(i,e)):kh(i)}function kh(e){var i=e;do{if((i.flags&32768)!==0){hv(i,Ra);return}e=i.return;var o=IS(i.alternate,i,Us);if(o!==null){Wt=o;return}if(i=i.sibling,i!==null){Wt=i;return}Wt=i=e}while(i!==null);$e===0&&($e=5)}function hv(e,i){do{var o=xS(e.alternate,e);if(o!==null){o.flags&=32767,Wt=o;return}if(o=e.return,o!==null&&(o.flags|=32768,o.subtreeFlags=0,o.deletions=null),!i&&(e=e.sibling,e!==null)){Wt=e;return}Wt=e=o}while(e!==null);$e=6,Wt=null}function fv(e,i,o,c,p,g,b,I,V){e.cancelPendingCommit=null;do Vh();while(gn!==0);if((ge&6)!==0)throw Error(s(327));if(i!==null){if(i===e.current)throw Error(s(177));if(g=i.lanes|i.childLanes,g|=Rl,Iu(e,o,g,b,I,V),e===xe&&(Wt=xe=null,ne=0),ql=i,xa=e,zs=o,wm=g,bm=p,ev=c,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,jS(hr,function(){return _v(),null})):(e.callbackNode=null,e.callbackPriority=0),c=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||c){c=at.T,at.T=null,p=vt.p,vt.p=2,b=ge,ge|=4;try{NS(e,i,o)}finally{ge=b,vt.p=p,at.T=c}}gn=1,dv(),mv(),pv()}}function dv(){if(gn===1){gn=0;var e=xa,i=ql,o=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||o){o=at.T,at.T=null;var c=vt.p;vt.p=2;var p=ge;ge|=4;try{Ky(i,e);var g=Um,b=Ao(e.containerInfo),I=g.focusedElem,V=g.selectionRange;if(b!==I&&I&&I.ownerDocument&&wl(I.ownerDocument.documentElement,I)){if(V!==null&&Gr(I)){var J=V.start,lt=V.end;if(lt===void 0&&(lt=J),"selectionStart"in I)I.selectionStart=J,I.selectionEnd=Math.min(lt,I.value.length);else{var ft=I.ownerDocument||document,et=ft&&ft.defaultView||window;if(et.getSelection){var st=et.getSelection(),xt=I.textContent.length,Vt=Math.min(V.start,xt),Ae=V.end===void 0?Vt:Math.min(V.end,xt);!st.extend&&Vt>Ae&&(b=Ae,Ae=Vt,Vt=b);var Y=So(I,Vt),H=So(I,Ae);if(Y&&H&&(st.rangeCount!==1||st.anchorNode!==Y.node||st.anchorOffset!==Y.offset||st.focusNode!==H.node||st.focusOffset!==H.offset)){var W=ft.createRange();W.setStart(Y.node,Y.offset),st.removeAllRanges(),Vt>Ae?(st.addRange(W),st.extend(H.node,H.offset)):(W.setEnd(H.node,H.offset),st.addRange(W))}}}}for(ft=[],st=I;st=st.parentNode;)st.nodeType===1&&ft.push({element:st,left:st.scrollLeft,top:st.scrollTop});for(typeof I.focus=="function"&&I.focus(),I=0;I<ft.length;I++){var ut=ft[I];ut.element.scrollLeft=ut.left,ut.element.scrollTop=ut.top}}Qh=!!Vm,Um=Vm=null}finally{ge=p,vt.p=c,at.T=o}}e.current=i,gn=2}}function mv(){if(gn===2){gn=0;var e=xa,i=ql,o=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||o){o=at.T,at.T=null;var c=vt.p;vt.p=2;var p=ge;ge|=4;try{Hy(e,i.alternate,i)}finally{ge=p,vt.p=c,at.T=o}}gn=3}}function pv(){if(gn===4||gn===3){gn=0,so();var e=xa,i=ql,o=zs,c=ev;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?gn=5:(gn=0,ql=xa=null,gv(e,e.pendingLanes));var p=e.pendingLanes;if(p===0&&(Ia=null),It(o),i=i.stateNode,tn&&typeof tn.onCommitFiberRoot=="function")try{tn.onCommitFiberRoot(Jn,i,void 0,(i.current.flags&128)===128)}catch{}if(c!==null){i=at.T,p=vt.p,vt.p=2,at.T=null;try{for(var g=e.onRecoverableError,b=0;b<c.length;b++){var I=c[b];g(I.value,{componentStack:I.stack})}}finally{at.T=i,vt.p=p}}(zs&3)!==0&&Vh(),ts(e),p=e.pendingLanes,(o&261930)!==0&&(p&42)!==0?e===Sm?tc++:(tc=0,Sm=e):tc=0,ec(0)}}function gv(e,i){(e.pooledCacheLanes&=i)===0&&(i=e.pooledCache,i!=null&&(e.pooledCache=null,Du(i)))}function Vh(){return dv(),mv(),pv(),_v()}function _v(){if(gn!==5)return!1;var e=xa,i=wm;wm=0;var o=It(zs),c=at.T,p=vt.p;try{vt.p=32>o?32:o,at.T=null,o=bm,bm=null;var g=xa,b=zs;if(gn=0,ql=xa=null,zs=0,(ge&6)!==0)throw Error(s(331));var I=ge;if(ge|=4,Wy(g.current),Qy(g,g.current,b,o),ge=I,ec(0,!1),tn&&typeof tn.onPostCommitFiberRoot=="function")try{tn.onPostCommitFiberRoot(Jn,g)}catch{}return!0}finally{vt.p=p,at.T=c,gv(e,i)}}function yv(e,i,o){i=u(o,i),i=nm(e.stateNode,i,2),e=wa(e,i,2),e!==null&&(fr(e,2),ts(e))}function Ee(e,i,o){if(e.tag===3)yv(e,e,o);else for(;i!==null;){if(i.tag===3){yv(i,e,o);break}else if(i.tag===1){var c=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(Ia===null||!Ia.has(c))){e=u(o,e),o=vy(2),c=wa(i,o,2),c!==null&&(Ty(o,c,i,e),fr(c,2),ts(c));break}}i=i.return}}function Cm(e,i,o){var c=e.pingCache;if(c===null){c=e.pingCache=new PS;var p=new Set;c.set(i,p)}else p=c.get(i),p===void 0&&(p=new Set,c.set(i,p));p.has(o)||(vm=!0,p.add(o),e=US.bind(null,e,i,o),i.then(e,e))}function US(e,i,o){var c=e.pingCache;c!==null&&c.delete(i),e.pingedLanes|=e.suspendedLanes&o,e.warmLanes&=~o,xe===e&&(ne&o)===o&&($e===4||$e===3&&(ne&62914560)===ne&&300>Cn()-Oh?(ge&2)===0&&Fl(e,0):Tm|=o,Hl===ne&&(Hl=0)),ts(e)}function vv(e,i){i===0&&(i=dl()),e=ir(e,i),e!==null&&(fr(e,i),ts(e))}function zS(e){var i=e.memoizedState,o=0;i!==null&&(o=i.retryLane),vv(e,o)}function BS(e,i){var o=0;switch(e.tag){case 31:case 13:var c=e.stateNode,p=e.memoizedState;p!==null&&(o=p.retryLane);break;case 19:c=e.stateNode;break;case 22:c=e.stateNode._retryCache;break;default:throw Error(s(314))}c!==null&&c.delete(i),vv(e,o)}function jS(e,i){return Ge(e,i)}var Uh=null,Zl=null,Im=!1,zh=!1,xm=!1,Oa=0;function ts(e){e!==Zl&&e.next===null&&(Zl===null?Uh=Zl=e:Zl=Zl.next=e),zh=!0,Im||(Im=!0,qS())}function ec(e,i){if(!xm&&zh){xm=!0;do for(var o=!1,c=Uh;c!==null;){if(e!==0){var p=c.pendingLanes;if(p===0)var g=0;else{var b=c.suspendedLanes,I=c.pingedLanes;g=(1<<31-Ve(42|e)+1)-1,g&=p&~(b&~I),g=g&201326741?g&201326741|1:g?g|2:0}g!==0&&(o=!0,bv(c,g))}else g=ne,g=Fi(c,c===xe?g:0,c.cancelPendingCommit!==null||c.timeoutHandle!==-1),(g&3)===0||Ti(c,g)||(o=!0,bv(c,g));c=c.next}while(o);xm=!1}}function HS(){Tv()}function Tv(){zh=Im=!1;var e=0;Oa!==0&&JS()&&(e=Oa);for(var i=Cn(),o=null,c=Uh;c!==null;){var p=c.next,g=Ev(c,i);g===0?(c.next=null,o===null?Uh=p:o.next=p,p===null&&(Zl=o)):(o=c,(e!==0||(g&3)!==0)&&(zh=!0)),c=p}gn!==0&&gn!==5||ec(e),Oa!==0&&(Oa=0)}function Ev(e,i){for(var o=e.suspendedLanes,c=e.pingedLanes,p=e.expirationTimes,g=e.pendingLanes&-62914561;0<g;){var b=31-Ve(g),I=1<<b,V=p[b];V===-1?((I&o)===0||(I&c)!==0)&&(p[b]=Cu(I,i)):V<=i&&(e.expiredLanes|=I),g&=~I}if(i=xe,o=ne,o=Fi(e,e===i?o:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),c=e.callbackNode,o===0||e===i&&(Te===2||Te===9)||e.cancelPendingCommit!==null)return c!==null&&c!==null&&Hi(c),e.callbackNode=null,e.callbackPriority=0;if((o&3)===0||Ti(e,o)){if(i=o&-o,i===e.callbackPriority)return i;switch(c!==null&&Hi(c),It(o)){case 2:case 8:o=Js;break;case 32:o=hr;break;case 268435456:o=ao;break;default:o=hr}return c=wv.bind(null,e),o=Ge(o,c),e.callbackPriority=i,e.callbackNode=o,i}return c!==null&&c!==null&&Hi(c),e.callbackPriority=2,e.callbackNode=null,2}function wv(e,i){if(gn!==0&&gn!==5)return e.callbackNode=null,e.callbackPriority=0,null;var o=e.callbackNode;if(Vh()&&e.callbackNode!==o)return null;var c=ne;return c=Fi(e,e===xe?c:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),c===0?null:(iv(e,c,i),Ev(e,Cn()),e.callbackNode!=null&&e.callbackNode===o?wv.bind(null,e):null)}function bv(e,i){if(Vh())return null;iv(e,i,!0)}function qS(){eA(function(){(ge&6)!==0?Ge(gs,HS):Tv()})}function Nm(){if(Oa===0){var e=Ol;e===0&&(e=vi,vi<<=1,(vi&261888)===0&&(vi=256)),Oa=e}return Oa}function Sv(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Br(""+e)}function Av(e,i){var o=i.ownerDocument.createElement("input");return o.name=i.name,o.value=i.value,e.id&&o.setAttribute("form",e.id),i.parentNode.insertBefore(o,i),e=new FormData(e),o.parentNode.removeChild(o),e}function FS(e,i,o,c,p){if(i==="submit"&&o&&o.stateNode===p){var g=Sv((p[Ze]||null).action),b=c.submitter;b&&(i=(i=b[Ze]||null)?Sv(i.formAction):b.getAttribute("formAction"),i!==null&&(g=i,b=null));var I=new Ji("action","action",null,c,p);e.push({event:I,listeners:[{instance:null,listener:function(){if(c.defaultPrevented){if(Oa!==0){var V=b?Av(p,b):new FormData(p);$d(o,{pending:!0,data:V,method:p.method,action:g},null,V)}}else typeof g=="function"&&(I.preventDefault(),V=b?Av(p,b):new FormData(p),$d(o,{pending:!0,data:V,method:p.method,action:g},g,V))},currentTarget:p}]})}}for(var Om=0;Om<Yr.length;Om++){var Lm=Yr[Om],GS=Lm.toLowerCase(),ZS=Lm[0].toUpperCase()+Lm.slice(1);ui(GS,"on"+ZS)}ui(Co,"onAnimationEnd"),ui(ih,"onAnimationIteration"),ui(Io,"onAnimationStart"),ui("dblclick","onDoubleClick"),ui("focusin","onFocus"),ui("focusout","onBlur"),ui(Ed,"onTransitionRun"),ui(rh,"onTransitionStart"),ui(wd,"onTransitionCancel"),ui(_a,"onTransitionEnd"),ii("onMouseEnter",["mouseout","mouseover"]),ii("onMouseLeave",["mouseout","mouseover"]),ii("onPointerEnter",["pointerout","pointerover"]),ii("onPointerLeave",["pointerout","pointerover"]),Yi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Yi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Yi("onBeforeInput",["compositionend","keypress","textInput","paste"]),Yi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Yi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Yi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var nc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),KS=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(nc));function Rv(e,i){i=(i&4)!==0;for(var o=0;o<e.length;o++){var c=e[o],p=c.event;c=c.listeners;t:{var g=void 0;if(i)for(var b=c.length-1;0<=b;b--){var I=c[b],V=I.instance,J=I.currentTarget;if(I=I.listener,V!==g&&p.isPropagationStopped())break t;g=I,p.currentTarget=J;try{g(p)}catch(lt){xo(lt)}p.currentTarget=null,g=V}else for(b=0;b<c.length;b++){if(I=c[b],V=I.instance,J=I.currentTarget,I=I.listener,V!==g&&p.isPropagationStopped())break t;g=I,p.currentTarget=J;try{g(p)}catch(lt){xo(lt)}p.currentTarget=null,g=V}}}}function Jt(e,i){var o=i[wi];o===void 0&&(o=i[wi]=new Set);var c=e+"__bubble";o.has(c)||(Cv(i,e,2,!1),o.add(c))}function Pm(e,i,o){var c=0;i&&(c|=4),Cv(o,e,c,i)}var Bh="_reactListening"+Math.random().toString(36).slice(2);function Mm(e){if(!e[Bh]){e[Bh]=!0,ho.forEach(function(o){o!=="selectionchange"&&(KS.has(o)||Pm(o,!1,e),Pm(o,!0,e))});var i=e.nodeType===9?e:e.ownerDocument;i===null||i[Bh]||(i[Bh]=!0,Pm("selectionchange",!1,i))}}function Cv(e,i,o,c){switch(nT(i)){case 2:var p=EA;break;case 8:p=wA;break;default:p=Qm}o=p.bind(null,i,o,e),p=void 0,!gr||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(p=!0),c?p!==void 0?e.addEventListener(i,o,{capture:!0,passive:p}):e.addEventListener(i,o,!0):p!==void 0?e.addEventListener(i,o,{passive:p}):e.addEventListener(i,o,!1)}function Dm(e,i,o,c,p){var g=c;if((i&1)===0&&(i&2)===0&&c!==null)t:for(;;){if(c===null)return;var b=c.tag;if(b===3||b===4){var I=c.stateNode.containerInfo;if(I===p)break;if(b===4)for(b=c.return;b!==null;){var V=b.tag;if((V===3||V===4)&&b.stateNode.containerInfo===p)return;b=b.return}for(;I!==null;){if(b=bi(I),b===null)return;if(V=b.tag,V===5||V===6||V===26||V===27){c=g=b;continue t}I=I.parentNode}}c=c.return}pr(function(){var J=g,lt=Dn(o),ft=[];t:{var et=sh.get(e);if(et!==void 0){var st=Ji,xt=e;switch(e){case"keypress":if(Hr(o)===0)break t;case"keydown":case"keyup":st=vo;break;case"focusin":xt="focus",st=bs;break;case"focusout":xt="blur",st=bs;break;case"beforeblur":case"afterblur":st=bs;break;case"click":if(o.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":st=mo;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":st=_l;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":st=E;break;case Co:case ih:case Io:st=oa;break;case _a:st=x;break;case"scroll":case"scrollend":st=Yt;break;case"wheel":st=nt;break;case"copy":case"cut":case"paste":st=Yn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":st=Tr;break;case"toggle":case"beforetoggle":st=zt}var Vt=(i&4)!==0,Ae=!Vt&&(e==="scroll"||e==="scrollend"),Y=Vt?et!==null?et+"Capture":null:et;Vt=[];for(var H=J,W;H!==null;){var ut=H;if(W=ut.stateNode,ut=ut.tag,ut!==5&&ut!==26&&ut!==27||W===null||Y===null||(ut=Kn(H,Y),ut!=null&&Vt.push(ic(H,ut,W))),Ae)break;H=H.return}0<Vt.length&&(et=new st(et,xt,null,o,lt),ft.push({event:et,listeners:Vt}))}}if((i&7)===0){t:{if(et=e==="mouseover"||e==="pointerover",st=e==="mouseout"||e==="pointerout",et&&o!==aa&&(xt=o.relatedTarget||o.fromElement)&&(bi(xt)||xt[Ei]))break t;if((st||et)&&(et=lt.window===lt?lt:(et=lt.ownerDocument)?et.defaultView||et.parentWindow:window,st?(xt=o.relatedTarget||o.toElement,st=J,xt=xt?bi(xt):null,xt!==null&&(Ae=h(xt),Vt=xt.tag,xt!==Ae||Vt!==5&&Vt!==27&&Vt!==6)&&(xt=null)):(st=null,xt=J),st!==xt)){if(Vt=mo,ut="onMouseLeave",Y="onMouseEnter",H="mouse",(e==="pointerout"||e==="pointerover")&&(Vt=Tr,ut="onPointerLeave",Y="onPointerEnter",H="pointer"),Ae=st==null?et:vn(st),W=xt==null?et:vn(xt),et=new Vt(ut,H+"leave",st,o,lt),et.target=Ae,et.relatedTarget=W,ut=null,bi(lt)===J&&(Vt=new Vt(Y,H+"enter",xt,o,lt),Vt.target=W,Vt.relatedTarget=Ae,ut=Vt),Ae=ut,st&&xt)e:{for(Vt=YS,Y=st,H=xt,W=0,ut=Y;ut;ut=Vt(ut))W++;ut=0;for(var Pt=H;Pt;Pt=Vt(Pt))ut++;for(;0<W-ut;)Y=Vt(Y),W--;for(;0<ut-W;)H=Vt(H),ut--;for(;W--;){if(Y===H||H!==null&&Y===H.alternate){Vt=Y;break e}Y=Vt(Y),H=Vt(H)}Vt=null}else Vt=null;st!==null&&Iv(ft,et,st,Vt,!1),xt!==null&&Ae!==null&&Iv(ft,Ae,xt,Vt,!0)}}t:{if(et=J?vn(J):window,st=et.nodeName&&et.nodeName.toLowerCase(),st==="select"||st==="input"&&et.type==="file")var me=bo;else if(tr(et))if(Wc)me=Td;else{me=vd;var Nt=Er}else st=et.nodeName,!st||st.toLowerCase()!=="input"||et.type!=="checkbox"&&et.type!=="radio"?J&&zr(J.elementType)&&(me=bo):me=da;if(me&&(me=me(e,J))){Xc(ft,me,o,lt);break t}Nt&&Nt(e,et,J),e==="focusout"&&J&&et.type==="number"&&J.memoizedProps.value!=null&&Si(et,"number",et.value)}switch(Nt=J?vn(J):window,e){case"focusin":(tr(Nt)||Nt.contentEditable==="true")&&(Zr=Nt,Sl=J,Ro=null);break;case"focusout":Ro=Sl=Zr=null;break;case"mousedown":pa=!0;break;case"contextmenu":case"mouseup":case"dragend":pa=!1,eh(ft,o,lt);break;case"selectionchange":if(bl)break;case"keydown":case"keyup":eh(ft,o,lt)}var Kt;if(ue)t:{switch(e){case"compositionstart":var ie="onCompositionStart";break t;case"compositionend":ie="onCompositionEnd";break t;case"compositionupdate":ie="onCompositionUpdate";break t}ie=void 0}else ca?Ss(e,o)&&(ie="onCompositionEnd"):e==="keydown"&&o.keyCode===229&&(ie="onCompositionStart");ie&&(li&&o.locale!=="ko"&&(ca||ie!=="onCompositionStart"?ie==="onCompositionEnd"&&ca&&(Kt=Ai()):(ai=lt,_r="value"in ai?ai.value:ai.textContent,ca=!0)),Nt=jh(J,ie),0<Nt.length&&(ie=new Ii(ie,e,null,o,lt),ft.push({event:ie,listeners:Nt}),Kt?ie.data=Kt:(Kt=As(o),Kt!==null&&(ie.data=Kt)))),(Kt=oi?Oi(e,o):ha(e,o))&&(ie=jh(J,"onBeforeInput"),0<ie.length&&(Nt=new Ii("onBeforeInput","beforeinput",null,o,lt),ft.push({event:Nt,listeners:ie}),Nt.data=Kt)),FS(ft,e,J,o,lt)}Rv(ft,i)})}function ic(e,i,o){return{instance:e,listener:i,currentTarget:o}}function jh(e,i){for(var o=i+"Capture",c=[];e!==null;){var p=e,g=p.stateNode;if(p=p.tag,p!==5&&p!==26&&p!==27||g===null||(p=Kn(e,o),p!=null&&c.unshift(ic(e,p,g)),p=Kn(e,i),p!=null&&c.push(ic(e,p,g))),e.tag===3)return c;e=e.return}return[]}function YS(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Iv(e,i,o,c,p){for(var g=i._reactName,b=[];o!==null&&o!==c;){var I=o,V=I.alternate,J=I.stateNode;if(I=I.tag,V!==null&&V===c)break;I!==5&&I!==26&&I!==27||J===null||(V=J,p?(J=Kn(o,g),J!=null&&b.unshift(ic(o,J,V))):p||(J=Kn(o,g),J!=null&&b.push(ic(o,J,V)))),o=o.return}b.length!==0&&e.push({event:i,listeners:b})}var QS=/\r\n?/g,$S=/\u0000|\uFFFD/g;function xv(e){return(typeof e=="string"?e:""+e).replace(QS,`
`).replace($S,"")}function Nv(e,i){return i=xv(i),xv(e)===i}function Se(e,i,o,c,p,g){switch(o){case"children":typeof c=="string"?i==="body"||i==="textarea"&&c===""||sn(e,c):(typeof c=="number"||typeof c=="bigint")&&i!=="body"&&sn(e,""+c);break;case"className":$t(e,"class",c);break;case"tabIndex":$t(e,"tabindex",c);break;case"dir":case"role":case"viewBox":case"width":case"height":$t(e,o,c);break;case"style":Ts(e,c,g);break;case"data":if(i!=="object"){$t(e,"data",c);break}case"src":case"href":if(c===""&&(i!=="a"||o!=="href")){e.removeAttribute(o);break}if(c==null||typeof c=="function"||typeof c=="symbol"||typeof c=="boolean"){e.removeAttribute(o);break}c=Br(""+c),e.setAttribute(o,c);break;case"action":case"formAction":if(typeof c=="function"){e.setAttribute(o,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof g=="function"&&(o==="formAction"?(i!=="input"&&Se(e,i,"name",p.name,p,null),Se(e,i,"formEncType",p.formEncType,p,null),Se(e,i,"formMethod",p.formMethod,p,null),Se(e,i,"formTarget",p.formTarget,p,null)):(Se(e,i,"encType",p.encType,p,null),Se(e,i,"method",p.method,p,null),Se(e,i,"target",p.target,p,null)));if(c==null||typeof c=="symbol"||typeof c=="boolean"){e.removeAttribute(o);break}c=Br(""+c),e.setAttribute(o,c);break;case"onClick":c!=null&&(e.onclick=Mn);break;case"onScroll":c!=null&&Jt("scroll",e);break;case"onScrollEnd":c!=null&&Jt("scrollend",e);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(s(61));if(o=c.__html,o!=null){if(p.children!=null)throw Error(s(60));e.innerHTML=o}}break;case"multiple":e.multiple=c&&typeof c!="function"&&typeof c!="symbol";break;case"muted":e.muted=c&&typeof c!="function"&&typeof c!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(c==null||typeof c=="function"||typeof c=="boolean"||typeof c=="symbol"){e.removeAttribute("xlink:href");break}o=Br(""+c),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":c!=null&&typeof c!="function"&&typeof c!="symbol"?e.setAttribute(o,""+c):e.removeAttribute(o);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":c&&typeof c!="function"&&typeof c!="symbol"?e.setAttribute(o,""):e.removeAttribute(o);break;case"capture":case"download":c===!0?e.setAttribute(o,""):c!==!1&&c!=null&&typeof c!="function"&&typeof c!="symbol"?e.setAttribute(o,c):e.removeAttribute(o);break;case"cols":case"rows":case"size":case"span":c!=null&&typeof c!="function"&&typeof c!="symbol"&&!isNaN(c)&&1<=c?e.setAttribute(o,c):e.removeAttribute(o);break;case"rowSpan":case"start":c==null||typeof c=="function"||typeof c=="symbol"||isNaN(c)?e.removeAttribute(o):e.setAttribute(o,c);break;case"popover":Jt("beforetoggle",e),Jt("toggle",e),Qt(e,"popover",c);break;case"xlinkActuate":Oe(e,"http://www.w3.org/1999/xlink","xlink:actuate",c);break;case"xlinkArcrole":Oe(e,"http://www.w3.org/1999/xlink","xlink:arcrole",c);break;case"xlinkRole":Oe(e,"http://www.w3.org/1999/xlink","xlink:role",c);break;case"xlinkShow":Oe(e,"http://www.w3.org/1999/xlink","xlink:show",c);break;case"xlinkTitle":Oe(e,"http://www.w3.org/1999/xlink","xlink:title",c);break;case"xlinkType":Oe(e,"http://www.w3.org/1999/xlink","xlink:type",c);break;case"xmlBase":Oe(e,"http://www.w3.org/XML/1998/namespace","xml:base",c);break;case"xmlLang":Oe(e,"http://www.w3.org/XML/1998/namespace","xml:lang",c);break;case"xmlSpace":Oe(e,"http://www.w3.org/XML/1998/namespace","xml:space",c);break;case"is":Qt(e,"is",c);break;case"innerText":case"textContent":break;default:(!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(o=Es.get(o)||o,Qt(e,o,c))}}function km(e,i,o,c,p,g){switch(o){case"style":Ts(e,c,g);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(s(61));if(o=c.__html,o!=null){if(p.children!=null)throw Error(s(60));e.innerHTML=o}}break;case"children":typeof c=="string"?sn(e,c):(typeof c=="number"||typeof c=="bigint")&&sn(e,""+c);break;case"onScroll":c!=null&&Jt("scroll",e);break;case"onScrollEnd":c!=null&&Jt("scrollend",e);break;case"onClick":c!=null&&(e.onclick=Mn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!fo.hasOwnProperty(o))t:{if(o[0]==="o"&&o[1]==="n"&&(p=o.endsWith("Capture"),i=o.slice(2,p?o.length-7:void 0),g=e[Ze]||null,g=g!=null?g[o]:null,typeof g=="function"&&e.removeEventListener(i,g,p),typeof c=="function")){typeof g!="function"&&g!==null&&(o in e?e[o]=null:e.hasAttribute(o)&&e.removeAttribute(o)),e.addEventListener(i,c,p);break t}o in e?e[o]=c:c===!0?e.setAttribute(o,""):Qt(e,o,c)}}}function Nn(e,i,o){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Jt("error",e),Jt("load",e);var c=!1,p=!1,g;for(g in o)if(o.hasOwnProperty(g)){var b=o[g];if(b!=null)switch(g){case"src":c=!0;break;case"srcSet":p=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:Se(e,i,g,b,o,null)}}p&&Se(e,i,"srcSet",o.srcSet,o,null),c&&Se(e,i,"src",o.src,o,null);return;case"input":Jt("invalid",e);var I=g=b=p=null,V=null,J=null;for(c in o)if(o.hasOwnProperty(c)){var lt=o[c];if(lt!=null)switch(c){case"name":p=lt;break;case"type":b=lt;break;case"checked":V=lt;break;case"defaultChecked":J=lt;break;case"value":g=lt;break;case"defaultValue":I=lt;break;case"children":case"dangerouslySetInnerHTML":if(lt!=null)throw Error(s(137,i));break;default:Se(e,i,c,lt,o,null)}}vs(e,g,I,V,J,b,p,!1);return;case"select":Jt("invalid",e),c=b=g=null;for(p in o)if(o.hasOwnProperty(p)&&(I=o[p],I!=null))switch(p){case"value":g=I;break;case"defaultValue":b=I;break;case"multiple":c=I;default:Se(e,i,p,I,o,null)}i=g,o=b,e.multiple=!!c,i!=null?ve(e,!!c,i,!1):o!=null&&ve(e,!!c,o,!0);return;case"textarea":Jt("invalid",e),g=p=c=null;for(b in o)if(o.hasOwnProperty(b)&&(I=o[b],I!=null))switch(b){case"value":c=I;break;case"defaultValue":p=I;break;case"children":g=I;break;case"dangerouslySetInnerHTML":if(I!=null)throw Error(s(91));break;default:Se(e,i,b,I,o,null)}si(e,c,p,g);return;case"option":for(V in o)if(o.hasOwnProperty(V)&&(c=o[V],c!=null))switch(V){case"selected":e.selected=c&&typeof c!="function"&&typeof c!="symbol";break;default:Se(e,i,V,c,o,null)}return;case"dialog":Jt("beforetoggle",e),Jt("toggle",e),Jt("cancel",e),Jt("close",e);break;case"iframe":case"object":Jt("load",e);break;case"video":case"audio":for(c=0;c<nc.length;c++)Jt(nc[c],e);break;case"image":Jt("error",e),Jt("load",e);break;case"details":Jt("toggle",e);break;case"embed":case"source":case"link":Jt("error",e),Jt("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(J in o)if(o.hasOwnProperty(J)&&(c=o[J],c!=null))switch(J){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:Se(e,i,J,c,o,null)}return;default:if(zr(i)){for(lt in o)o.hasOwnProperty(lt)&&(c=o[lt],c!==void 0&&km(e,i,lt,c,o,void 0));return}}for(I in o)o.hasOwnProperty(I)&&(c=o[I],c!=null&&Se(e,i,I,c,o,null))}function XS(e,i,o,c){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var p=null,g=null,b=null,I=null,V=null,J=null,lt=null;for(st in o){var ft=o[st];if(o.hasOwnProperty(st)&&ft!=null)switch(st){case"checked":break;case"value":break;case"defaultValue":V=ft;default:c.hasOwnProperty(st)||Se(e,i,st,null,c,ft)}}for(var et in c){var st=c[et];if(ft=o[et],c.hasOwnProperty(et)&&(st!=null||ft!=null))switch(et){case"type":g=st;break;case"name":p=st;break;case"checked":J=st;break;case"defaultChecked":lt=st;break;case"value":b=st;break;case"defaultValue":I=st;break;case"children":case"dangerouslySetInnerHTML":if(st!=null)throw Error(s(137,i));break;default:st!==ft&&Se(e,i,et,st,c,ft)}}ra(e,b,I,V,J,lt,g,p);return;case"select":st=b=I=et=null;for(g in o)if(V=o[g],o.hasOwnProperty(g)&&V!=null)switch(g){case"value":break;case"multiple":st=V;default:c.hasOwnProperty(g)||Se(e,i,g,null,c,V)}for(p in c)if(g=c[p],V=o[p],c.hasOwnProperty(p)&&(g!=null||V!=null))switch(p){case"value":et=g;break;case"defaultValue":I=g;break;case"multiple":b=g;default:g!==V&&Se(e,i,p,g,c,V)}i=I,o=b,c=st,et!=null?ve(e,!!o,et,!1):!!c!=!!o&&(i!=null?ve(e,!!o,i,!0):ve(e,!!o,o?[]:"",!1));return;case"textarea":st=et=null;for(I in o)if(p=o[I],o.hasOwnProperty(I)&&p!=null&&!c.hasOwnProperty(I))switch(I){case"value":break;case"children":break;default:Se(e,i,I,null,c,p)}for(b in c)if(p=c[b],g=o[b],c.hasOwnProperty(b)&&(p!=null||g!=null))switch(b){case"value":et=p;break;case"defaultValue":st=p;break;case"children":break;case"dangerouslySetInnerHTML":if(p!=null)throw Error(s(91));break;default:p!==g&&Se(e,i,b,p,c,g)}$i(e,et,st);return;case"option":for(var xt in o)if(et=o[xt],o.hasOwnProperty(xt)&&et!=null&&!c.hasOwnProperty(xt))switch(xt){case"selected":e.selected=!1;break;default:Se(e,i,xt,null,c,et)}for(V in c)if(et=c[V],st=o[V],c.hasOwnProperty(V)&&et!==st&&(et!=null||st!=null))switch(V){case"selected":e.selected=et&&typeof et!="function"&&typeof et!="symbol";break;default:Se(e,i,V,et,c,st)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Vt in o)et=o[Vt],o.hasOwnProperty(Vt)&&et!=null&&!c.hasOwnProperty(Vt)&&Se(e,i,Vt,null,c,et);for(J in c)if(et=c[J],st=o[J],c.hasOwnProperty(J)&&et!==st&&(et!=null||st!=null))switch(J){case"children":case"dangerouslySetInnerHTML":if(et!=null)throw Error(s(137,i));break;default:Se(e,i,J,et,c,st)}return;default:if(zr(i)){for(var Ae in o)et=o[Ae],o.hasOwnProperty(Ae)&&et!==void 0&&!c.hasOwnProperty(Ae)&&km(e,i,Ae,void 0,c,et);for(lt in c)et=c[lt],st=o[lt],!c.hasOwnProperty(lt)||et===st||et===void 0&&st===void 0||km(e,i,lt,et,c,st);return}}for(var Y in o)et=o[Y],o.hasOwnProperty(Y)&&et!=null&&!c.hasOwnProperty(Y)&&Se(e,i,Y,null,c,et);for(ft in c)et=c[ft],st=o[ft],!c.hasOwnProperty(ft)||et===st||et==null&&st==null||Se(e,i,ft,et,c,st)}function Ov(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function WS(){if(typeof performance.getEntriesByType=="function"){for(var e=0,i=0,o=performance.getEntriesByType("resource"),c=0;c<o.length;c++){var p=o[c],g=p.transferSize,b=p.initiatorType,I=p.duration;if(g&&I&&Ov(b)){for(b=0,I=p.responseEnd,c+=1;c<o.length;c++){var V=o[c],J=V.startTime;if(J>I)break;var lt=V.transferSize,ft=V.initiatorType;lt&&Ov(ft)&&(V=V.responseEnd,b+=lt*(V<I?1:(I-J)/(V-J)))}if(--c,i+=8*(g+b)/(p.duration/1e3),e++,10<e)break}}if(0<e)return i/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var Vm=null,Um=null;function Hh(e){return e.nodeType===9?e:e.ownerDocument}function Lv(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Pv(e,i){if(e===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&i==="foreignObject"?0:e}function zm(e,i){return e==="textarea"||e==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var Bm=null;function JS(){var e=window.event;return e&&e.type==="popstate"?e===Bm?!1:(Bm=e,!0):(Bm=null,!1)}var Mv=typeof setTimeout=="function"?setTimeout:void 0,tA=typeof clearTimeout=="function"?clearTimeout:void 0,Dv=typeof Promise=="function"?Promise:void 0,eA=typeof queueMicrotask=="function"?queueMicrotask:typeof Dv<"u"?function(e){return Dv.resolve(null).then(e).catch(nA)}:Mv;function nA(e){setTimeout(function(){throw e})}function La(e){return e==="head"}function kv(e,i){var o=i,c=0;do{var p=o.nextSibling;if(e.removeChild(o),p&&p.nodeType===8)if(o=p.data,o==="/$"||o==="/&"){if(c===0){e.removeChild(p),$l(i);return}c--}else if(o==="$"||o==="$?"||o==="$~"||o==="$!"||o==="&")c++;else if(o==="html")rc(e.ownerDocument.documentElement);else if(o==="head"){o=e.ownerDocument.head,rc(o);for(var g=o.firstChild;g;){var b=g.nextSibling,I=g.nodeName;g[Zi]||I==="SCRIPT"||I==="STYLE"||I==="LINK"&&g.rel.toLowerCase()==="stylesheet"||o.removeChild(g),g=b}}else o==="body"&&rc(e.ownerDocument.body);o=p}while(o);$l(i)}function Vv(e,i){var o=e;e=0;do{var c=o.nextSibling;if(o.nodeType===1?i?(o._stashedDisplay=o.style.display,o.style.display="none"):(o.style.display=o._stashedDisplay||"",o.getAttribute("style")===""&&o.removeAttribute("style")):o.nodeType===3&&(i?(o._stashedText=o.nodeValue,o.nodeValue=""):o.nodeValue=o._stashedText||""),c&&c.nodeType===8)if(o=c.data,o==="/$"){if(e===0)break;e--}else o!=="$"&&o!=="$?"&&o!=="$~"&&o!=="$!"||e++;o=c}while(o)}function jm(e){var i=e.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var o=i;switch(i=i.nextSibling,o.nodeName){case"HTML":case"HEAD":case"BODY":jm(o),ea(o);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(o.rel.toLowerCase()==="stylesheet")continue}e.removeChild(o)}}function iA(e,i,o,c){for(;e.nodeType===1;){var p=o;if(e.nodeName.toLowerCase()!==i.toLowerCase()){if(!c&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(c){if(!e[Zi])switch(i){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(g=e.getAttribute("rel"),g==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(g!==p.rel||e.getAttribute("href")!==(p.href==null||p.href===""?null:p.href)||e.getAttribute("crossorigin")!==(p.crossOrigin==null?null:p.crossOrigin)||e.getAttribute("title")!==(p.title==null?null:p.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(g=e.getAttribute("src"),(g!==(p.src==null?null:p.src)||e.getAttribute("type")!==(p.type==null?null:p.type)||e.getAttribute("crossorigin")!==(p.crossOrigin==null?null:p.crossOrigin))&&g&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(i==="input"&&e.type==="hidden"){var g=p.name==null?null:""+p.name;if(p.type==="hidden"&&e.getAttribute("name")===g)return e}else return e;if(e=ar(e.nextSibling),e===null)break}return null}function rA(e,i,o){if(i==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!o||(e=ar(e.nextSibling),e===null))return null;return e}function Uv(e,i){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!i||(e=ar(e.nextSibling),e===null))return null;return e}function Hm(e){return e.data==="$?"||e.data==="$~"}function qm(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function sA(e,i){var o=e.ownerDocument;if(e.data==="$~")e._reactRetry=i;else if(e.data!=="$?"||o.readyState!=="loading")i();else{var c=function(){i(),o.removeEventListener("DOMContentLoaded",c)};o.addEventListener("DOMContentLoaded",c),e._reactRetry=c}}function ar(e){for(;e!=null;e=e.nextSibling){var i=e.nodeType;if(i===1||i===3)break;if(i===8){if(i=e.data,i==="$"||i==="$!"||i==="$?"||i==="$~"||i==="&"||i==="F!"||i==="F")break;if(i==="/$"||i==="/&")return null}}return e}var Fm=null;function zv(e){e=e.nextSibling;for(var i=0;e;){if(e.nodeType===8){var o=e.data;if(o==="/$"||o==="/&"){if(i===0)return ar(e.nextSibling);i--}else o!=="$"&&o!=="$!"&&o!=="$?"&&o!=="$~"&&o!=="&"||i++}e=e.nextSibling}return null}function Bv(e){e=e.previousSibling;for(var i=0;e;){if(e.nodeType===8){var o=e.data;if(o==="$"||o==="$!"||o==="$?"||o==="$~"||o==="&"){if(i===0)return e;i--}else o!=="/$"&&o!=="/&"||i++}e=e.previousSibling}return null}function jv(e,i,o){switch(i=Hh(o),e){case"html":if(e=i.documentElement,!e)throw Error(s(452));return e;case"head":if(e=i.head,!e)throw Error(s(453));return e;case"body":if(e=i.body,!e)throw Error(s(454));return e;default:throw Error(s(451))}}function rc(e){for(var i=e.attributes;i.length;)e.removeAttributeNode(i[0]);ea(e)}var or=new Map,Hv=new Set;function qh(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Bs=vt.d;vt.d={f:aA,r:oA,D:lA,C:uA,L:cA,m:hA,X:dA,S:fA,M:mA};function aA(){var e=Bs.f(),i=Mh();return e||i}function oA(e){var i=ni(e);i!==null&&i.tag===5&&i.type==="form"?sy(i):Bs.r(e)}var Kl=typeof document>"u"?null:document;function qv(e,i,o){var c=Kl;if(c&&typeof i=="string"&&i){var p=Ce(i);p='link[rel="'+e+'"][href="'+p+'"]',typeof o=="string"&&(p+='[crossorigin="'+o+'"]'),Hv.has(p)||(Hv.add(p),e={rel:e,crossOrigin:o,href:i},c.querySelector(p)===null&&(i=c.createElement("link"),Nn(i,"link",e),Ke(i),c.head.appendChild(i)))}}function lA(e){Bs.D(e),qv("dns-prefetch",e,null)}function uA(e,i){Bs.C(e,i),qv("preconnect",e,i)}function cA(e,i,o){Bs.L(e,i,o);var c=Kl;if(c&&e&&i){var p='link[rel="preload"][as="'+Ce(i)+'"]';i==="image"&&o&&o.imageSrcSet?(p+='[imagesrcset="'+Ce(o.imageSrcSet)+'"]',typeof o.imageSizes=="string"&&(p+='[imagesizes="'+Ce(o.imageSizes)+'"]')):p+='[href="'+Ce(e)+'"]';var g=p;switch(i){case"style":g=Yl(e);break;case"script":g=Ql(e)}or.has(g)||(e=R({rel:"preload",href:i==="image"&&o&&o.imageSrcSet?void 0:e,as:i},o),or.set(g,e),c.querySelector(p)!==null||i==="style"&&c.querySelector(sc(g))||i==="script"&&c.querySelector(ac(g))||(i=c.createElement("link"),Nn(i,"link",e),Ke(i),c.head.appendChild(i)))}}function hA(e,i){Bs.m(e,i);var o=Kl;if(o&&e){var c=i&&typeof i.as=="string"?i.as:"script",p='link[rel="modulepreload"][as="'+Ce(c)+'"][href="'+Ce(e)+'"]',g=p;switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":g=Ql(e)}if(!or.has(g)&&(e=R({rel:"modulepreload",href:e},i),or.set(g,e),o.querySelector(p)===null)){switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(o.querySelector(ac(g)))return}c=o.createElement("link"),Nn(c,"link",e),Ke(c),o.head.appendChild(c)}}}function fA(e,i,o){Bs.S(e,i,o);var c=Kl;if(c&&e){var p=Ki(c).hoistableStyles,g=Yl(e);i=i||"default";var b=p.get(g);if(!b){var I={loading:0,preload:null};if(b=c.querySelector(sc(g)))I.loading=5;else{e=R({rel:"stylesheet",href:e,"data-precedence":i},o),(o=or.get(g))&&Gm(e,o);var V=b=c.createElement("link");Ke(V),Nn(V,"link",e),V._p=new Promise(function(J,lt){V.onload=J,V.onerror=lt}),V.addEventListener("load",function(){I.loading|=1}),V.addEventListener("error",function(){I.loading|=2}),I.loading|=4,Fh(b,i,c)}b={type:"stylesheet",instance:b,count:1,state:I},p.set(g,b)}}}function dA(e,i){Bs.X(e,i);var o=Kl;if(o&&e){var c=Ki(o).hoistableScripts,p=Ql(e),g=c.get(p);g||(g=o.querySelector(ac(p)),g||(e=R({src:e,async:!0},i),(i=or.get(p))&&Zm(e,i),g=o.createElement("script"),Ke(g),Nn(g,"link",e),o.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},c.set(p,g))}}function mA(e,i){Bs.M(e,i);var o=Kl;if(o&&e){var c=Ki(o).hoistableScripts,p=Ql(e),g=c.get(p);g||(g=o.querySelector(ac(p)),g||(e=R({src:e,async:!0,type:"module"},i),(i=or.get(p))&&Zm(e,i),g=o.createElement("script"),Ke(g),Nn(g,"link",e),o.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},c.set(p,g))}}function Fv(e,i,o,c){var p=(p=Et.current)?qh(p):null;if(!p)throw Error(s(446));switch(e){case"meta":case"title":return null;case"style":return typeof o.precedence=="string"&&typeof o.href=="string"?(i=Yl(o.href),o=Ki(p).hoistableStyles,c=o.get(i),c||(c={type:"style",instance:null,count:0,state:null},o.set(i,c)),c):{type:"void",instance:null,count:0,state:null};case"link":if(o.rel==="stylesheet"&&typeof o.href=="string"&&typeof o.precedence=="string"){e=Yl(o.href);var g=Ki(p).hoistableStyles,b=g.get(e);if(b||(p=p.ownerDocument||p,b={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},g.set(e,b),(g=p.querySelector(sc(e)))&&!g._p&&(b.instance=g,b.state.loading=5),or.has(e)||(o={rel:"preload",as:"style",href:o.href,crossOrigin:o.crossOrigin,integrity:o.integrity,media:o.media,hrefLang:o.hrefLang,referrerPolicy:o.referrerPolicy},or.set(e,o),g||pA(p,e,o,b.state))),i&&c===null)throw Error(s(528,""));return b}if(i&&c!==null)throw Error(s(529,""));return null;case"script":return i=o.async,o=o.src,typeof o=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=Ql(o),o=Ki(p).hoistableScripts,c=o.get(i),c||(c={type:"script",instance:null,count:0,state:null},o.set(i,c)),c):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,e))}}function Yl(e){return'href="'+Ce(e)+'"'}function sc(e){return'link[rel="stylesheet"]['+e+"]"}function Gv(e){return R({},e,{"data-precedence":e.precedence,precedence:null})}function pA(e,i,o,c){e.querySelector('link[rel="preload"][as="style"]['+i+"]")?c.loading=1:(i=e.createElement("link"),c.preload=i,i.addEventListener("load",function(){return c.loading|=1}),i.addEventListener("error",function(){return c.loading|=2}),Nn(i,"link",o),Ke(i),e.head.appendChild(i))}function Ql(e){return'[src="'+Ce(e)+'"]'}function ac(e){return"script[async]"+e}function Zv(e,i,o){if(i.count++,i.instance===null)switch(i.type){case"style":var c=e.querySelector('style[data-href~="'+Ce(o.href)+'"]');if(c)return i.instance=c,Ke(c),c;var p=R({},o,{"data-href":o.href,"data-precedence":o.precedence,href:null,precedence:null});return c=(e.ownerDocument||e).createElement("style"),Ke(c),Nn(c,"style",p),Fh(c,o.precedence,e),i.instance=c;case"stylesheet":p=Yl(o.href);var g=e.querySelector(sc(p));if(g)return i.state.loading|=4,i.instance=g,Ke(g),g;c=Gv(o),(p=or.get(p))&&Gm(c,p),g=(e.ownerDocument||e).createElement("link"),Ke(g);var b=g;return b._p=new Promise(function(I,V){b.onload=I,b.onerror=V}),Nn(g,"link",c),i.state.loading|=4,Fh(g,o.precedence,e),i.instance=g;case"script":return g=Ql(o.src),(p=e.querySelector(ac(g)))?(i.instance=p,Ke(p),p):(c=o,(p=or.get(g))&&(c=R({},o),Zm(c,p)),e=e.ownerDocument||e,p=e.createElement("script"),Ke(p),Nn(p,"link",c),e.head.appendChild(p),i.instance=p);case"void":return null;default:throw Error(s(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(c=i.instance,i.state.loading|=4,Fh(c,o.precedence,e));return i.instance}function Fh(e,i,o){for(var c=o.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),p=c.length?c[c.length-1]:null,g=p,b=0;b<c.length;b++){var I=c[b];if(I.dataset.precedence===i)g=I;else if(g!==p)break}g?g.parentNode.insertBefore(e,g.nextSibling):(i=o.nodeType===9?o.head:o,i.insertBefore(e,i.firstChild))}function Gm(e,i){e.crossOrigin==null&&(e.crossOrigin=i.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=i.referrerPolicy),e.title==null&&(e.title=i.title)}function Zm(e,i){e.crossOrigin==null&&(e.crossOrigin=i.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=i.referrerPolicy),e.integrity==null&&(e.integrity=i.integrity)}var Gh=null;function Kv(e,i,o){if(Gh===null){var c=new Map,p=Gh=new Map;p.set(o,c)}else p=Gh,c=p.get(o),c||(c=new Map,p.set(o,c));if(c.has(e))return c;for(c.set(e,null),o=o.getElementsByTagName(e),p=0;p<o.length;p++){var g=o[p];if(!(g[Zi]||g[ze]||e==="link"&&g.getAttribute("rel")==="stylesheet")&&g.namespaceURI!=="http://www.w3.org/2000/svg"){var b=g.getAttribute(i)||"";b=e+b;var I=c.get(b);I?I.push(g):c.set(b,[g])}}return c}function Yv(e,i,o){e=e.ownerDocument||e,e.head.insertBefore(o,i==="title"?e.querySelector("head > title"):null)}function gA(e,i,o){if(o===1||i.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return e=i.disabled,typeof i.precedence=="string"&&e==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function Qv(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function _A(e,i,o,c){if(o.type==="stylesheet"&&(typeof c.media!="string"||matchMedia(c.media).matches!==!1)&&(o.state.loading&4)===0){if(o.instance===null){var p=Yl(c.href),g=i.querySelector(sc(p));if(g){i=g._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(e.count++,e=Zh.bind(e),i.then(e,e)),o.state.loading|=4,o.instance=g,Ke(g);return}g=i.ownerDocument||i,c=Gv(c),(p=or.get(p))&&Gm(c,p),g=g.createElement("link"),Ke(g);var b=g;b._p=new Promise(function(I,V){b.onload=I,b.onerror=V}),Nn(g,"link",c),o.instance=g}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(o,i),(i=o.state.preload)&&(o.state.loading&3)===0&&(e.count++,o=Zh.bind(e),i.addEventListener("load",o),i.addEventListener("error",o))}}var Km=0;function yA(e,i){return e.stylesheets&&e.count===0&&Yh(e,e.stylesheets),0<e.count||0<e.imgCount?function(o){var c=setTimeout(function(){if(e.stylesheets&&Yh(e,e.stylesheets),e.unsuspend){var g=e.unsuspend;e.unsuspend=null,g()}},6e4+i);0<e.imgBytes&&Km===0&&(Km=62500*WS());var p=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&Yh(e,e.stylesheets),e.unsuspend)){var g=e.unsuspend;e.unsuspend=null,g()}},(e.imgBytes>Km?50:800)+i);return e.unsuspend=o,function(){e.unsuspend=null,clearTimeout(c),clearTimeout(p)}}:null}function Zh(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Yh(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Kh=null;function Yh(e,i){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Kh=new Map,i.forEach(vA,e),Kh=null,Zh.call(e))}function vA(e,i){if(!(i.state.loading&4)){var o=Kh.get(e);if(o)var c=o.get(null);else{o=new Map,Kh.set(e,o);for(var p=e.querySelectorAll("link[data-precedence],style[data-precedence]"),g=0;g<p.length;g++){var b=p[g];(b.nodeName==="LINK"||b.getAttribute("media")!=="not all")&&(o.set(b.dataset.precedence,b),c=b)}c&&o.set(null,c)}p=i.instance,b=p.getAttribute("data-precedence"),g=o.get(b)||c,g===c&&o.set(null,p),o.set(b,p),this.count++,c=Zh.bind(this),p.addEventListener("load",c),p.addEventListener("error",c),g?g.parentNode.insertBefore(p,g.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(p,e.firstChild)),i.state.loading|=4}}var oc={$$typeof:ct,Provider:null,Consumer:null,_currentValue:pt,_currentValue2:pt,_threadCount:0};function TA(e,i,o,c,p,g,b,I,V){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Gi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Gi(0),this.hiddenUpdates=Gi(null),this.identifierPrefix=c,this.onUncaughtError=p,this.onCaughtError=g,this.onRecoverableError=b,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=V,this.incompleteTransitions=new Map}function $v(e,i,o,c,p,g,b,I,V,J,lt,ft){return e=new TA(e,i,o,b,V,J,lt,ft,I),i=1,g===!0&&(i|=24),g=zn(3,null,null,i),e.current=g,g.stateNode=e,i=Rd(),i.refCount++,e.pooledCache=i,i.refCount++,g.memoizedState={element:c,isDehydrated:o,cache:i},Nd(g),e}function Xv(e){return e?(e=Rs,e):Rs}function Wv(e,i,o,c,p,g){p=Xv(p),c.context===null?c.context=p:c.pendingContext=p,c=Ea(i),c.payload={element:o},g=g===void 0?null:g,g!==null&&(c.callback=g),o=wa(e,c,i),o!==null&&(gi(o,e,i),zu(o,e,i))}function Jv(e,i){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var o=e.retryLane;e.retryLane=o!==0&&o<i?o:i}}function Ym(e,i){Jv(e,i),(e=e.alternate)&&Jv(e,i)}function tT(e){if(e.tag===13||e.tag===31){var i=ir(e,67108864);i!==null&&gi(i,e,67108864),Ym(e,67108864)}}function eT(e){if(e.tag===13||e.tag===31){var i=ki();i=yn(i);var o=ir(e,i);o!==null&&gi(o,e,i),Ym(e,i)}}var Qh=!0;function EA(e,i,o,c){var p=at.T;at.T=null;var g=vt.p;try{vt.p=2,Qm(e,i,o,c)}finally{vt.p=g,at.T=p}}function wA(e,i,o,c){var p=at.T;at.T=null;var g=vt.p;try{vt.p=8,Qm(e,i,o,c)}finally{vt.p=g,at.T=p}}function Qm(e,i,o,c){if(Qh){var p=$m(c);if(p===null)Dm(e,i,c,$h,o),iT(e,c);else if(SA(p,e,i,o,c))c.stopPropagation();else if(iT(e,c),i&4&&-1<bA.indexOf(e)){for(;p!==null;){var g=ni(p);if(g!==null)switch(g.tag){case 3:if(g=g.stateNode,g.current.memoizedState.isDehydrated){var b=qi(g.pendingLanes);if(b!==0){var I=g;for(I.pendingLanes|=2,I.entangledLanes|=2;b;){var V=1<<31-Ve(b);I.entanglements[1]|=V,b&=~V}ts(g),(ge&6)===0&&(Lh=Cn()+500,ec(0))}}break;case 31:case 13:I=ir(g,2),I!==null&&gi(I,g,2),Mh(),Ym(g,2)}if(g=$m(c),g===null&&Dm(e,i,c,$h,o),g===p)break;p=g}p!==null&&c.stopPropagation()}else Dm(e,i,c,null,o)}}function $m(e){return e=Dn(e),Xm(e)}var $h=null;function Xm(e){if($h=null,e=bi(e),e!==null){var i=h(e);if(i===null)e=null;else{var o=i.tag;if(o===13){if(e=m(i),e!==null)return e;e=null}else if(o===31){if(e=v(i),e!==null)return e;e=null}else if(o===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;e=null}else i!==e&&(e=null)}}return $h=e,null}function nT(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ps()){case gs:return 2;case Js:return 8;case hr:case Ru:return 32;case ao:return 268435456;default:return 32}default:return 32}}var Wm=!1,Pa=null,Ma=null,Da=null,lc=new Map,uc=new Map,ka=[],bA="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function iT(e,i){switch(e){case"focusin":case"focusout":Pa=null;break;case"dragenter":case"dragleave":Ma=null;break;case"mouseover":case"mouseout":Da=null;break;case"pointerover":case"pointerout":lc.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":uc.delete(i.pointerId)}}function cc(e,i,o,c,p,g){return e===null||e.nativeEvent!==g?(e={blockedOn:i,domEventName:o,eventSystemFlags:c,nativeEvent:g,targetContainers:[p]},i!==null&&(i=ni(i),i!==null&&tT(i)),e):(e.eventSystemFlags|=c,i=e.targetContainers,p!==null&&i.indexOf(p)===-1&&i.push(p),e)}function SA(e,i,o,c,p){switch(i){case"focusin":return Pa=cc(Pa,e,i,o,c,p),!0;case"dragenter":return Ma=cc(Ma,e,i,o,c,p),!0;case"mouseover":return Da=cc(Da,e,i,o,c,p),!0;case"pointerover":var g=p.pointerId;return lc.set(g,cc(lc.get(g)||null,e,i,o,c,p)),!0;case"gotpointercapture":return g=p.pointerId,uc.set(g,cc(uc.get(g)||null,e,i,o,c,p)),!0}return!1}function rT(e){var i=bi(e.target);if(i!==null){var o=h(i);if(o!==null){if(i=o.tag,i===13){if(i=m(o),i!==null){e.blockedOn=i,ti(e.priority,function(){eT(o)});return}}else if(i===31){if(i=v(o),i!==null){e.blockedOn=i,ti(e.priority,function(){eT(o)});return}}else if(i===3&&o.stateNode.current.memoizedState.isDehydrated){e.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Xh(e){if(e.blockedOn!==null)return!1;for(var i=e.targetContainers;0<i.length;){var o=$m(e.nativeEvent);if(o===null){o=e.nativeEvent;var c=new o.constructor(o.type,o);aa=c,o.target.dispatchEvent(c),aa=null}else return i=ni(o),i!==null&&tT(i),e.blockedOn=o,!1;i.shift()}return!0}function sT(e,i,o){Xh(e)&&o.delete(i)}function AA(){Wm=!1,Pa!==null&&Xh(Pa)&&(Pa=null),Ma!==null&&Xh(Ma)&&(Ma=null),Da!==null&&Xh(Da)&&(Da=null),lc.forEach(sT),uc.forEach(sT)}function Wh(e,i){e.blockedOn===i&&(e.blockedOn=null,Wm||(Wm=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,AA)))}var Jh=null;function aT(e){Jh!==e&&(Jh=e,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){Jh===e&&(Jh=null);for(var i=0;i<e.length;i+=3){var o=e[i],c=e[i+1],p=e[i+2];if(typeof c!="function"){if(Xm(c||o)===null)continue;break}var g=ni(o);g!==null&&(e.splice(i,3),i-=3,$d(g,{pending:!0,data:p,method:o.method,action:c},c,p))}}))}function $l(e){function i(V){return Wh(V,e)}Pa!==null&&Wh(Pa,e),Ma!==null&&Wh(Ma,e),Da!==null&&Wh(Da,e),lc.forEach(i),uc.forEach(i);for(var o=0;o<ka.length;o++){var c=ka[o];c.blockedOn===e&&(c.blockedOn=null)}for(;0<ka.length&&(o=ka[0],o.blockedOn===null);)rT(o),o.blockedOn===null&&ka.shift();if(o=(e.ownerDocument||e).$$reactFormReplay,o!=null)for(c=0;c<o.length;c+=3){var p=o[c],g=o[c+1],b=p[Ze]||null;if(typeof g=="function")b||aT(o);else if(b){var I=null;if(g&&g.hasAttribute("formAction")){if(p=g,b=g[Ze]||null)I=b.formAction;else if(Xm(p)!==null)continue}else I=b.action;typeof I=="function"?o[c+1]=I:(o.splice(c,3),c-=3),aT(o)}}}function oT(){function e(g){g.canIntercept&&g.info==="react-transition"&&g.intercept({handler:function(){return new Promise(function(b){return p=b})},focusReset:"manual",scroll:"manual"})}function i(){p!==null&&(p(),p=null),c||setTimeout(o,20)}function o(){if(!c&&!navigation.transition){var g=navigation.currentEntry;g&&g.url!=null&&navigation.navigate(g.url,{state:g.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var c=!1,p=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",i),navigation.addEventListener("navigateerror",i),setTimeout(o,100),function(){c=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",i),navigation.removeEventListener("navigateerror",i),p!==null&&(p(),p=null)}}}function Jm(e){this._internalRoot=e}tf.prototype.render=Jm.prototype.render=function(e){var i=this._internalRoot;if(i===null)throw Error(s(409));var o=i.current,c=ki();Wv(o,c,e,i,null,null)},tf.prototype.unmount=Jm.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var i=e.containerInfo;Wv(e.current,2,null,e,null,null),Mh(),i[Ei]=null}};function tf(e){this._internalRoot=e}tf.prototype.unstable_scheduleHydration=function(e){if(e){var i=co();e={blockedOn:null,target:e,priority:i};for(var o=0;o<ka.length&&i!==0&&i<ka[o].priority;o++);ka.splice(o,0,e),o===0&&rT(e)}};var lT=t.version;if(lT!=="19.2.0")throw Error(s(527,lT,"19.2.0"));vt.findDOMNode=function(e){var i=e._reactInternals;if(i===void 0)throw typeof e.render=="function"?Error(s(188)):(e=Object.keys(e).join(","),Error(s(268,e)));return e=T(i),e=e!==null?S(e):null,e=e===null?null:e.stateNode,e};var RA={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:at,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ef=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ef.isDisabled&&ef.supportsFiber)try{Jn=ef.inject(RA),tn=ef}catch{}}return fc.createRoot=function(e,i){if(!l(e))throw Error(s(299));var o=!1,c="",p=py,g=gy,b=_y;return i!=null&&(i.unstable_strictMode===!0&&(o=!0),i.identifierPrefix!==void 0&&(c=i.identifierPrefix),i.onUncaughtError!==void 0&&(p=i.onUncaughtError),i.onCaughtError!==void 0&&(g=i.onCaughtError),i.onRecoverableError!==void 0&&(b=i.onRecoverableError)),i=$v(e,1,!1,null,null,o,c,null,p,g,b,oT),e[Ei]=i.current,Mm(e),new Jm(i)},fc.hydrateRoot=function(e,i,o){if(!l(e))throw Error(s(299));var c=!1,p="",g=py,b=gy,I=_y,V=null;return o!=null&&(o.unstable_strictMode===!0&&(c=!0),o.identifierPrefix!==void 0&&(p=o.identifierPrefix),o.onUncaughtError!==void 0&&(g=o.onUncaughtError),o.onCaughtError!==void 0&&(b=o.onCaughtError),o.onRecoverableError!==void 0&&(I=o.onRecoverableError),o.formState!==void 0&&(V=o.formState)),i=$v(e,1,!0,i,o??null,c,p,V,g,b,I,oT),i.context=Xv(null),o=i.current,c=ki(),c=yn(c),p=Ea(c),p.callback=null,wa(o,p,c),o=c,i.current.lanes=o,fr(i,o),ts(i),e[Ei]=i.current,Mm(e),new tf(i)},fc.version="19.2.0",fc}var yT;function DA(){if(yT)return np.exports;yT=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),np.exports=MA(),np.exports}var kA=DA();const VA=Xp(kA);/**
 * react-router v7.9.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var vT="popstate";function UA(r={}){function t(l,h){let{pathname:m="/",search:v="",hash:y=""}=il(l.location.hash.substring(1));return!m.startsWith("/")&&!m.startsWith(".")&&(m="/"+m),wp("",{pathname:m,search:v,hash:y},h.state&&h.state.usr||null,h.state&&h.state.key||"default")}function n(l,h){let m=l.document.querySelector("base"),v="";if(m&&m.getAttribute("href")){let y=l.location.href,T=y.indexOf("#");v=T===-1?y:y.slice(0,T)}return v+"#"+(typeof h=="string"?h:Cc(h))}function s(l,h){Nr(l.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(h)})`)}return BA(t,n,s,r)}function je(r,t){if(r===!1||r===null||typeof r>"u")throw new Error(t)}function Nr(r,t){if(!r){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function zA(){return Math.random().toString(36).substring(2,10)}function TT(r,t){return{usr:r.state,key:r.key,idx:t}}function wp(r,t,n=null,s){return{pathname:typeof r=="string"?r:r.pathname,search:"",hash:"",...typeof t=="string"?il(t):t,state:n,key:t&&t.key||s||zA()}}function Cc({pathname:r="/",search:t="",hash:n=""}){return t&&t!=="?"&&(r+=t.charAt(0)==="?"?t:"?"+t),n&&n!=="#"&&(r+=n.charAt(0)==="#"?n:"#"+n),r}function il(r){let t={};if(r){let n=r.indexOf("#");n>=0&&(t.hash=r.substring(n),r=r.substring(0,n));let s=r.indexOf("?");s>=0&&(t.search=r.substring(s),r=r.substring(0,s)),r&&(t.pathname=r)}return t}function BA(r,t,n,s={}){let{window:l=document.defaultView,v5Compat:h=!1}=s,m=l.history,v="POP",y=null,T=S();T==null&&(T=0,m.replaceState({...m.state,idx:T},""));function S(){return(m.state||{idx:null}).idx}function R(){v="POP";let G=S(),it=G==null?null:G-T;T=G,y&&y({action:v,location:K.location,delta:it})}function N(G,it){v="PUSH";let rt=wp(K.location,G,it);n&&n(rt,G),T=S()+1;let ct=TT(rt,T),Ct=K.createHref(rt);try{m.pushState(ct,"",Ct)}catch(Lt){if(Lt instanceof DOMException&&Lt.name==="DataCloneError")throw Lt;l.location.assign(Ct)}h&&y&&y({action:v,location:K.location,delta:1})}function j(G,it){v="REPLACE";let rt=wp(K.location,G,it);n&&n(rt,G),T=S();let ct=TT(rt,T),Ct=K.createHref(rt);m.replaceState(ct,"",Ct),h&&y&&y({action:v,location:K.location,delta:0})}function B(G){return jA(G)}let K={get action(){return v},get location(){return r(l,m)},listen(G){if(y)throw new Error("A history only accepts one active listener");return l.addEventListener(vT,R),y=G,()=>{l.removeEventListener(vT,R),y=null}},createHref(G){return t(l,G)},createURL:B,encodeLocation(G){let it=B(G);return{pathname:it.pathname,search:it.search,hash:it.hash}},push:N,replace:j,go(G){return m.go(G)}};return K}function jA(r,t=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),je(n,"No window.location.(origin|href) available to create URL");let s=typeof r=="string"?r:Cc(r);return s=s.replace(/ $/,"%20"),!t&&s.startsWith("//")&&(s=n+s),new URL(s,n)}function a0(r,t,n="/"){return HA(r,t,n,!1)}function HA(r,t,n,s){let l=typeof t=="string"?il(t):t,h=Gs(l.pathname||"/",n);if(h==null)return null;let m=o0(r);qA(m);let v=null;for(let y=0;v==null&&y<m.length;++y){let T=t1(h);v=WA(m[y],T,s)}return v}function o0(r,t=[],n=[],s="",l=!1){let h=(m,v,y=l,T)=>{let S={relativePath:T===void 0?m.path||"":T,caseSensitive:m.caseSensitive===!0,childrenIndex:v,route:m};if(S.relativePath.startsWith("/")){if(!S.relativePath.startsWith(s)&&y)return;je(S.relativePath.startsWith(s),`Absolute route path "${S.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),S.relativePath=S.relativePath.slice(s.length)}let R=Fs([s,S.relativePath]),N=n.concat(S);m.children&&m.children.length>0&&(je(m.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${R}".`),o0(m.children,t,N,R,y)),!(m.path==null&&!m.index)&&t.push({path:R,score:$A(R,m.index),routesMeta:N})};return r.forEach((m,v)=>{if(m.path===""||!m.path?.includes("?"))h(m,v);else for(let y of l0(m.path))h(m,v,!0,y)}),t}function l0(r){let t=r.split("/");if(t.length===0)return[];let[n,...s]=t,l=n.endsWith("?"),h=n.replace(/\?$/,"");if(s.length===0)return l?[h,""]:[h];let m=l0(s.join("/")),v=[];return v.push(...m.map(y=>y===""?h:[h,y].join("/"))),l&&v.push(...m),v.map(y=>r.startsWith("/")&&y===""?"/":y)}function qA(r){r.sort((t,n)=>t.score!==n.score?n.score-t.score:XA(t.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}var FA=/^:[\w-]+$/,GA=3,ZA=2,KA=1,YA=10,QA=-2,ET=r=>r==="*";function $A(r,t){let n=r.split("/"),s=n.length;return n.some(ET)&&(s+=QA),t&&(s+=ZA),n.filter(l=>!ET(l)).reduce((l,h)=>l+(FA.test(h)?GA:h===""?KA:YA),s)}function XA(r,t){return r.length===t.length&&r.slice(0,-1).every((s,l)=>s===t[l])?r[r.length-1]-t[t.length-1]:0}function WA(r,t,n=!1){let{routesMeta:s}=r,l={},h="/",m=[];for(let v=0;v<s.length;++v){let y=s[v],T=v===s.length-1,S=h==="/"?t:t.slice(h.length)||"/",R=Af({path:y.relativePath,caseSensitive:y.caseSensitive,end:T},S),N=y.route;if(!R&&T&&n&&!s[s.length-1].route.index&&(R=Af({path:y.relativePath,caseSensitive:y.caseSensitive,end:!1},S)),!R)return null;Object.assign(l,R.params),m.push({params:l,pathname:Fs([h,R.pathname]),pathnameBase:r1(Fs([h,R.pathnameBase])),route:N}),R.pathnameBase!=="/"&&(h=Fs([h,R.pathnameBase]))}return m}function Af(r,t){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[n,s]=JA(r.path,r.caseSensitive,r.end),l=t.match(n);if(!l)return null;let h=l[0],m=h.replace(/(.)\/+$/,"$1"),v=l.slice(1);return{params:s.reduce((T,{paramName:S,isOptional:R},N)=>{if(S==="*"){let B=v[N]||"";m=h.slice(0,h.length-B.length).replace(/(.)\/+$/,"$1")}const j=v[N];return R&&!j?T[S]=void 0:T[S]=(j||"").replace(/%2F/g,"/"),T},{}),pathname:h,pathnameBase:m,pattern:r}}function JA(r,t=!1,n=!0){Nr(r==="*"||!r.endsWith("*")||r.endsWith("/*"),`Route path "${r}" will be treated as if it were "${r.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${r.replace(/\*$/,"/*")}".`);let s=[],l="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(m,v,y)=>(s.push({paramName:v,isOptional:y!=null}),y?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return r.endsWith("*")?(s.push({paramName:"*"}),l+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?l+="\\/*$":r!==""&&r!=="/"&&(l+="(?:(?=\\/|$))"),[new RegExp(l,t?void 0:"i"),s]}function t1(r){try{return r.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Nr(!1,`The URL path "${r}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),r}}function Gs(r,t){if(t==="/")return r;if(!r.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,s=r.charAt(n);return s&&s!=="/"?null:r.slice(n)||"/"}function e1(r,t="/"){let{pathname:n,search:s="",hash:l=""}=typeof r=="string"?il(r):r;return{pathname:n?n.startsWith("/")?n:n1(n,t):t,search:s1(s),hash:a1(l)}}function n1(r,t){let n=t.replace(/\/+$/,"").split("/");return r.split("/").forEach(l=>{l===".."?n.length>1&&n.pop():l!=="."&&n.push(l)}),n.length>1?n.join("/"):"/"}function ap(r,t,n,s){return`Cannot include a '${r}' character in a manually specified \`to.${t}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function i1(r){return r.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function u0(r){let t=i1(r);return t.map((n,s)=>s===t.length-1?n.pathname:n.pathnameBase)}function c0(r,t,n,s=!1){let l;typeof r=="string"?l=il(r):(l={...r},je(!l.pathname||!l.pathname.includes("?"),ap("?","pathname","search",l)),je(!l.pathname||!l.pathname.includes("#"),ap("#","pathname","hash",l)),je(!l.search||!l.search.includes("#"),ap("#","search","hash",l)));let h=r===""||l.pathname==="",m=h?"/":l.pathname,v;if(m==null)v=n;else{let R=t.length-1;if(!s&&m.startsWith("..")){let N=m.split("/");for(;N[0]==="..";)N.shift(),R-=1;l.pathname=N.join("/")}v=R>=0?t[R]:"/"}let y=e1(l,v),T=m&&m!=="/"&&m.endsWith("/"),S=(h||m===".")&&n.endsWith("/");return!y.pathname.endsWith("/")&&(T||S)&&(y.pathname+="/"),y}var Fs=r=>r.join("/").replace(/\/\/+/g,"/"),r1=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),s1=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,a1=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r;function o1(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}var h0=["POST","PUT","PATCH","DELETE"];new Set(h0);var l1=["GET",...h0];new Set(l1);var yu=$.createContext(null);yu.displayName="DataRouter";var Gf=$.createContext(null);Gf.displayName="DataRouterState";$.createContext(!1);var f0=$.createContext({isTransitioning:!1});f0.displayName="ViewTransition";var u1=$.createContext(new Map);u1.displayName="Fetchers";var c1=$.createContext(null);c1.displayName="Await";var fs=$.createContext(null);fs.displayName="Navigation";var Vc=$.createContext(null);Vc.displayName="Location";var Xs=$.createContext({outlet:null,matches:[],isDataRoute:!1});Xs.displayName="Route";var Jp=$.createContext(null);Jp.displayName="RouteError";function h1(r,{relative:t}={}){je(Uc(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:s}=$.useContext(fs),{hash:l,pathname:h,search:m}=zc(r,{relative:t}),v=h;return n!=="/"&&(v=h==="/"?n:Fs([n,h])),s.createHref({pathname:v,search:m,hash:l})}function Uc(){return $.useContext(Vc)!=null}function rl(){return je(Uc(),"useLocation() may be used only in the context of a <Router> component."),$.useContext(Vc).location}var d0="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function m0(r){$.useContext(fs).static||$.useLayoutEffect(r)}function f1(){let{isDataRoute:r}=$.useContext(Xs);return r?A1():d1()}function d1(){je(Uc(),"useNavigate() may be used only in the context of a <Router> component.");let r=$.useContext(yu),{basename:t,navigator:n}=$.useContext(fs),{matches:s}=$.useContext(Xs),{pathname:l}=rl(),h=JSON.stringify(u0(s)),m=$.useRef(!1);return m0(()=>{m.current=!0}),$.useCallback((y,T={})=>{if(Nr(m.current,d0),!m.current)return;if(typeof y=="number"){n.go(y);return}let S=c0(y,JSON.parse(h),l,T.relative==="path");r==null&&t!=="/"&&(S.pathname=S.pathname==="/"?t:Fs([t,S.pathname])),(T.replace?n.replace:n.push)(S,T.state,T)},[t,n,h,l,r])}$.createContext(null);function zc(r,{relative:t}={}){let{matches:n}=$.useContext(Xs),{pathname:s}=rl(),l=JSON.stringify(u0(n));return $.useMemo(()=>c0(r,JSON.parse(l),s,t==="path"),[r,l,s,t])}function m1(r,t){return p0(r,t)}function p0(r,t,n,s,l){je(Uc(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:h}=$.useContext(fs),{matches:m}=$.useContext(Xs),v=m[m.length-1],y=v?v.params:{},T=v?v.pathname:"/",S=v?v.pathnameBase:"/",R=v&&v.route;{let rt=R&&R.path||"";g0(T,!R||rt.endsWith("*")||rt.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${T}" (under <Route path="${rt}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${rt}"> to <Route path="${rt==="/"?"*":`${rt}/*`}">.`)}let N=rl(),j;if(t){let rt=typeof t=="string"?il(t):t;je(S==="/"||rt.pathname?.startsWith(S),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${S}" but pathname "${rt.pathname}" was given in the \`location\` prop.`),j=rt}else j=N;let B=j.pathname||"/",K=B;if(S!=="/"){let rt=S.replace(/^\//,"").split("/");K="/"+B.replace(/^\//,"").split("/").slice(rt.length).join("/")}let G=a0(r,{pathname:K});Nr(R||G!=null,`No routes matched location "${j.pathname}${j.search}${j.hash}" `),Nr(G==null||G[G.length-1].route.element!==void 0||G[G.length-1].route.Component!==void 0||G[G.length-1].route.lazy!==void 0,`Matched leaf route at location "${j.pathname}${j.search}${j.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let it=v1(G&&G.map(rt=>Object.assign({},rt,{params:Object.assign({},y,rt.params),pathname:Fs([S,h.encodeLocation?h.encodeLocation(rt.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:rt.pathname]),pathnameBase:rt.pathnameBase==="/"?S:Fs([S,h.encodeLocation?h.encodeLocation(rt.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:rt.pathnameBase])})),m,n,s,l);return t&&it?$.createElement(Vc.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...j},navigationType:"POP"}},it):it}function p1(){let r=S1(),t=o1(r)?`${r.status} ${r.statusText}`:r instanceof Error?r.message:JSON.stringify(r),n=r instanceof Error?r.stack:null,s="rgba(200,200,200, 0.5)",l={padding:"0.5rem",backgroundColor:s},h={padding:"2px 4px",backgroundColor:s},m=null;return console.error("Error handled by React Router default ErrorBoundary:",r),m=$.createElement($.Fragment,null,$.createElement("p",null,"💿 Hey developer 👋"),$.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",$.createElement("code",{style:h},"ErrorBoundary")," or"," ",$.createElement("code",{style:h},"errorElement")," prop on your route.")),$.createElement($.Fragment,null,$.createElement("h2",null,"Unexpected Application Error!"),$.createElement("h3",{style:{fontStyle:"italic"}},t),n?$.createElement("pre",{style:l},n):null,m)}var g1=$.createElement(p1,null),_1=class extends $.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,t){return t.location!==r.location||t.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:t.error,location:t.location,revalidation:r.revalidation||t.revalidation}}componentDidCatch(r,t){this.props.unstable_onError?this.props.unstable_onError(r,t):console.error("React Router caught the following error during render",r)}render(){return this.state.error!==void 0?$.createElement(Xs.Provider,{value:this.props.routeContext},$.createElement(Jp.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function y1({routeContext:r,match:t,children:n}){let s=$.useContext(yu);return s&&s.static&&s.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=t.route.id),$.createElement(Xs.Provider,{value:r},n)}function v1(r,t=[],n=null,s=null,l=null){if(r==null){if(!n)return null;if(n.errors)r=n.matches;else if(t.length===0&&!n.initialized&&n.matches.length>0)r=n.matches;else return null}let h=r,m=n?.errors;if(m!=null){let T=h.findIndex(S=>S.route.id&&m?.[S.route.id]!==void 0);je(T>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(m).join(",")}`),h=h.slice(0,Math.min(h.length,T+1))}let v=!1,y=-1;if(n)for(let T=0;T<h.length;T++){let S=h[T];if((S.route.HydrateFallback||S.route.hydrateFallbackElement)&&(y=T),S.route.id){let{loaderData:R,errors:N}=n,j=S.route.loader&&!R.hasOwnProperty(S.route.id)&&(!N||N[S.route.id]===void 0);if(S.route.lazy||j){v=!0,y>=0?h=h.slice(0,y+1):h=[h[0]];break}}}return h.reduceRight((T,S,R)=>{let N,j=!1,B=null,K=null;n&&(N=m&&S.route.id?m[S.route.id]:void 0,B=S.route.errorElement||g1,v&&(y<0&&R===0?(g0("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),j=!0,K=null):y===R&&(j=!0,K=S.route.hydrateFallbackElement||null)));let G=t.concat(h.slice(0,R+1)),it=()=>{let rt;return N?rt=B:j?rt=K:S.route.Component?rt=$.createElement(S.route.Component,null):S.route.element?rt=S.route.element:rt=T,$.createElement(y1,{match:S,routeContext:{outlet:T,matches:G,isDataRoute:n!=null},children:rt})};return n&&(S.route.ErrorBoundary||S.route.errorElement||R===0)?$.createElement(_1,{location:n.location,revalidation:n.revalidation,component:B,error:N,children:it(),routeContext:{outlet:null,matches:G,isDataRoute:!0},unstable_onError:s}):it()},null)}function tg(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function T1(r){let t=$.useContext(yu);return je(t,tg(r)),t}function E1(r){let t=$.useContext(Gf);return je(t,tg(r)),t}function w1(r){let t=$.useContext(Xs);return je(t,tg(r)),t}function eg(r){let t=w1(r),n=t.matches[t.matches.length-1];return je(n.route.id,`${r} can only be used on routes that contain a unique "id"`),n.route.id}function b1(){return eg("useRouteId")}function S1(){let r=$.useContext(Jp),t=E1("useRouteError"),n=eg("useRouteError");return r!==void 0?r:t.errors?.[n]}function A1(){let{router:r}=T1("useNavigate"),t=eg("useNavigate"),n=$.useRef(!1);return m0(()=>{n.current=!0}),$.useCallback(async(l,h={})=>{Nr(n.current,d0),n.current&&(typeof l=="number"?r.navigate(l):await r.navigate(l,{fromRouteId:t,...h}))},[r,t])}var wT={};function g0(r,t,n){!t&&!wT[r]&&(wT[r]=!0,Nr(!1,n))}$.memo(R1);function R1({routes:r,future:t,state:n,unstable_onError:s}){return p0(r,void 0,n,s,t)}function Xl(r){je(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function C1({basename:r="/",children:t=null,location:n,navigationType:s="POP",navigator:l,static:h=!1}){je(!Uc(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let m=r.replace(/^\/*/,"/"),v=$.useMemo(()=>({basename:m,navigator:l,static:h,future:{}}),[m,l,h]);typeof n=="string"&&(n=il(n));let{pathname:y="/",search:T="",hash:S="",state:R=null,key:N="default"}=n,j=$.useMemo(()=>{let B=Gs(y,m);return B==null?null:{location:{pathname:B,search:T,hash:S,state:R,key:N},navigationType:s}},[m,y,T,S,R,N,s]);return Nr(j!=null,`<Router basename="${m}"> is not able to match the URL "${y}${T}${S}" because it does not start with the basename, so the <Router> won't render anything.`),j==null?null:$.createElement(fs.Provider,{value:v},$.createElement(Vc.Provider,{children:t,value:j}))}function I1({children:r,location:t}){return m1(bp(r),t)}function bp(r,t=[]){let n=[];return $.Children.forEach(r,(s,l)=>{if(!$.isValidElement(s))return;let h=[...t,l];if(s.type===$.Fragment){n.push.apply(n,bp(s.props.children,h));return}je(s.type===Xl,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),je(!s.props.index||!s.props.children,"An index route cannot have child routes.");let m={id:s.props.id||h.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,middleware:s.props.middleware,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(m.children=bp(s.props.children,h)),n.push(m)}),n}var ff="get",df="application/x-www-form-urlencoded";function Zf(r){return r!=null&&typeof r.tagName=="string"}function x1(r){return Zf(r)&&r.tagName.toLowerCase()==="button"}function N1(r){return Zf(r)&&r.tagName.toLowerCase()==="form"}function O1(r){return Zf(r)&&r.tagName.toLowerCase()==="input"}function L1(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function P1(r,t){return r.button===0&&(!t||t==="_self")&&!L1(r)}var nf=null;function M1(){if(nf===null)try{new FormData(document.createElement("form"),0),nf=!1}catch{nf=!0}return nf}var D1=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function op(r){return r!=null&&!D1.has(r)?(Nr(!1,`"${r}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${df}"`),null):r}function k1(r,t){let n,s,l,h,m;if(N1(r)){let v=r.getAttribute("action");s=v?Gs(v,t):null,n=r.getAttribute("method")||ff,l=op(r.getAttribute("enctype"))||df,h=new FormData(r)}else if(x1(r)||O1(r)&&(r.type==="submit"||r.type==="image")){let v=r.form;if(v==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let y=r.getAttribute("formaction")||v.getAttribute("action");if(s=y?Gs(y,t):null,n=r.getAttribute("formmethod")||v.getAttribute("method")||ff,l=op(r.getAttribute("formenctype"))||op(v.getAttribute("enctype"))||df,h=new FormData(v,r),!M1()){let{name:T,type:S,value:R}=r;if(S==="image"){let N=T?`${T}.`:"";h.append(`${N}x`,"0"),h.append(`${N}y`,"0")}else T&&h.append(T,R)}}else{if(Zf(r))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=ff,s=null,l=df,m=r}return h&&l==="text/plain"&&(m=h,h=void 0),{action:s,method:n.toLowerCase(),encType:l,formData:h,body:m}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function ng(r,t){if(r===!1||r===null||typeof r>"u")throw new Error(t)}function V1(r,t,n){let s=typeof r=="string"?new URL(r,typeof window>"u"?"server://singlefetch/":window.location.origin):r;return s.pathname==="/"?s.pathname=`_root.${n}`:t&&Gs(s.pathname,t)==="/"?s.pathname=`${t.replace(/\/$/,"")}/_root.${n}`:s.pathname=`${s.pathname.replace(/\/$/,"")}.${n}`,s}async function U1(r,t){if(r.id in t)return t[r.id];try{let n=await import(r.module);return t[r.id]=n,n}catch(n){return console.error(`Error loading route module \`${r.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function z1(r){return r==null?!1:r.href==null?r.rel==="preload"&&typeof r.imageSrcSet=="string"&&typeof r.imageSizes=="string":typeof r.rel=="string"&&typeof r.href=="string"}async function B1(r,t,n){let s=await Promise.all(r.map(async l=>{let h=t.routes[l.route.id];if(h){let m=await U1(h,n);return m.links?m.links():[]}return[]}));return F1(s.flat(1).filter(z1).filter(l=>l.rel==="stylesheet"||l.rel==="preload").map(l=>l.rel==="stylesheet"?{...l,rel:"prefetch",as:"style"}:{...l,rel:"prefetch"}))}function bT(r,t,n,s,l,h){let m=(y,T)=>n[T]?y.route.id!==n[T].route.id:!0,v=(y,T)=>n[T].pathname!==y.pathname||n[T].route.path?.endsWith("*")&&n[T].params["*"]!==y.params["*"];return h==="assets"?t.filter((y,T)=>m(y,T)||v(y,T)):h==="data"?t.filter((y,T)=>{let S=s.routes[y.route.id];if(!S||!S.hasLoader)return!1;if(m(y,T)||v(y,T))return!0;if(y.route.shouldRevalidate){let R=y.route.shouldRevalidate({currentUrl:new URL(l.pathname+l.search+l.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(r,window.origin),nextParams:y.params,defaultShouldRevalidate:!0});if(typeof R=="boolean")return R}return!0}):[]}function j1(r,t,{includeHydrateFallback:n}={}){return H1(r.map(s=>{let l=t.routes[s.route.id];if(!l)return[];let h=[l.module];return l.clientActionModule&&(h=h.concat(l.clientActionModule)),l.clientLoaderModule&&(h=h.concat(l.clientLoaderModule)),n&&l.hydrateFallbackModule&&(h=h.concat(l.hydrateFallbackModule)),l.imports&&(h=h.concat(l.imports)),h}).flat(1))}function H1(r){return[...new Set(r)]}function q1(r){let t={},n=Object.keys(r).sort();for(let s of n)t[s]=r[s];return t}function F1(r,t){let n=new Set;return new Set(t),r.reduce((s,l)=>{let h=JSON.stringify(q1(l));return n.has(h)||(n.add(h),s.push({key:h,link:l})),s},[])}function _0(){let r=$.useContext(yu);return ng(r,"You must render this element inside a <DataRouterContext.Provider> element"),r}function G1(){let r=$.useContext(Gf);return ng(r,"You must render this element inside a <DataRouterStateContext.Provider> element"),r}var ig=$.createContext(void 0);ig.displayName="FrameworkContext";function y0(){let r=$.useContext(ig);return ng(r,"You must render this element inside a <HydratedRouter> element"),r}function Z1(r,t){let n=$.useContext(ig),[s,l]=$.useState(!1),[h,m]=$.useState(!1),{onFocus:v,onBlur:y,onMouseEnter:T,onMouseLeave:S,onTouchStart:R}=t,N=$.useRef(null);$.useEffect(()=>{if(r==="render"&&m(!0),r==="viewport"){let K=it=>{it.forEach(rt=>{m(rt.isIntersecting)})},G=new IntersectionObserver(K,{threshold:.5});return N.current&&G.observe(N.current),()=>{G.disconnect()}}},[r]),$.useEffect(()=>{if(s){let K=setTimeout(()=>{m(!0)},100);return()=>{clearTimeout(K)}}},[s]);let j=()=>{l(!0)},B=()=>{l(!1),m(!1)};return n?r!=="intent"?[h,N,{}]:[h,N,{onFocus:dc(v,j),onBlur:dc(y,B),onMouseEnter:dc(T,j),onMouseLeave:dc(S,B),onTouchStart:dc(R,j)}]:[!1,N,{}]}function dc(r,t){return n=>{r&&r(n),n.defaultPrevented||t(n)}}function K1({page:r,...t}){let{router:n}=_0(),s=$.useMemo(()=>a0(n.routes,r,n.basename),[n.routes,r,n.basename]);return s?$.createElement(Q1,{page:r,matches:s,...t}):null}function Y1(r){let{manifest:t,routeModules:n}=y0(),[s,l]=$.useState([]);return $.useEffect(()=>{let h=!1;return B1(r,t,n).then(m=>{h||l(m)}),()=>{h=!0}},[r,t,n]),s}function Q1({page:r,matches:t,...n}){let s=rl(),{manifest:l,routeModules:h}=y0(),{basename:m}=_0(),{loaderData:v,matches:y}=G1(),T=$.useMemo(()=>bT(r,t,y,l,s,"data"),[r,t,y,l,s]),S=$.useMemo(()=>bT(r,t,y,l,s,"assets"),[r,t,y,l,s]),R=$.useMemo(()=>{if(r===s.pathname+s.search+s.hash)return[];let B=new Set,K=!1;if(t.forEach(it=>{let rt=l.routes[it.route.id];!rt||!rt.hasLoader||(!T.some(ct=>ct.route.id===it.route.id)&&it.route.id in v&&h[it.route.id]?.shouldRevalidate||rt.hasClientLoader?K=!0:B.add(it.route.id))}),B.size===0)return[];let G=V1(r,m,"data");return K&&B.size>0&&G.searchParams.set("_routes",t.filter(it=>B.has(it.route.id)).map(it=>it.route.id).join(",")),[G.pathname+G.search]},[m,v,s,l,T,t,r,h]),N=$.useMemo(()=>j1(S,l),[S,l]),j=Y1(S);return $.createElement($.Fragment,null,R.map(B=>$.createElement("link",{key:B,rel:"prefetch",as:"fetch",href:B,...n})),N.map(B=>$.createElement("link",{key:B,rel:"modulepreload",href:B,...n})),j.map(({key:B,link:K})=>$.createElement("link",{key:B,nonce:n.nonce,...K})))}function $1(...r){return t=>{r.forEach(n=>{typeof n=="function"?n(t):n!=null&&(n.current=t)})}}var v0=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{v0&&(window.__reactRouterVersion="7.9.3")}catch{}function X1({basename:r,children:t,window:n}){let s=$.useRef();s.current==null&&(s.current=UA({window:n,v5Compat:!0}));let l=s.current,[h,m]=$.useState({action:l.action,location:l.location}),v=$.useCallback(y=>{$.startTransition(()=>m(y))},[m]);return $.useLayoutEffect(()=>l.listen(v),[l,v]),$.createElement(C1,{basename:r,children:t,location:h.location,navigationType:h.action,navigator:l})}var T0=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,E0=$.forwardRef(function({onClick:t,discover:n="render",prefetch:s="none",relative:l,reloadDocument:h,replace:m,state:v,target:y,to:T,preventScrollReset:S,viewTransition:R,...N},j){let{basename:B}=$.useContext(fs),K=typeof T=="string"&&T0.test(T),G,it=!1;if(typeof T=="string"&&K&&(G=T,v0))try{let P=new URL(window.location.href),F=T.startsWith("//")?new URL(P.protocol+T):new URL(T),U=Gs(F.pathname,B);F.origin===P.origin&&U!=null?T=U+F.search+F.hash:it=!0}catch{Nr(!1,`<Link to="${T}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let rt=h1(T,{relative:l}),[ct,Ct,Lt]=Z1(s,N),kt=tR(T,{replace:m,state:v,target:y,preventScrollReset:S,relative:l,viewTransition:R});function D(P){t&&t(P),P.defaultPrevented||kt(P)}let O=$.createElement("a",{...N,...Lt,href:G||rt,onClick:it||h?t:D,ref:$1(j,Ct),target:y,"data-discover":!K&&n==="render"?"true":void 0});return ct&&!K?$.createElement($.Fragment,null,O,$.createElement(K1,{page:rt})):O});E0.displayName="Link";var Wl=$.forwardRef(function({"aria-current":t="page",caseSensitive:n=!1,className:s="",end:l=!1,style:h,to:m,viewTransition:v,children:y,...T},S){let R=zc(m,{relative:T.relative}),N=rl(),j=$.useContext(Gf),{navigator:B,basename:K}=$.useContext(fs),G=j!=null&&sR(R)&&v===!0,it=B.encodeLocation?B.encodeLocation(R).pathname:R.pathname,rt=N.pathname,ct=j&&j.navigation&&j.navigation.location?j.navigation.location.pathname:null;n||(rt=rt.toLowerCase(),ct=ct?ct.toLowerCase():null,it=it.toLowerCase()),ct&&K&&(ct=Gs(ct,K)||ct);const Ct=it!=="/"&&it.endsWith("/")?it.length-1:it.length;let Lt=rt===it||!l&&rt.startsWith(it)&&rt.charAt(Ct)==="/",kt=ct!=null&&(ct===it||!l&&ct.startsWith(it)&&ct.charAt(it.length)==="/"),D={isActive:Lt,isPending:kt,isTransitioning:G},O=Lt?t:void 0,P;typeof s=="function"?P=s(D):P=[s,Lt?"active":null,kt?"pending":null,G?"transitioning":null].filter(Boolean).join(" ");let F=typeof h=="function"?h(D):h;return $.createElement(E0,{...T,"aria-current":O,className:P,ref:S,style:F,to:m,viewTransition:v},typeof y=="function"?y(D):y)});Wl.displayName="NavLink";var W1=$.forwardRef(({discover:r="render",fetcherKey:t,navigate:n,reloadDocument:s,replace:l,state:h,method:m=ff,action:v,onSubmit:y,relative:T,preventScrollReset:S,viewTransition:R,...N},j)=>{let B=iR(),K=rR(v,{relative:T}),G=m.toLowerCase()==="get"?"get":"post",it=typeof v=="string"&&T0.test(v),rt=ct=>{if(y&&y(ct),ct.defaultPrevented)return;ct.preventDefault();let Ct=ct.nativeEvent.submitter,Lt=Ct?.getAttribute("formmethod")||m;B(Ct||ct.currentTarget,{fetcherKey:t,method:Lt,navigate:n,replace:l,state:h,relative:T,preventScrollReset:S,viewTransition:R})};return $.createElement("form",{ref:j,method:G,action:K,onSubmit:s?y:rt,...N,"data-discover":!it&&r==="render"?"true":void 0})});W1.displayName="Form";function J1(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function w0(r){let t=$.useContext(yu);return je(t,J1(r)),t}function tR(r,{target:t,replace:n,state:s,preventScrollReset:l,relative:h,viewTransition:m}={}){let v=f1(),y=rl(),T=zc(r,{relative:h});return $.useCallback(S=>{if(P1(S,t)){S.preventDefault();let R=n!==void 0?n:Cc(y)===Cc(T);v(r,{replace:R,state:s,preventScrollReset:l,relative:h,viewTransition:m})}},[y,v,T,n,s,t,r,l,h,m])}var eR=0,nR=()=>`__${String(++eR)}__`;function iR(){let{router:r}=w0("useSubmit"),{basename:t}=$.useContext(fs),n=b1();return $.useCallback(async(s,l={})=>{let{action:h,method:m,encType:v,formData:y,body:T}=k1(s,t);if(l.navigate===!1){let S=l.fetcherKey||nR();await r.fetch(S,n,l.action||h,{preventScrollReset:l.preventScrollReset,formData:y,body:T,formMethod:l.method||m,formEncType:l.encType||v,flushSync:l.flushSync})}else await r.navigate(l.action||h,{preventScrollReset:l.preventScrollReset,formData:y,body:T,formMethod:l.method||m,formEncType:l.encType||v,replace:l.replace,state:l.state,fromRouteId:n,flushSync:l.flushSync,viewTransition:l.viewTransition})},[r,t,n])}function rR(r,{relative:t}={}){let{basename:n}=$.useContext(fs),s=$.useContext(Xs);je(s,"useFormAction must be used inside a RouteContext");let[l]=s.matches.slice(-1),h={...zc(r||".",{relative:t})},m=rl();if(r==null){h.search=m.search;let v=new URLSearchParams(h.search),y=v.getAll("index");if(y.some(S=>S==="")){v.delete("index"),y.filter(R=>R).forEach(R=>v.append("index",R));let S=v.toString();h.search=S?`?${S}`:""}}return(!r||r===".")&&l.route.index&&(h.search=h.search?h.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(h.pathname=h.pathname==="/"?n:Fs([n,h.pathname])),Cc(h)}function sR(r,{relative:t}={}){let n=$.useContext(f0);je(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=w0("useViewTransitionState"),l=zc(r,{relative:t});if(!n.isTransitioning)return!1;let h=Gs(n.currentLocation.pathname,s)||n.currentLocation.pathname,m=Gs(n.nextLocation.pathname,s)||n.nextLocation.pathname;return Af(l.pathname,m)!=null||Af(l.pathname,h)!=null}var aR=s0();const oR=()=>{};var ST={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b0=function(r){const t=[];let n=0;for(let s=0;s<r.length;s++){let l=r.charCodeAt(s);l<128?t[n++]=l:l<2048?(t[n++]=l>>6|192,t[n++]=l&63|128):(l&64512)===55296&&s+1<r.length&&(r.charCodeAt(s+1)&64512)===56320?(l=65536+((l&1023)<<10)+(r.charCodeAt(++s)&1023),t[n++]=l>>18|240,t[n++]=l>>12&63|128,t[n++]=l>>6&63|128,t[n++]=l&63|128):(t[n++]=l>>12|224,t[n++]=l>>6&63|128,t[n++]=l&63|128)}return t},lR=function(r){const t=[];let n=0,s=0;for(;n<r.length;){const l=r[n++];if(l<128)t[s++]=String.fromCharCode(l);else if(l>191&&l<224){const h=r[n++];t[s++]=String.fromCharCode((l&31)<<6|h&63)}else if(l>239&&l<365){const h=r[n++],m=r[n++],v=r[n++],y=((l&7)<<18|(h&63)<<12|(m&63)<<6|v&63)-65536;t[s++]=String.fromCharCode(55296+(y>>10)),t[s++]=String.fromCharCode(56320+(y&1023))}else{const h=r[n++],m=r[n++];t[s++]=String.fromCharCode((l&15)<<12|(h&63)<<6|m&63)}}return t.join("")},S0={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,t){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let l=0;l<r.length;l+=3){const h=r[l],m=l+1<r.length,v=m?r[l+1]:0,y=l+2<r.length,T=y?r[l+2]:0,S=h>>2,R=(h&3)<<4|v>>4;let N=(v&15)<<2|T>>6,j=T&63;y||(j=64,m||(N=64)),s.push(n[S],n[R],n[N],n[j])}return s.join("")},encodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(r):this.encodeByteArray(b0(r),t)},decodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(r):lR(this.decodeStringToByteArray(r,t))},decodeStringToByteArray(r,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let l=0;l<r.length;){const h=n[r.charAt(l++)],v=l<r.length?n[r.charAt(l)]:0;++l;const T=l<r.length?n[r.charAt(l)]:64;++l;const R=l<r.length?n[r.charAt(l)]:64;if(++l,h==null||v==null||T==null||R==null)throw new uR;const N=h<<2|v>>4;if(s.push(N),T!==64){const j=v<<4&240|T>>2;if(s.push(j),R!==64){const B=T<<6&192|R;s.push(B)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class uR extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const cR=function(r){const t=b0(r);return S0.encodeByteArray(t,!0)},Rf=function(r){return cR(r).replace(/\./g,"")},A0=function(r){try{return S0.decodeString(r,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hR(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fR=()=>hR().__FIREBASE_DEFAULTS__,dR=()=>{if(typeof process>"u"||typeof ST>"u")return;const r=ST.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},mR=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=r&&A0(r[1]);return t&&JSON.parse(t)},Kf=()=>{try{return oR()||fR()||dR()||mR()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},R0=r=>Kf()?.emulatorHosts?.[r],C0=r=>{const t=R0(r);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const s=parseInt(t.substring(n+1),10);return t[0]==="["?[t.substring(1,n-1),s]:[t.substring(0,n),s]},I0=()=>Kf()?.config,x0=r=>Kf()?.[`_${r}`];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pR{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(n):t(n,s))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function no(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function rg(r){return(await fetch(r,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function N0(r,t){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=t||"demo-project",l=r.iat||0,h=r.sub||r.user_id;if(!h)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const m={iss:`https://securetoken.google.com/${s}`,aud:s,iat:l,exp:l+3600,auth_time:l,sub:h,user_id:h,firebase:{sign_in_provider:"custom",identities:{}},...r};return[Rf(JSON.stringify(n)),Rf(JSON.stringify(m)),""].join(".")}const Tc={};function gR(){const r={prod:[],emulator:[]};for(const t of Object.keys(Tc))Tc[t]?r.emulator.push(t):r.prod.push(t);return r}function _R(r){let t=document.getElementById(r),n=!1;return t||(t=document.createElement("div"),t.setAttribute("id",r),n=!0),{created:n,element:t}}let AT=!1;function sg(r,t){if(typeof window>"u"||typeof document>"u"||!no(window.location.host)||Tc[r]===t||Tc[r]||AT)return;Tc[r]=t;function n(N){return`__firebase__banner__${N}`}const s="__firebase__banner",h=gR().prod.length>0;function m(){const N=document.getElementById(s);N&&N.remove()}function v(N){N.style.display="flex",N.style.background="#7faaf0",N.style.position="fixed",N.style.bottom="5px",N.style.left="5px",N.style.padding=".5em",N.style.borderRadius="5px",N.style.alignItems="center"}function y(N,j){N.setAttribute("width","24"),N.setAttribute("id",j),N.setAttribute("height","24"),N.setAttribute("viewBox","0 0 24 24"),N.setAttribute("fill","none"),N.style.marginLeft="-6px"}function T(){const N=document.createElement("span");return N.style.cursor="pointer",N.style.marginLeft="16px",N.style.fontSize="24px",N.innerHTML=" &times;",N.onclick=()=>{AT=!0,m()},N}function S(N,j){N.setAttribute("id",j),N.innerText="Learn more",N.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",N.setAttribute("target","__blank"),N.style.paddingLeft="5px",N.style.textDecoration="underline"}function R(){const N=_R(s),j=n("text"),B=document.getElementById(j)||document.createElement("span"),K=n("learnmore"),G=document.getElementById(K)||document.createElement("a"),it=n("preprendIcon"),rt=document.getElementById(it)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(N.created){const ct=N.element;v(ct),S(G,K);const Ct=T();y(rt,it),ct.append(rt,B,G,Ct),document.body.appendChild(ct)}h?(B.innerText="Preview backend disconnected.",rt.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(rt.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,B.innerText="Preview backend running in this workspace."),B.setAttribute("id",j)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",R):R()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function yR(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Fn())}function vR(){const r=Kf()?.forceEnvironment;if(r==="node")return!0;if(r==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function TR(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function ER(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function wR(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function bR(){const r=Fn();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function SR(){return!vR()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function AR(){try{return typeof indexedDB=="object"}catch{return!1}}function RR(){return new Promise((r,t)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(s);l.onsuccess=()=>{l.result.close(),n||self.indexedDB.deleteDatabase(s),r(!0)},l.onupgradeneeded=()=>{n=!1},l.onerror=()=>{t(l.error?.message||"")}}catch(n){t(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CR="FirebaseError";class ds extends Error{constructor(t,n,s){super(n),this.code=t,this.customData=s,this.name=CR,Object.setPrototypeOf(this,ds.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Bc.prototype.create)}}class Bc{constructor(t,n,s){this.service=t,this.serviceName=n,this.errors=s}create(t,...n){const s=n[0]||{},l=`${this.service}/${t}`,h=this.errors[t],m=h?IR(h,s):"Error",v=`${this.serviceName}: ${m} (${l}).`;return new ds(l,v,s)}}function IR(r,t){return r.replace(xR,(n,s)=>{const l=t[s];return l!=null?String(l):`<${s}?>`})}const xR=/\{\$([^}]+)}/g;function NR(r){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t))return!1;return!0}function Zs(r,t){if(r===t)return!0;const n=Object.keys(r),s=Object.keys(t);for(const l of n){if(!s.includes(l))return!1;const h=r[l],m=t[l];if(RT(h)&&RT(m)){if(!Zs(h,m))return!1}else if(h!==m)return!1}for(const l of s)if(!n.includes(l))return!1;return!0}function RT(r){return r!==null&&typeof r=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jc(r){const t=[];for(const[n,s]of Object.entries(r))Array.isArray(s)?s.forEach(l=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(l))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return t.length?"&"+t.join("&"):""}function OR(r,t){const n=new LR(r,t);return n.subscribe.bind(n)}class LR{constructor(t,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{t(this)}).catch(s=>{this.error(s)})}next(t){this.forEachObserver(n=>{n.next(t)})}error(t){this.forEachObserver(n=>{n.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,n,s){let l;if(t===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");PR(t,["next","error","complete"])?l=t:l={next:t,error:n,complete:s},l.next===void 0&&(l.next=lp),l.error===void 0&&(l.error=lp),l.complete===void 0&&(l.complete=lp);const h=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?l.error(this.finalError):l.complete()}catch{}}),this.observers.push(l),h}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,t)}sendOne(t,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{n(this.observers[t])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function PR(r,t){if(typeof r!="object"||r===null)return!1;for(const n of t)if(n in r&&typeof r[n]=="function")return!0;return!1}function lp(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function He(r){return r&&r._delegate?r._delegate:r}class Qa{constructor(t,n,s){this.name=t,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fo="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MR{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){const s=new pR;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:n});l&&s.resolve(l)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){const n=this.normalizeInstanceIdentifier(t?.identifier),s=t?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(l){if(s)return null;throw l}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(kR(t))try{this.getOrInitializeService({instanceIdentifier:Fo})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(n);try{const h=this.getOrInitializeService({instanceIdentifier:l});s.resolve(h)}catch{}}}}clearInstance(t=Fo){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...t.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Fo){return this.instances.has(t)}getOptions(t=Fo){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:n={}}=t,s=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[h,m]of this.instancesDeferred.entries()){const v=this.normalizeInstanceIdentifier(h);s===v&&m.resolve(l)}return l}onInit(t,n){const s=this.normalizeInstanceIdentifier(n),l=this.onInitCallbacks.get(s)??new Set;l.add(t),this.onInitCallbacks.set(s,l);const h=this.instances.get(s);return h&&t(h,s),()=>{l.delete(t)}}invokeOnInitCallbacks(t,n){const s=this.onInitCallbacks.get(n);if(s)for(const l of s)try{l(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let s=this.instances.get(t);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:DR(t),options:n}),this.instances.set(t,s),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(s,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,s)}catch{}return s||null}normalizeInstanceIdentifier(t=Fo){return this.component?this.component.multipleInstances?t:Fo:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function DR(r){return r===Fo?void 0:r}function kR(r){return r.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VR{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const n=new MR(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var re;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(re||(re={}));const UR={debug:re.DEBUG,verbose:re.VERBOSE,info:re.INFO,warn:re.WARN,error:re.ERROR,silent:re.SILENT},zR=re.INFO,BR={[re.DEBUG]:"log",[re.VERBOSE]:"log",[re.INFO]:"info",[re.WARN]:"warn",[re.ERROR]:"error"},jR=(r,t,...n)=>{if(t<r.logLevel)return;const s=new Date().toISOString(),l=BR[t];if(l)console[l](`[${s}]  ${r.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class ag{constructor(t){this.name=t,this._logLevel=zR,this._logHandler=jR,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in re))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?UR[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,re.DEBUG,...t),this._logHandler(this,re.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,re.VERBOSE,...t),this._logHandler(this,re.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,re.INFO,...t),this._logHandler(this,re.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,re.WARN,...t),this._logHandler(this,re.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,re.ERROR,...t),this._logHandler(this,re.ERROR,...t)}}const HR=(r,t)=>t.some(n=>r instanceof n);let CT,IT;function qR(){return CT||(CT=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function FR(){return IT||(IT=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const O0=new WeakMap,Sp=new WeakMap,L0=new WeakMap,up=new WeakMap,og=new WeakMap;function GR(r){const t=new Promise((n,s)=>{const l=()=>{r.removeEventListener("success",h),r.removeEventListener("error",m)},h=()=>{n(Fa(r.result)),l()},m=()=>{s(r.error),l()};r.addEventListener("success",h),r.addEventListener("error",m)});return t.then(n=>{n instanceof IDBCursor&&O0.set(n,r)}).catch(()=>{}),og.set(t,r),t}function ZR(r){if(Sp.has(r))return;const t=new Promise((n,s)=>{const l=()=>{r.removeEventListener("complete",h),r.removeEventListener("error",m),r.removeEventListener("abort",m)},h=()=>{n(),l()},m=()=>{s(r.error||new DOMException("AbortError","AbortError")),l()};r.addEventListener("complete",h),r.addEventListener("error",m),r.addEventListener("abort",m)});Sp.set(r,t)}let Ap={get(r,t,n){if(r instanceof IDBTransaction){if(t==="done")return Sp.get(r);if(t==="objectStoreNames")return r.objectStoreNames||L0.get(r);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Fa(r[t])},set(r,t,n){return r[t]=n,!0},has(r,t){return r instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in r}};function KR(r){Ap=r(Ap)}function YR(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const s=r.call(cp(this),t,...n);return L0.set(s,t.sort?t.sort():[t]),Fa(s)}:FR().includes(r)?function(...t){return r.apply(cp(this),t),Fa(O0.get(this))}:function(...t){return Fa(r.apply(cp(this),t))}}function QR(r){return typeof r=="function"?YR(r):(r instanceof IDBTransaction&&ZR(r),HR(r,qR())?new Proxy(r,Ap):r)}function Fa(r){if(r instanceof IDBRequest)return GR(r);if(up.has(r))return up.get(r);const t=QR(r);return t!==r&&(up.set(r,t),og.set(t,r)),t}const cp=r=>og.get(r);function $R(r,t,{blocked:n,upgrade:s,blocking:l,terminated:h}={}){const m=indexedDB.open(r,t),v=Fa(m);return s&&m.addEventListener("upgradeneeded",y=>{s(Fa(m.result),y.oldVersion,y.newVersion,Fa(m.transaction),y)}),n&&m.addEventListener("blocked",y=>n(y.oldVersion,y.newVersion,y)),v.then(y=>{h&&y.addEventListener("close",()=>h()),l&&y.addEventListener("versionchange",T=>l(T.oldVersion,T.newVersion,T))}).catch(()=>{}),v}const XR=["get","getKey","getAll","getAllKeys","count"],WR=["put","add","delete","clear"],hp=new Map;function xT(r,t){if(!(r instanceof IDBDatabase&&!(t in r)&&typeof t=="string"))return;if(hp.get(t))return hp.get(t);const n=t.replace(/FromIndex$/,""),s=t!==n,l=WR.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(l||XR.includes(n)))return;const h=async function(m,...v){const y=this.transaction(m,l?"readwrite":"readonly");let T=y.store;return s&&(T=T.index(v.shift())),(await Promise.all([T[n](...v),l&&y.done]))[0]};return hp.set(t,h),h}KR(r=>({...r,get:(t,n,s)=>xT(t,n)||r.get(t,n,s),has:(t,n)=>!!xT(t,n)||r.has(t,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JR{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(tC(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function tC(r){return r.getComponent()?.type==="VERSION"}const Rp="@firebase/app",NT="0.14.3";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ks=new ag("@firebase/app"),eC="@firebase/app-compat",nC="@firebase/analytics-compat",iC="@firebase/analytics",rC="@firebase/app-check-compat",sC="@firebase/app-check",aC="@firebase/auth",oC="@firebase/auth-compat",lC="@firebase/database",uC="@firebase/data-connect",cC="@firebase/database-compat",hC="@firebase/functions",fC="@firebase/functions-compat",dC="@firebase/installations",mC="@firebase/installations-compat",pC="@firebase/messaging",gC="@firebase/messaging-compat",_C="@firebase/performance",yC="@firebase/performance-compat",vC="@firebase/remote-config",TC="@firebase/remote-config-compat",EC="@firebase/storage",wC="@firebase/storage-compat",bC="@firebase/firestore",SC="@firebase/ai",AC="@firebase/firestore-compat",RC="firebase",CC="12.3.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cp="[DEFAULT]",IC={[Rp]:"fire-core",[eC]:"fire-core-compat",[iC]:"fire-analytics",[nC]:"fire-analytics-compat",[sC]:"fire-app-check",[rC]:"fire-app-check-compat",[aC]:"fire-auth",[oC]:"fire-auth-compat",[lC]:"fire-rtdb",[uC]:"fire-data-connect",[cC]:"fire-rtdb-compat",[hC]:"fire-fn",[fC]:"fire-fn-compat",[dC]:"fire-iid",[mC]:"fire-iid-compat",[pC]:"fire-fcm",[gC]:"fire-fcm-compat",[_C]:"fire-perf",[yC]:"fire-perf-compat",[vC]:"fire-rc",[TC]:"fire-rc-compat",[EC]:"fire-gcs",[wC]:"fire-gcs-compat",[bC]:"fire-fst",[AC]:"fire-fst-compat",[SC]:"fire-vertex","fire-js":"fire-js",[RC]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cf=new Map,xC=new Map,Ip=new Map;function OT(r,t){try{r.container.addComponent(t)}catch(n){Ks.debug(`Component ${t.name} failed to register with FirebaseApp ${r.name}`,n)}}function Wo(r){const t=r.name;if(Ip.has(t))return Ks.debug(`There were multiple attempts to register component ${t}.`),!1;Ip.set(t,r);for(const n of Cf.values())OT(n,r);for(const n of xC.values())OT(n,r);return!0}function Yf(r,t){const n=r.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),r.container.getProvider(t)}function lr(r){return r==null?!1:r.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NC={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ga=new Bc("app","Firebase",NC);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OC{constructor(t,n,s){this._isDeleted=!1,this._options={...t},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Qa("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Ga.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sl=CC;function P0(r,t={}){let n=r;typeof t!="object"&&(t={name:t});const s={name:Cp,automaticDataCollectionEnabled:!0,...t},l=s.name;if(typeof l!="string"||!l)throw Ga.create("bad-app-name",{appName:String(l)});if(n||(n=I0()),!n)throw Ga.create("no-options");const h=Cf.get(l);if(h){if(Zs(n,h.options)&&Zs(s,h.config))return h;throw Ga.create("duplicate-app",{appName:l})}const m=new VR(l);for(const y of Ip.values())m.addComponent(y);const v=new OC(n,s,m);return Cf.set(l,v),v}function lg(r=Cp){const t=Cf.get(r);if(!t&&r===Cp&&I0())return P0();if(!t)throw Ga.create("no-app",{appName:r});return t}function rs(r,t,n){let s=IC[r]??r;n&&(s+=`-${n}`);const l=s.match(/\s|\//),h=t.match(/\s|\//);if(l||h){const m=[`Unable to register library "${s}" with version "${t}":`];l&&m.push(`library name "${s}" contains illegal characters (whitespace or "/")`),l&&h&&m.push("and"),h&&m.push(`version name "${t}" contains illegal characters (whitespace or "/")`),Ks.warn(m.join(" "));return}Wo(new Qa(`${s}-version`,()=>({library:s,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LC="firebase-heartbeat-database",PC=1,Ic="firebase-heartbeat-store";let fp=null;function M0(){return fp||(fp=$R(LC,PC,{upgrade:(r,t)=>{switch(t){case 0:try{r.createObjectStore(Ic)}catch(n){console.warn(n)}}}}).catch(r=>{throw Ga.create("idb-open",{originalErrorMessage:r.message})})),fp}async function MC(r){try{const n=(await M0()).transaction(Ic),s=await n.objectStore(Ic).get(D0(r));return await n.done,s}catch(t){if(t instanceof ds)Ks.warn(t.message);else{const n=Ga.create("idb-get",{originalErrorMessage:t?.message});Ks.warn(n.message)}}}async function LT(r,t){try{const s=(await M0()).transaction(Ic,"readwrite");await s.objectStore(Ic).put(t,D0(r)),await s.done}catch(n){if(n instanceof ds)Ks.warn(n.message);else{const s=Ga.create("idb-set",{originalErrorMessage:n?.message});Ks.warn(s.message)}}}function D0(r){return`${r.name}!${r.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DC=1024,kC=30;class VC{constructor(t){this.container=t,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new zC(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=PT();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(l=>l.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:n}),this._heartbeatsCache.heartbeats.length>kC){const l=BC(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(t){Ks.warn(t)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=PT(),{heartbeatsToSend:n,unsentEntries:s}=UC(this._heartbeatsCache.heartbeats),l=Rf(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(t){return Ks.warn(t),""}}}function PT(){return new Date().toISOString().substring(0,10)}function UC(r,t=DC){const n=[];let s=r.slice();for(const l of r){const h=n.find(m=>m.agent===l.agent);if(h){if(h.dates.push(l.date),MT(n)>t){h.dates.pop();break}}else if(n.push({agent:l.agent,dates:[l.date]}),MT(n)>t){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class zC{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return AR()?RR().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await MC(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const s=await this.read();return LT(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const s=await this.read();return LT(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...t.heartbeats]})}else return}}function MT(r){return Rf(JSON.stringify({version:2,heartbeats:r})).length}function BC(r){if(r.length===0)return-1;let t=0,n=r[0].date;for(let s=1;s<r.length;s++)r[s].date<n&&(n=r[s].date,t=s);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jC(r){Wo(new Qa("platform-logger",t=>new JR(t),"PRIVATE")),Wo(new Qa("heartbeat",t=>new VC(t),"PRIVATE")),rs(Rp,NT,r),rs(Rp,NT,"esm2020"),rs("fire-js","")}jC("");var HC="firebase",qC="12.3.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */rs(HC,qC,"app");function k0(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const FC=k0,V0=new Bc("auth","Firebase",k0());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const If=new ag("@firebase/auth");function GC(r,...t){If.logLevel<=re.WARN&&If.warn(`Auth (${sl}): ${r}`,...t)}function mf(r,...t){If.logLevel<=re.ERROR&&If.error(`Auth (${sl}): ${r}`,...t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cs(r,...t){throw cg(r,...t)}function Ir(r,...t){return cg(r,...t)}function ug(r,t,n){const s={...FC(),[t]:n};return new Bc("auth","Firebase",s).create(t,{appName:r.name})}function Ko(r){return ug(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function ZC(r,t,n){const s=n;if(!(t instanceof s))throw s.name!==t.constructor.name&&cs(r,"argument-error"),ug(r,"argument-error",`Type of ${t.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function cg(r,...t){if(typeof r!="string"){const n=t[0],s=[...t.slice(1)];return s[0]&&(s[0].appName=r.name),r._errorFactory.create(n,...s)}return V0.create(r,...t)}function Bt(r,t,...n){if(!r)throw cg(t,...n)}function Hs(r){const t="INTERNAL ASSERTION FAILED: "+r;throw mf(t),new Error(t)}function Ys(r,t){r||Hs(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xp(){return typeof self<"u"&&self.location?.href||""}function KC(){return DT()==="http:"||DT()==="https:"}function DT(){return typeof self<"u"&&self.location?.protocol||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YC(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(KC()||ER()||"connection"in navigator)?navigator.onLine:!0}function QC(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hc{constructor(t,n){this.shortDelay=t,this.longDelay=n,Ys(n>t,"Short delay should be less than long delay!"),this.isMobile=yR()||wR()}get(){return YC()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hg(r,t){Ys(r.emulator,"Emulator should always be set here");const{url:n}=r.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U0{static initialize(t,n,s){this.fetchImpl=t,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Hs("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Hs("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Hs("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $C={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XC=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],WC=new Hc(3e4,6e4);function fg(r,t){return r.tenantId&&!t.tenantId?{...t,tenantId:r.tenantId}:t}async function vu(r,t,n,s,l={}){return z0(r,l,async()=>{let h={},m={};s&&(t==="GET"?m=s:h={body:JSON.stringify(s)});const v=jc({key:r.config.apiKey,...m}).slice(1),y=await r._getAdditionalHeaders();y["Content-Type"]="application/json",r.languageCode&&(y["X-Firebase-Locale"]=r.languageCode);const T={method:t,headers:y,...h};return TR()||(T.referrerPolicy="no-referrer"),r.emulatorConfig&&no(r.emulatorConfig.host)&&(T.credentials="include"),U0.fetch()(await B0(r,r.config.apiHost,n,v),T)})}async function z0(r,t,n){r._canInitEmulator=!1;const s={...$C,...t};try{const l=new tI(r),h=await Promise.race([n(),l.promise]);l.clearNetworkTimeout();const m=await h.json();if("needConfirmation"in m)throw rf(r,"account-exists-with-different-credential",m);if(h.ok&&!("errorMessage"in m))return m;{const v=h.ok?m.errorMessage:m.error.message,[y,T]=v.split(" : ");if(y==="FEDERATED_USER_ID_ALREADY_LINKED")throw rf(r,"credential-already-in-use",m);if(y==="EMAIL_EXISTS")throw rf(r,"email-already-in-use",m);if(y==="USER_DISABLED")throw rf(r,"user-disabled",m);const S=s[y]||y.toLowerCase().replace(/[_\s]+/g,"-");if(T)throw ug(r,S,T);cs(r,S)}}catch(l){if(l instanceof ds)throw l;cs(r,"network-request-failed",{message:String(l)})}}async function JC(r,t,n,s,l={}){const h=await vu(r,t,n,s,l);return"mfaPendingCredential"in h&&cs(r,"multi-factor-auth-required",{_serverResponse:h}),h}async function B0(r,t,n,s){const l=`${t}${n}?${s}`,h=r,m=h.config.emulator?hg(r.config,l):`${r.config.apiScheme}://${l}`;return XC.includes(n)&&(await h._persistenceManagerAvailable,h._getPersistenceType()==="COOKIE")?h._getPersistence()._getFinalTarget(m).toString():m}class tI{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(Ir(this.auth,"network-request-failed")),WC.get())})}}function rf(r,t,n){const s={appName:r.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const l=Ir(r,t,s);return l.customData._tokenResponse=n,l}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function eI(r,t){return vu(r,"POST","/v1/accounts:delete",t)}async function xf(r,t){return vu(r,"POST","/v1/accounts:lookup",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ec(r){if(r)try{const t=new Date(Number(r));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function nI(r,t=!1){const n=He(r),s=await n.getIdToken(t),l=dg(s);Bt(l&&l.exp&&l.auth_time&&l.iat,n.auth,"internal-error");const h=typeof l.firebase=="object"?l.firebase:void 0,m=h?.sign_in_provider;return{claims:l,token:s,authTime:Ec(dp(l.auth_time)),issuedAtTime:Ec(dp(l.iat)),expirationTime:Ec(dp(l.exp)),signInProvider:m||null,signInSecondFactor:h?.sign_in_second_factor||null}}function dp(r){return Number(r)*1e3}function dg(r){const[t,n,s]=r.split(".");if(t===void 0||n===void 0||s===void 0)return mf("JWT malformed, contained fewer than 3 sections"),null;try{const l=A0(n);return l?JSON.parse(l):(mf("Failed to decode base64 JWT payload"),null)}catch(l){return mf("Caught error parsing JWT payload as JSON",l?.toString()),null}}function kT(r){const t=dg(r);return Bt(t,"internal-error"),Bt(typeof t.exp<"u","internal-error"),Bt(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xc(r,t,n=!1){if(n)return t;try{return await t}catch(s){throw s instanceof ds&&iI(s)&&r.auth.currentUser===r&&await r.auth.signOut(),s}}function iI({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rI{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const s=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,s)}}schedule(t=!1){if(!this.isRunning)return;const n=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){t?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Np{constructor(t,n){this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ec(this.lastLoginAt),this.creationTime=Ec(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Nf(r){const t=r.auth,n=await r.getIdToken(),s=await xc(r,xf(t,{idToken:n}));Bt(s?.users.length,t,"internal-error");const l=s.users[0];r._notifyReloadListener(l);const h=l.providerUserInfo?.length?j0(l.providerUserInfo):[],m=aI(r.providerData,h),v=r.isAnonymous,y=!(r.email&&l.passwordHash)&&!m?.length,T=v?y:!1,S={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:m,metadata:new Np(l.createdAt,l.lastLoginAt),isAnonymous:T};Object.assign(r,S)}async function sI(r){const t=He(r);await Nf(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function aI(r,t){return[...r.filter(s=>!t.some(l=>l.providerId===s.providerId)),...t]}function j0(r){return r.map(({providerId:t,...n})=>({providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oI(r,t){const n=await z0(r,{},async()=>{const s=jc({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:l,apiKey:h}=r.config,m=await B0(r,l,"/v1/token",`key=${h}`),v=await r._getAdditionalHeaders();v["Content-Type"]="application/x-www-form-urlencoded";const y={method:"POST",headers:v,body:s};return r.emulatorConfig&&no(r.emulatorConfig.host)&&(y.credentials="include"),U0.fetch()(m,y)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function lI(r,t){return vu(r,"POST","/v2/accounts:revokeToken",fg(r,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iu{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){Bt(t.idToken,"internal-error"),Bt(typeof t.idToken<"u","internal-error"),Bt(typeof t.refreshToken<"u","internal-error");const n="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):kT(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,n)}updateFromIdToken(t){Bt(t.length!==0,"internal-error");const n=kT(t);this.updateTokensAndExpiration(t,null,n)}async getToken(t,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Bt(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,n){const{accessToken:s,refreshToken:l,expiresIn:h}=await oI(t,n);this.updateTokensAndExpiration(s,l,Number(h))}updateTokensAndExpiration(t,n,s){this.refreshToken=n||null,this.accessToken=t||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(t,n){const{refreshToken:s,accessToken:l,expirationTime:h}=n,m=new iu;return s&&(Bt(typeof s=="string","internal-error",{appName:t}),m.refreshToken=s),l&&(Bt(typeof l=="string","internal-error",{appName:t}),m.accessToken=l),h&&(Bt(typeof h=="number","internal-error",{appName:t}),m.expirationTime=h),m}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new iu,this.toJSON())}_performRefresh(){return Hs("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ua(r,t){Bt(typeof r=="string"||typeof r>"u","internal-error",{appName:t})}class Cr{constructor({uid:t,auth:n,stsTokenManager:s,...l}){this.providerId="firebase",this.proactiveRefresh=new rI(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new Np(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(t){const n=await xc(this,this.stsTokenManager.getToken(this.auth,t));return Bt(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(t){return nI(this,t)}reload(){return sI(this)}_assign(t){this!==t&&(Bt(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(n=>({...n})),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const n=new Cr({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(t){Bt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,n=!1){let s=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),s=!0),n&&await Nf(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(lr(this.auth.app))return Promise.reject(Ko(this.auth));const t=await this.getIdToken();return await xc(this,eI(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>({...t})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,n){const s=n.displayName??void 0,l=n.email??void 0,h=n.phoneNumber??void 0,m=n.photoURL??void 0,v=n.tenantId??void 0,y=n._redirectEventId??void 0,T=n.createdAt??void 0,S=n.lastLoginAt??void 0,{uid:R,emailVerified:N,isAnonymous:j,providerData:B,stsTokenManager:K}=n;Bt(R&&K,t,"internal-error");const G=iu.fromJSON(this.name,K);Bt(typeof R=="string",t,"internal-error"),Ua(s,t.name),Ua(l,t.name),Bt(typeof N=="boolean",t,"internal-error"),Bt(typeof j=="boolean",t,"internal-error"),Ua(h,t.name),Ua(m,t.name),Ua(v,t.name),Ua(y,t.name),Ua(T,t.name),Ua(S,t.name);const it=new Cr({uid:R,auth:t,email:l,emailVerified:N,displayName:s,isAnonymous:j,photoURL:m,phoneNumber:h,tenantId:v,stsTokenManager:G,createdAt:T,lastLoginAt:S});return B&&Array.isArray(B)&&(it.providerData=B.map(rt=>({...rt}))),y&&(it._redirectEventId=y),it}static async _fromIdTokenResponse(t,n,s=!1){const l=new iu;l.updateFromServerResponse(n);const h=new Cr({uid:n.localId,auth:t,stsTokenManager:l,isAnonymous:s});return await Nf(h),h}static async _fromGetAccountInfoResponse(t,n,s){const l=n.users[0];Bt(l.localId!==void 0,"internal-error");const h=l.providerUserInfo!==void 0?j0(l.providerUserInfo):[],m=!(l.email&&l.passwordHash)&&!h?.length,v=new iu;v.updateFromIdToken(s);const y=new Cr({uid:l.localId,auth:t,stsTokenManager:v,isAnonymous:m}),T={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:h,metadata:new Np(l.createdAt,l.lastLoginAt),isAnonymous:!(l.email&&l.passwordHash)&&!h?.length};return Object.assign(y,T),y}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VT=new Map;function qs(r){Ys(r instanceof Function,"Expected a class definition");let t=VT.get(r);return t?(Ys(t instanceof r,"Instance stored in cache mismatched with class"),t):(t=new r,VT.set(r,t),t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H0{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,n){this.storage[t]=n}async _get(t){const n=this.storage[t];return n===void 0?null:n}async _remove(t){delete this.storage[t]}_addListener(t,n){}_removeListener(t,n){}}H0.type="NONE";const UT=H0;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pf(r,t,n){return`firebase:${r}:${t}:${n}`}class ru{constructor(t,n,s){this.persistence=t,this.auth=n,this.userKey=s;const{config:l,name:h}=this.auth;this.fullUserKey=pf(this.userKey,l.apiKey,h),this.fullPersistenceKey=pf("persistence",l.apiKey,h),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const n=await xf(this.auth,{idToken:t}).catch(()=>{});return n?Cr._fromGetAccountInfoResponse(this.auth,n,t):null}return Cr._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,n,s="authUser"){if(!n.length)return new ru(qs(UT),t,s);const l=(await Promise.all(n.map(async T=>{if(await T._isAvailable())return T}))).filter(T=>T);let h=l[0]||qs(UT);const m=pf(s,t.config.apiKey,t.name);let v=null;for(const T of n)try{const S=await T._get(m);if(S){let R;if(typeof S=="string"){const N=await xf(t,{idToken:S}).catch(()=>{});if(!N)break;R=await Cr._fromGetAccountInfoResponse(t,N,S)}else R=Cr._fromJSON(t,S);T!==h&&(v=R),h=T;break}}catch{}const y=l.filter(T=>T._shouldAllowMigration);return!h._shouldAllowMigration||!y.length?new ru(h,t,s):(h=y[0],v&&await h._set(m,v.toJSON()),await Promise.all(n.map(async T=>{if(T!==h)try{await T._remove(m)}catch{}})),new ru(h,t,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zT(r){const t=r.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(Z0(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(q0(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(Y0(t))return"Blackberry";if(Q0(t))return"Webos";if(F0(t))return"Safari";if((t.includes("chrome/")||G0(t))&&!t.includes("edge/"))return"Chrome";if(K0(t))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=r.match(n);if(s?.length===2)return s[1]}return"Other"}function q0(r=Fn()){return/firefox\//i.test(r)}function F0(r=Fn()){const t=r.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function G0(r=Fn()){return/crios\//i.test(r)}function Z0(r=Fn()){return/iemobile/i.test(r)}function K0(r=Fn()){return/android/i.test(r)}function Y0(r=Fn()){return/blackberry/i.test(r)}function Q0(r=Fn()){return/webos/i.test(r)}function mg(r=Fn()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function uI(r=Fn()){return mg(r)&&!!window.navigator?.standalone}function cI(){return bR()&&document.documentMode===10}function $0(r=Fn()){return mg(r)||K0(r)||Q0(r)||Y0(r)||/windows phone/i.test(r)||Z0(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function X0(r,t=[]){let n;switch(r){case"Browser":n=zT(Fn());break;case"Worker":n=`${zT(Fn())}-${r}`;break;default:n=r}const s=t.length?t.join(","):"FirebaseCore-web";return`${n}/JsCore/${sl}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hI{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,n){const s=h=>new Promise((m,v)=>{try{const y=t(h);m(y)}catch(y){v(y)}});s.onAbort=n,this.queue.push(s);const l=this.queue.length-1;return()=>{this.queue[l]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const n=[];try{for(const s of this.queue)await s(t),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const l of n)try{l()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fI(r,t={}){return vu(r,"GET","/v2/passwordPolicy",fg(r,t))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dI=6;class mI{constructor(t){const n=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??dI,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=t.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,n),this.validatePasswordCharacterOptions(t,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(t,n){const s=this.customStrengthOptions.minPasswordLength,l=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=t.length>=s),l&&(n.meetsMaxPasswordLength=t.length<=l)}validatePasswordCharacterOptions(t,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let l=0;l<t.length;l++)s=t.charAt(l),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(t,n,s,l,h){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=l)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=h))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pI{constructor(t,n,s,l){this.app=t,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=l,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new BT(this),this.idTokenSubscription=new BT(this),this.beforeStateQueue=new hI(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=V0,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=l.sdkClientVersion,this._persistenceManagerAvailable=new Promise(h=>this._resolvePersistenceManagerAvailable=h)}_initializeWithPersistence(t,n){return n&&(this._popupRedirectResolver=qs(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await ru.create(this,t),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const n=await xf(this,{idToken:t}),s=await Cr._fromGetAccountInfoResponse(this,n,t);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){if(lr(this.app)){const h=this.app.settings.authIdToken;return h?new Promise(m=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(h).then(m,m))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let s=n,l=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const h=this.redirectUser?._redirectEventId,m=s?._redirectEventId,v=await this.tryRedirectSignIn(t);(!h||h===m)&&v?.user&&(s=v.user,l=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(s)}catch(h){s=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(h))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return Bt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(t){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(t){try{await Nf(t)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=QC()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(lr(this.app))return Promise.reject(Ko(this));const n=t?He(t):null;return n&&Bt(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(t,n=!1){if(!this._deleted)return t&&Bt(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return lr(this.app)?Promise.reject(Ko(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return lr(this.app)?Promise.reject(Ko(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(qs(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await fI(this),n=new mI(t);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new Bc("auth","Firebase",t())}onAuthStateChanged(t,n,s){return this.registerStateListener(this.authStateSubscription,t,n,s)}beforeAuthStateChanged(t,n){return this.beforeStateQueue.pushCallback(t,n)}onIdTokenChanged(t,n,s){return this.registerStateListener(this.idTokenSubscription,t,n,s)}authStateReady(){return new Promise((t,n)=>{if(this.currentUser)t();else{const s=this.onAuthStateChanged(()=>{s(),t()},n)}})}async revokeAccessToken(t){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await lI(this,s)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(t,n){const s=await this.getOrInitRedirectPersistenceManager(n);return t===null?s.removeCurrentUser():s.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const n=t&&qs(t)||this._popupRedirectResolver;Bt(n,this,"argument-error"),this.redirectPersistenceManager=await ru.create(this,[qs(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===t?this._currentUser:this.redirectUser?._redirectEventId===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=this.currentUser?.uid??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,n,s,l){if(this._deleted)return()=>{};const h=typeof n=="function"?n:n.next.bind(n);let m=!1;const v=this._isInitialized?Promise.resolve():this._initializationPromise;if(Bt(v,this,"internal-error"),v.then(()=>{m||h(this.currentUser)}),typeof n=="function"){const y=t.addObserver(n,s,l);return()=>{m=!0,y()}}else{const y=t.addObserver(n);return()=>{m=!0,y()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return Bt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=X0(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(t["X-Firebase-Client"]=n);const s=await this._getAppCheckToken();return s&&(t["X-Firebase-AppCheck"]=s),t}async _getAppCheckToken(){if(lr(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return t?.error&&GC(`Error while retrieving App Check token: ${t.error}`),t?.token}}function Qf(r){return He(r)}class BT{constructor(t){this.auth=t,this.observer=null,this.addObserver=OR(n=>this.observer=n)}get next(){return Bt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let pg={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function gI(r){pg=r}function _I(r){return pg.loadJS(r)}function yI(){return pg.gapiScript}function vI(r){return`__${r}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TI(r,t){const n=Yf(r,"auth");if(n.isInitialized()){const l=n.getImmediate(),h=n.getOptions();if(Zs(h,t??{}))return l;cs(l,"already-initialized")}return n.initialize({options:t})}function EI(r,t){const n=t?.persistence||[],s=(Array.isArray(n)?n:[n]).map(qs);t?.errorMap&&r._updateErrorMap(t.errorMap),r._initializeWithPersistence(s,t?.popupRedirectResolver)}function wI(r,t,n){const s=Qf(r);Bt(/^https?:\/\//.test(t),s,"invalid-emulator-scheme");const l=!1,h=W0(t),{host:m,port:v}=bI(t),y=v===null?"":`:${v}`,T={url:`${h}//${m}${y}/`},S=Object.freeze({host:m,port:v,protocol:h.replace(":",""),options:Object.freeze({disableWarnings:l})});if(!s._canInitEmulator){Bt(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),Bt(Zs(T,s.config.emulator)&&Zs(S,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=T,s.emulatorConfig=S,s.settings.appVerificationDisabledForTesting=!0,no(m)?(rg(`${h}//${m}${y}`),sg("Auth",!0)):SI()}function W0(r){const t=r.indexOf(":");return t<0?"":r.substr(0,t+1)}function bI(r){const t=W0(r),n=/(\/\/)?([^?#/]+)/.exec(r.substr(t.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",l=/^(\[[^\]]+\])(:|$)/.exec(s);if(l){const h=l[1];return{host:h,port:jT(s.substr(h.length+1))}}else{const[h,m]=s.split(":");return{host:h,port:jT(m)}}}function jT(r){if(!r)return null;const t=Number(r);return isNaN(t)?null:t}function SI(){function r(){const t=document.createElement("p"),n=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J0{constructor(t,n){this.providerId=t,this.signInMethod=n}toJSON(){return Hs("not implemented")}_getIdTokenResponse(t){return Hs("not implemented")}_linkToIdToken(t,n){return Hs("not implemented")}_getReauthenticationResolver(t){return Hs("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function su(r,t){return JC(r,"POST","/v1/accounts:signInWithIdp",fg(r,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AI="http://localhost";class Jo extends J0{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const n=new Jo(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(n.idToken=t.idToken),t.accessToken&&(n.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(n.nonce=t.nonce),t.pendingToken&&(n.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(n.accessToken=t.oauthToken,n.secret=t.oauthTokenSecret):cs("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t,{providerId:s,signInMethod:l,...h}=n;if(!s||!l)return null;const m=new Jo(s,l);return m.idToken=h.idToken||void 0,m.accessToken=h.accessToken||void 0,m.secret=h.secret,m.nonce=h.nonce,m.pendingToken=h.pendingToken||null,m}_getIdTokenResponse(t){const n=this.buildRequest();return su(t,n)}_linkToIdToken(t,n){const s=this.buildRequest();return s.idToken=n,su(t,s)}_getReauthenticationResolver(t){const n=this.buildRequest();return n.autoCreate=!1,su(t,n)}buildRequest(){const t={requestUri:AI,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),t.postBody=jc(n)}return t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gg{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qc extends gg{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class za extends qc{constructor(){super("facebook.com")}static credential(t){return Jo._fromParams({providerId:za.PROVIDER_ID,signInMethod:za.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return za.credentialFromTaggedObject(t)}static credentialFromError(t){return za.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return za.credential(t.oauthAccessToken)}catch{return null}}}za.FACEBOOK_SIGN_IN_METHOD="facebook.com";za.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class js extends qc{constructor(){super("google.com"),this.addScope("profile")}static credential(t,n){return Jo._fromParams({providerId:js.PROVIDER_ID,signInMethod:js.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:n})}static credentialFromResult(t){return js.credentialFromTaggedObject(t)}static credentialFromError(t){return js.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:n,oauthAccessToken:s}=t;if(!n&&!s)return null;try{return js.credential(n,s)}catch{return null}}}js.GOOGLE_SIGN_IN_METHOD="google.com";js.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ba extends qc{constructor(){super("github.com")}static credential(t){return Jo._fromParams({providerId:Ba.PROVIDER_ID,signInMethod:Ba.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Ba.credentialFromTaggedObject(t)}static credentialFromError(t){return Ba.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Ba.credential(t.oauthAccessToken)}catch{return null}}}Ba.GITHUB_SIGN_IN_METHOD="github.com";Ba.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ja extends qc{constructor(){super("twitter.com")}static credential(t,n){return Jo._fromParams({providerId:ja.PROVIDER_ID,signInMethod:ja.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:n})}static credentialFromResult(t){return ja.credentialFromTaggedObject(t)}static credentialFromError(t){return ja.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=t;if(!n||!s)return null;try{return ja.credential(n,s)}catch{return null}}}ja.TWITTER_SIGN_IN_METHOD="twitter.com";ja.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lu{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,n,s,l=!1){const h=await Cr._fromIdTokenResponse(t,s,l),m=HT(s);return new lu({user:h,providerId:m,_tokenResponse:s,operationType:n})}static async _forOperation(t,n,s){await t._updateTokensIfNecessary(s,!0);const l=HT(s);return new lu({user:t,providerId:l,_tokenResponse:s,operationType:n})}}function HT(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Of extends ds{constructor(t,n,s,l){super(n.code,n.message),this.operationType=s,this.user=l,Object.setPrototypeOf(this,Of.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(t,n,s,l){return new Of(t,n,s,l)}}function tw(r,t,n,s){return(t==="reauthenticate"?n._getReauthenticationResolver(r):n._getIdTokenResponse(r)).catch(h=>{throw h.code==="auth/multi-factor-auth-required"?Of._fromErrorAndOperation(r,h,t,s):h})}async function RI(r,t,n=!1){const s=await xc(r,t._linkToIdToken(r.auth,await r.getIdToken()),n);return lu._forOperation(r,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function CI(r,t,n=!1){const{auth:s}=r;if(lr(s.app))return Promise.reject(Ko(s));const l="reauthenticate";try{const h=await xc(r,tw(s,l,t,r),n);Bt(h.idToken,s,"internal-error");const m=dg(h.idToken);Bt(m,s,"internal-error");const{sub:v}=m;return Bt(r.uid===v,s,"user-mismatch"),lu._forOperation(r,l,h)}catch(h){throw h?.code==="auth/user-not-found"&&cs(s,"user-mismatch"),h}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function II(r,t,n=!1){if(lr(r.app))return Promise.reject(Ko(r));const s="signIn",l=await tw(r,s,t),h=await lu._fromIdTokenResponse(r,s,l);return n||await r._updateCurrentUser(h.user),h}function xI(r,t,n,s){return He(r).onIdTokenChanged(t,n,s)}function NI(r,t,n){return He(r).beforeAuthStateChanged(t,n)}function OI(r,t,n,s){return He(r).onAuthStateChanged(t,n,s)}function LI(r){return He(r).signOut()}const Lf="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ew{constructor(t,n){this.storageRetriever=t,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Lf,"1"),this.storage.removeItem(Lf),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,n){return this.storage.setItem(t,JSON.stringify(n)),Promise.resolve()}_get(t){const n=this.storage.getItem(t);return Promise.resolve(n?JSON.parse(n):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PI=1e3,MI=10;class nw extends ew{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,n)=>this.onStorageEvent(t,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=$0(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),l=this.localCache[n];s!==l&&t(n,l,s)}}onStorageEvent(t,n=!1){if(!t.key){this.forAllChangedKeys((m,v,y)=>{this.notifyListeners(m,y)});return}const s=t.key;n?this.detachListener():this.stopPolling();const l=()=>{const m=this.storage.getItem(s);!n&&this.localCache[s]===m||this.notifyListeners(s,m)},h=this.storage.getItem(s);cI()&&h!==t.newValue&&t.newValue!==t.oldValue?setTimeout(l,MI):l()}notifyListeners(t,n){this.localCache[t]=n;const s=this.listeners[t];if(s)for(const l of Array.from(s))l(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:s}),!0)})},PI)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,n){await super._set(t,n),this.localCache[t]=JSON.stringify(n)}async _get(t){const n=await super._get(t);return this.localCache[t]=JSON.stringify(n),n}async _remove(t){await super._remove(t),delete this.localCache[t]}}nw.type="LOCAL";const DI=nw;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iw extends ew{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,n){}_removeListener(t,n){}}iw.type="SESSION";const rw=iw;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kI(r){return Promise.all(r.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $f{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const n=this.receivers.find(l=>l.isListeningto(t));if(n)return n;const s=new $f(t);return this.receivers.push(s),s}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const n=t,{eventId:s,eventType:l,data:h}=n.data,m=this.handlersMap[l];if(!m?.size)return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:l});const v=Array.from(m).map(async T=>T(n.origin,h)),y=await kI(v);n.ports[0].postMessage({status:"done",eventId:s,eventType:l,response:y})}_subscribe(t,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(n)}_unsubscribe(t,n){this.handlersMap[t]&&n&&this.handlersMap[t].delete(n),(!n||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}$f.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _g(r="",t=10){let n="";for(let s=0;s<t;s++)n+=Math.floor(Math.random()*10);return r+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VI{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,n,s=50){const l=typeof MessageChannel<"u"?new MessageChannel:null;if(!l)throw new Error("connection_unavailable");let h,m;return new Promise((v,y)=>{const T=_g("",20);l.port1.start();const S=setTimeout(()=>{y(new Error("unsupported_event"))},s);m={messageChannel:l,onMessage(R){const N=R;if(N.data.eventId===T)switch(N.data.status){case"ack":clearTimeout(S),h=setTimeout(()=>{y(new Error("timeout"))},3e3);break;case"done":clearTimeout(h),v(N.data.response);break;default:clearTimeout(S),clearTimeout(h),y(new Error("invalid_response"));break}}},this.handlers.add(m),l.port1.addEventListener("message",m.onMessage),this.target.postMessage({eventType:t,eventId:T,data:n},[l.port2])}).finally(()=>{m&&this.removeMessageHandler(m)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ss(){return window}function UI(r){ss().location.href=r}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sw(){return typeof ss().WorkerGlobalScope<"u"&&typeof ss().importScripts=="function"}async function zI(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function BI(){return navigator?.serviceWorker?.controller||null}function jI(){return sw()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aw="firebaseLocalStorageDb",HI=1,Pf="firebaseLocalStorage",ow="fbase_key";class Fc{constructor(t){this.request=t}toPromise(){return new Promise((t,n)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Xf(r,t){return r.transaction([Pf],t?"readwrite":"readonly").objectStore(Pf)}function qI(){const r=indexedDB.deleteDatabase(aw);return new Fc(r).toPromise()}function Op(){const r=indexedDB.open(aw,HI);return new Promise((t,n)=>{r.addEventListener("error",()=>{n(r.error)}),r.addEventListener("upgradeneeded",()=>{const s=r.result;try{s.createObjectStore(Pf,{keyPath:ow})}catch(l){n(l)}}),r.addEventListener("success",async()=>{const s=r.result;s.objectStoreNames.contains(Pf)?t(s):(s.close(),await qI(),t(await Op()))})})}async function qT(r,t,n){const s=Xf(r,!0).put({[ow]:t,value:n});return new Fc(s).toPromise()}async function FI(r,t){const n=Xf(r,!1).get(t),s=await new Fc(n).toPromise();return s===void 0?null:s.value}function FT(r,t){const n=Xf(r,!0).delete(t);return new Fc(n).toPromise()}const GI=800,ZI=3;class lw{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Op(),this.db)}async _withRetries(t){let n=0;for(;;)try{const s=await this._openDb();return await t(s)}catch(s){if(n++>ZI)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return sw()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=$f._getInstance(jI()),this.receiver._subscribe("keyChanged",async(t,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(t,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await zI(),!this.activeServiceWorker)return;this.sender=new VI(this.activeServiceWorker);const t=await this.sender._send("ping",{},800);t&&t[0]?.fulfilled&&t[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||BI()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await Op();return await qT(t,Lf,"1"),await FT(t,Lf),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>qT(s,t,n)),this.localCache[t]=n,this.notifyServiceWorker(t)))}async _get(t){const n=await this._withRetries(s=>FI(s,t));return this.localCache[t]=n,n}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(n=>FT(n,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(l=>{const h=Xf(l,!1).getAll();return new Fc(h).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(t.length!==0)for(const{fbase_key:l,value:h}of t)s.add(l),JSON.stringify(this.localCache[l])!==JSON.stringify(h)&&(this.notifyListeners(l,h),n.push(l));for(const l of Object.keys(this.localCache))this.localCache[l]&&!s.has(l)&&(this.notifyListeners(l,null),n.push(l));return n}notifyListeners(t,n){this.localCache[t]=n;const s=this.listeners[t];if(s)for(const l of Array.from(s))l(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),GI)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}lw.type="LOCAL";const KI=lw;new Hc(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uw(r,t){return t?qs(t):(Bt(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yg extends J0{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return su(t,this._buildIdpRequest())}_linkToIdToken(t,n){return su(t,this._buildIdpRequest(n))}_getReauthenticationResolver(t){return su(t,this._buildIdpRequest())}_buildIdpRequest(t){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(n.idToken=t),n}}function YI(r){return II(r.auth,new yg(r),r.bypassAuthState)}function QI(r){const{auth:t,user:n}=r;return Bt(n,t,"internal-error"),CI(n,new yg(r),r.bypassAuthState)}async function $I(r){const{auth:t,user:n}=r;return Bt(n,t,"internal-error"),RI(n,new yg(r),r.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cw{constructor(t,n,s,l,h=!1){this.auth=t,this.resolver=s,this.user=l,this.bypassAuthState=h,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(t,n)=>{this.pendingPromise={resolve:t,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(t){const{urlResponse:n,sessionId:s,postBody:l,tenantId:h,error:m,type:v}=t;if(m){this.reject(m);return}const y={auth:this.auth,requestUri:n,sessionId:s,tenantId:h||void 0,postBody:l||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(v)(y))}catch(T){this.reject(T)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return YI;case"linkViaPopup":case"linkViaRedirect":return $I;case"reauthViaPopup":case"reauthViaRedirect":return QI;default:cs(this.auth,"internal-error")}}resolve(t){Ys(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){Ys(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XI=new Hc(2e3,1e4);async function WI(r,t,n){if(lr(r.app))return Promise.reject(Ir(r,"operation-not-supported-in-this-environment"));const s=Qf(r);ZC(r,t,gg);const l=uw(s,n);return new Go(s,"signInViaPopup",t,l).executeNotNull()}class Go extends cw{constructor(t,n,s,l,h){super(t,n,l,h),this.provider=s,this.authWindow=null,this.pollId=null,Go.currentPopupAction&&Go.currentPopupAction.cancel(),Go.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return Bt(t,this.auth,"internal-error"),t}async onExecution(){Ys(this.filter.length===1,"Popup operations only handle one event");const t=_g();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Ir(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Ir(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Go.currentPopupAction=null}pollUserCancellation(){const t=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ir(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,XI.get())};t()}}Go.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JI="pendingRedirect",gf=new Map;class tx extends cw{constructor(t,n,s=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let t=gf.get(this.auth._key());if(!t){try{const s=await ex(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(s)}catch(n){t=()=>Promise.reject(n)}gf.set(this.auth._key(),t)}return this.bypassAuthState||gf.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const n=await this.auth._redirectUserForId(t.eventId);if(n)return this.user=n,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function ex(r,t){const n=rx(t),s=ix(r);if(!await s._isAvailable())return!1;const l=await s._get(n)==="true";return await s._remove(n),l}function nx(r,t){gf.set(r._key(),t)}function ix(r){return qs(r._redirectPersistence)}function rx(r){return pf(JI,r.config.apiKey,r.name)}async function sx(r,t,n=!1){if(lr(r.app))return Promise.reject(Ko(r));const s=Qf(r),l=uw(s,t),m=await new tx(s,l,n).execute();return m&&!n&&(delete m.user._redirectEventId,await s._persistUserIfCurrent(m.user),await s._setRedirectUser(null,t)),m}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ax=600*1e3;class ox{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(t,s)&&(n=!0,this.sendToConsumer(t,s),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!lx(t)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=t,n=!0)),n}sendToConsumer(t,n){if(t.error&&!hw(t)){const s=t.error.code?.split("auth/")[1]||"internal-error";n.onError(Ir(this.auth,s))}else n.onAuthEvent(t)}isEventForConsumer(t,n){const s=n.eventId===null||!!t.eventId&&t.eventId===n.eventId;return n.filter.includes(t.type)&&s}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=ax&&this.cachedEventUids.clear(),this.cachedEventUids.has(GT(t))}saveEventToCache(t){this.cachedEventUids.add(GT(t)),this.lastProcessedEventTime=Date.now()}}function GT(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(t=>t).join("-")}function hw({type:r,error:t}){return r==="unknown"&&t?.code==="auth/no-auth-event"}function lx(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return hw(r);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ux(r,t={}){return vu(r,"GET","/v1/projects",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cx=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,hx=/^https?/;async function fx(r){if(r.config.emulator)return;const{authorizedDomains:t}=await ux(r);for(const n of t)try{if(dx(n))return}catch{}cs(r,"unauthorized-domain")}function dx(r){const t=xp(),{protocol:n,hostname:s}=new URL(t);if(r.startsWith("chrome-extension://")){const m=new URL(r);return m.hostname===""&&s===""?n==="chrome-extension:"&&r.replace("chrome-extension://","")===t.replace("chrome-extension://",""):n==="chrome-extension:"&&m.hostname===s}if(!hx.test(n))return!1;if(cx.test(r))return s===r;const l=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+l+"|"+l+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mx=new Hc(3e4,6e4);function ZT(){const r=ss().___jsl;if(r?.H){for(const t of Object.keys(r.H))if(r.H[t].r=r.H[t].r||[],r.H[t].L=r.H[t].L||[],r.H[t].r=[...r.H[t].L],r.CP)for(let n=0;n<r.CP.length;n++)r.CP[n]=null}}function px(r){return new Promise((t,n)=>{function s(){ZT(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{ZT(),n(Ir(r,"network-request-failed"))},timeout:mx.get()})}if(ss().gapi?.iframes?.Iframe)t(gapi.iframes.getContext());else if(ss().gapi?.load)s();else{const l=vI("iframefcb");return ss()[l]=()=>{gapi.load?s():n(Ir(r,"network-request-failed"))},_I(`${yI()}?onload=${l}`).catch(h=>n(h))}}).catch(t=>{throw _f=null,t})}let _f=null;function gx(r){return _f=_f||px(r),_f}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _x=new Hc(5e3,15e3),yx="__/auth/iframe",vx="emulator/auth/iframe",Tx={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Ex=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function wx(r){const t=r.config;Bt(t.authDomain,r,"auth-domain-config-required");const n=t.emulator?hg(t,vx):`https://${r.config.authDomain}/${yx}`,s={apiKey:t.apiKey,appName:r.name,v:sl},l=Ex.get(r.config.apiHost);l&&(s.eid=l);const h=r._getFrameworks();return h.length&&(s.fw=h.join(",")),`${n}?${jc(s).slice(1)}`}async function bx(r){const t=await gx(r),n=ss().gapi;return Bt(n,r,"internal-error"),t.open({where:document.body,url:wx(r),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Tx,dontclear:!0},s=>new Promise(async(l,h)=>{await s.restyle({setHideOnLeave:!1});const m=Ir(r,"network-request-failed"),v=ss().setTimeout(()=>{h(m)},_x.get());function y(){ss().clearTimeout(v),l(s)}s.ping(y).then(y,()=>{h(m)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sx={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Ax=500,Rx=600,Cx="_blank",Ix="http://localhost";class KT{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function xx(r,t,n,s=Ax,l=Rx){const h=Math.max((window.screen.availHeight-l)/2,0).toString(),m=Math.max((window.screen.availWidth-s)/2,0).toString();let v="";const y={...Sx,width:s.toString(),height:l.toString(),top:h,left:m},T=Fn().toLowerCase();n&&(v=G0(T)?Cx:n),q0(T)&&(t=t||Ix,y.scrollbars="yes");const S=Object.entries(y).reduce((N,[j,B])=>`${N}${j}=${B},`,"");if(uI(T)&&v!=="_self")return Nx(t||"",v),new KT(null);const R=window.open(t||"",v,S);Bt(R,r,"popup-blocked");try{R.focus()}catch{}return new KT(R)}function Nx(r,t){const n=document.createElement("a");n.href=r,n.target=t;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ox="__/auth/handler",Lx="emulator/auth/handler",Px=encodeURIComponent("fac");async function YT(r,t,n,s,l,h){Bt(r.config.authDomain,r,"auth-domain-config-required"),Bt(r.config.apiKey,r,"invalid-api-key");const m={apiKey:r.config.apiKey,appName:r.name,authType:n,redirectUrl:s,v:sl,eventId:l};if(t instanceof gg){t.setDefaultLanguage(r.languageCode),m.providerId=t.providerId||"",NR(t.getCustomParameters())||(m.customParameters=JSON.stringify(t.getCustomParameters()));for(const[S,R]of Object.entries({}))m[S]=R}if(t instanceof qc){const S=t.getScopes().filter(R=>R!=="");S.length>0&&(m.scopes=S.join(","))}r.tenantId&&(m.tid=r.tenantId);const v=m;for(const S of Object.keys(v))v[S]===void 0&&delete v[S];const y=await r._getAppCheckToken(),T=y?`#${Px}=${encodeURIComponent(y)}`:"";return`${Mx(r)}?${jc(v).slice(1)}${T}`}function Mx({config:r}){return r.emulator?hg(r,Lx):`https://${r.authDomain}/${Ox}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mp="webStorageSupport";class Dx{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=rw,this._completeRedirectFn=sx,this._overrideRedirectResult=nx}async _openPopup(t,n,s,l){Ys(this.eventManagers[t._key()]?.manager,"_initialize() not called before _openPopup()");const h=await YT(t,n,s,xp(),l);return xx(t,h,_g())}async _openRedirect(t,n,s,l){await this._originValidation(t);const h=await YT(t,n,s,xp(),l);return UI(h),new Promise(()=>{})}_initialize(t){const n=t._key();if(this.eventManagers[n]){const{manager:l,promise:h}=this.eventManagers[n];return l?Promise.resolve(l):(Ys(h,"If manager is not set, promise should be"),h)}const s=this.initAndGetManager(t);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(t){const n=await bx(t),s=new ox(t);return n.register("authEvent",l=>(Bt(l?.authEvent,t,"invalid-auth-event"),{status:s.onEvent(l.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:s},this.iframes[t._key()]=n,s}_isIframeWebStorageSupported(t,n){this.iframes[t._key()].send(mp,{type:mp},l=>{const h=l?.[0]?.[mp];h!==void 0&&n(!!h),cs(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const n=t._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=fx(t)),this.originValidationPromises[n]}get _shouldInitProactively(){return $0()||F0()||mg()}}const kx=Dx;var QT="@firebase/auth",$T="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vx{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const n=this.auth.onIdTokenChanged(s=>{t(s?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,n),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const n=this.internalListeners.get(t);n&&(this.internalListeners.delete(t),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Bt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ux(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function zx(r){Wo(new Qa("auth",(t,{options:n})=>{const s=t.getProvider("app").getImmediate(),l=t.getProvider("heartbeat"),h=t.getProvider("app-check-internal"),{apiKey:m,authDomain:v}=s.options;Bt(m&&!m.includes(":"),"invalid-api-key",{appName:s.name});const y={apiKey:m,authDomain:v,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:X0(r)},T=new pI(s,l,h,y);return EI(T,n),T},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,n,s)=>{t.getProvider("auth-internal").initialize()})),Wo(new Qa("auth-internal",t=>{const n=Qf(t.getProvider("auth").getImmediate());return(s=>new Vx(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),rs(QT,$T,Ux(r)),rs(QT,$T,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bx=300,jx=x0("authIdTokenMaxAge")||Bx;let XT=null;const Hx=r=>async t=>{const n=t&&await t.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>jx)return;const l=n?.token;XT!==l&&(XT=l,await fetch(r,{method:l?"POST":"DELETE",headers:l?{Authorization:`Bearer ${l}`}:{}}))};function qx(r=lg()){const t=Yf(r,"auth");if(t.isInitialized())return t.getImmediate();const n=TI(r,{popupRedirectResolver:kx,persistence:[KI,DI,rw]}),s=x0("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const h=new URL(s,location.origin);if(location.origin===h.origin){const m=Hx(h.toString());NI(n,m,()=>m(n.currentUser)),xI(n,v=>m(v))}}const l=R0("auth");return l&&wI(n,`http://${l}`),n}function Fx(){return document.getElementsByTagName("head")?.[0]??document}gI({loadJS(r){return new Promise((t,n)=>{const s=document.createElement("script");s.setAttribute("src",r),s.onload=t,s.onerror=l=>{const h=Ir("internal-error");h.customData=l,n(h)},s.type="text/javascript",s.charset="UTF-8",Fx().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});zx("Browser");var WT=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Za,fw;(function(){var r;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(D,O){function P(){}P.prototype=O.prototype,D.F=O.prototype,D.prototype=new P,D.prototype.constructor=D,D.D=function(F,U,Z){for(var k=Array(arguments.length-2),oe=2;oe<arguments.length;oe++)k[oe-2]=arguments[oe];return O.prototype[U].apply(F,k)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}t(s,n),s.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function l(D,O,P){P||(P=0);const F=Array(16);if(typeof O=="string")for(var U=0;U<16;++U)F[U]=O.charCodeAt(P++)|O.charCodeAt(P++)<<8|O.charCodeAt(P++)<<16|O.charCodeAt(P++)<<24;else for(U=0;U<16;++U)F[U]=O[P++]|O[P++]<<8|O[P++]<<16|O[P++]<<24;O=D.g[0],P=D.g[1],U=D.g[2];let Z=D.g[3],k;k=O+(Z^P&(U^Z))+F[0]+3614090360&4294967295,O=P+(k<<7&4294967295|k>>>25),k=Z+(U^O&(P^U))+F[1]+3905402710&4294967295,Z=O+(k<<12&4294967295|k>>>20),k=U+(P^Z&(O^P))+F[2]+606105819&4294967295,U=Z+(k<<17&4294967295|k>>>15),k=P+(O^U&(Z^O))+F[3]+3250441966&4294967295,P=U+(k<<22&4294967295|k>>>10),k=O+(Z^P&(U^Z))+F[4]+4118548399&4294967295,O=P+(k<<7&4294967295|k>>>25),k=Z+(U^O&(P^U))+F[5]+1200080426&4294967295,Z=O+(k<<12&4294967295|k>>>20),k=U+(P^Z&(O^P))+F[6]+2821735955&4294967295,U=Z+(k<<17&4294967295|k>>>15),k=P+(O^U&(Z^O))+F[7]+4249261313&4294967295,P=U+(k<<22&4294967295|k>>>10),k=O+(Z^P&(U^Z))+F[8]+1770035416&4294967295,O=P+(k<<7&4294967295|k>>>25),k=Z+(U^O&(P^U))+F[9]+2336552879&4294967295,Z=O+(k<<12&4294967295|k>>>20),k=U+(P^Z&(O^P))+F[10]+4294925233&4294967295,U=Z+(k<<17&4294967295|k>>>15),k=P+(O^U&(Z^O))+F[11]+2304563134&4294967295,P=U+(k<<22&4294967295|k>>>10),k=O+(Z^P&(U^Z))+F[12]+1804603682&4294967295,O=P+(k<<7&4294967295|k>>>25),k=Z+(U^O&(P^U))+F[13]+4254626195&4294967295,Z=O+(k<<12&4294967295|k>>>20),k=U+(P^Z&(O^P))+F[14]+2792965006&4294967295,U=Z+(k<<17&4294967295|k>>>15),k=P+(O^U&(Z^O))+F[15]+1236535329&4294967295,P=U+(k<<22&4294967295|k>>>10),k=O+(U^Z&(P^U))+F[1]+4129170786&4294967295,O=P+(k<<5&4294967295|k>>>27),k=Z+(P^U&(O^P))+F[6]+3225465664&4294967295,Z=O+(k<<9&4294967295|k>>>23),k=U+(O^P&(Z^O))+F[11]+643717713&4294967295,U=Z+(k<<14&4294967295|k>>>18),k=P+(Z^O&(U^Z))+F[0]+3921069994&4294967295,P=U+(k<<20&4294967295|k>>>12),k=O+(U^Z&(P^U))+F[5]+3593408605&4294967295,O=P+(k<<5&4294967295|k>>>27),k=Z+(P^U&(O^P))+F[10]+38016083&4294967295,Z=O+(k<<9&4294967295|k>>>23),k=U+(O^P&(Z^O))+F[15]+3634488961&4294967295,U=Z+(k<<14&4294967295|k>>>18),k=P+(Z^O&(U^Z))+F[4]+3889429448&4294967295,P=U+(k<<20&4294967295|k>>>12),k=O+(U^Z&(P^U))+F[9]+568446438&4294967295,O=P+(k<<5&4294967295|k>>>27),k=Z+(P^U&(O^P))+F[14]+3275163606&4294967295,Z=O+(k<<9&4294967295|k>>>23),k=U+(O^P&(Z^O))+F[3]+4107603335&4294967295,U=Z+(k<<14&4294967295|k>>>18),k=P+(Z^O&(U^Z))+F[8]+1163531501&4294967295,P=U+(k<<20&4294967295|k>>>12),k=O+(U^Z&(P^U))+F[13]+2850285829&4294967295,O=P+(k<<5&4294967295|k>>>27),k=Z+(P^U&(O^P))+F[2]+4243563512&4294967295,Z=O+(k<<9&4294967295|k>>>23),k=U+(O^P&(Z^O))+F[7]+1735328473&4294967295,U=Z+(k<<14&4294967295|k>>>18),k=P+(Z^O&(U^Z))+F[12]+2368359562&4294967295,P=U+(k<<20&4294967295|k>>>12),k=O+(P^U^Z)+F[5]+4294588738&4294967295,O=P+(k<<4&4294967295|k>>>28),k=Z+(O^P^U)+F[8]+2272392833&4294967295,Z=O+(k<<11&4294967295|k>>>21),k=U+(Z^O^P)+F[11]+1839030562&4294967295,U=Z+(k<<16&4294967295|k>>>16),k=P+(U^Z^O)+F[14]+4259657740&4294967295,P=U+(k<<23&4294967295|k>>>9),k=O+(P^U^Z)+F[1]+2763975236&4294967295,O=P+(k<<4&4294967295|k>>>28),k=Z+(O^P^U)+F[4]+1272893353&4294967295,Z=O+(k<<11&4294967295|k>>>21),k=U+(Z^O^P)+F[7]+4139469664&4294967295,U=Z+(k<<16&4294967295|k>>>16),k=P+(U^Z^O)+F[10]+3200236656&4294967295,P=U+(k<<23&4294967295|k>>>9),k=O+(P^U^Z)+F[13]+681279174&4294967295,O=P+(k<<4&4294967295|k>>>28),k=Z+(O^P^U)+F[0]+3936430074&4294967295,Z=O+(k<<11&4294967295|k>>>21),k=U+(Z^O^P)+F[3]+3572445317&4294967295,U=Z+(k<<16&4294967295|k>>>16),k=P+(U^Z^O)+F[6]+76029189&4294967295,P=U+(k<<23&4294967295|k>>>9),k=O+(P^U^Z)+F[9]+3654602809&4294967295,O=P+(k<<4&4294967295|k>>>28),k=Z+(O^P^U)+F[12]+3873151461&4294967295,Z=O+(k<<11&4294967295|k>>>21),k=U+(Z^O^P)+F[15]+530742520&4294967295,U=Z+(k<<16&4294967295|k>>>16),k=P+(U^Z^O)+F[2]+3299628645&4294967295,P=U+(k<<23&4294967295|k>>>9),k=O+(U^(P|~Z))+F[0]+4096336452&4294967295,O=P+(k<<6&4294967295|k>>>26),k=Z+(P^(O|~U))+F[7]+1126891415&4294967295,Z=O+(k<<10&4294967295|k>>>22),k=U+(O^(Z|~P))+F[14]+2878612391&4294967295,U=Z+(k<<15&4294967295|k>>>17),k=P+(Z^(U|~O))+F[5]+4237533241&4294967295,P=U+(k<<21&4294967295|k>>>11),k=O+(U^(P|~Z))+F[12]+1700485571&4294967295,O=P+(k<<6&4294967295|k>>>26),k=Z+(P^(O|~U))+F[3]+2399980690&4294967295,Z=O+(k<<10&4294967295|k>>>22),k=U+(O^(Z|~P))+F[10]+4293915773&4294967295,U=Z+(k<<15&4294967295|k>>>17),k=P+(Z^(U|~O))+F[1]+2240044497&4294967295,P=U+(k<<21&4294967295|k>>>11),k=O+(U^(P|~Z))+F[8]+1873313359&4294967295,O=P+(k<<6&4294967295|k>>>26),k=Z+(P^(O|~U))+F[15]+4264355552&4294967295,Z=O+(k<<10&4294967295|k>>>22),k=U+(O^(Z|~P))+F[6]+2734768916&4294967295,U=Z+(k<<15&4294967295|k>>>17),k=P+(Z^(U|~O))+F[13]+1309151649&4294967295,P=U+(k<<21&4294967295|k>>>11),k=O+(U^(P|~Z))+F[4]+4149444226&4294967295,O=P+(k<<6&4294967295|k>>>26),k=Z+(P^(O|~U))+F[11]+3174756917&4294967295,Z=O+(k<<10&4294967295|k>>>22),k=U+(O^(Z|~P))+F[2]+718787259&4294967295,U=Z+(k<<15&4294967295|k>>>17),k=P+(Z^(U|~O))+F[9]+3951481745&4294967295,D.g[0]=D.g[0]+O&4294967295,D.g[1]=D.g[1]+(U+(k<<21&4294967295|k>>>11))&4294967295,D.g[2]=D.g[2]+U&4294967295,D.g[3]=D.g[3]+Z&4294967295}s.prototype.v=function(D,O){O===void 0&&(O=D.length);const P=O-this.blockSize,F=this.C;let U=this.h,Z=0;for(;Z<O;){if(U==0)for(;Z<=P;)l(this,D,Z),Z+=this.blockSize;if(typeof D=="string"){for(;Z<O;)if(F[U++]=D.charCodeAt(Z++),U==this.blockSize){l(this,F),U=0;break}}else for(;Z<O;)if(F[U++]=D[Z++],U==this.blockSize){l(this,F),U=0;break}}this.h=U,this.o+=O},s.prototype.A=function(){var D=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);D[0]=128;for(var O=1;O<D.length-8;++O)D[O]=0;O=this.o*8;for(var P=D.length-8;P<D.length;++P)D[P]=O&255,O/=256;for(this.v(D),D=Array(16),O=0,P=0;P<4;++P)for(let F=0;F<32;F+=8)D[O++]=this.g[P]>>>F&255;return D};function h(D,O){var P=v;return Object.prototype.hasOwnProperty.call(P,D)?P[D]:P[D]=O(D)}function m(D,O){this.h=O;const P=[];let F=!0;for(let U=D.length-1;U>=0;U--){const Z=D[U]|0;F&&Z==O||(P[U]=Z,F=!1)}this.g=P}var v={};function y(D){return-128<=D&&D<128?h(D,function(O){return new m([O|0],O<0?-1:0)}):new m([D|0],D<0?-1:0)}function T(D){if(isNaN(D)||!isFinite(D))return R;if(D<0)return G(T(-D));const O=[];let P=1;for(let F=0;D>=P;F++)O[F]=D/P|0,P*=4294967296;return new m(O,0)}function S(D,O){if(D.length==0)throw Error("number format error: empty string");if(O=O||10,O<2||36<O)throw Error("radix out of range: "+O);if(D.charAt(0)=="-")return G(S(D.substring(1),O));if(D.indexOf("-")>=0)throw Error('number format error: interior "-" character');const P=T(Math.pow(O,8));let F=R;for(let Z=0;Z<D.length;Z+=8){var U=Math.min(8,D.length-Z);const k=parseInt(D.substring(Z,Z+U),O);U<8?(U=T(Math.pow(O,U)),F=F.j(U).add(T(k))):(F=F.j(P),F=F.add(T(k)))}return F}var R=y(0),N=y(1),j=y(16777216);r=m.prototype,r.m=function(){if(K(this))return-G(this).m();let D=0,O=1;for(let P=0;P<this.g.length;P++){const F=this.i(P);D+=(F>=0?F:4294967296+F)*O,O*=4294967296}return D},r.toString=function(D){if(D=D||10,D<2||36<D)throw Error("radix out of range: "+D);if(B(this))return"0";if(K(this))return"-"+G(this).toString(D);const O=T(Math.pow(D,6));var P=this;let F="";for(;;){const U=Ct(P,O).g;P=it(P,U.j(O));let Z=((P.g.length>0?P.g[0]:P.h)>>>0).toString(D);if(P=U,B(P))return Z+F;for(;Z.length<6;)Z="0"+Z;F=Z+F}},r.i=function(D){return D<0?0:D<this.g.length?this.g[D]:this.h};function B(D){if(D.h!=0)return!1;for(let O=0;O<D.g.length;O++)if(D.g[O]!=0)return!1;return!0}function K(D){return D.h==-1}r.l=function(D){return D=it(this,D),K(D)?-1:B(D)?0:1};function G(D){const O=D.g.length,P=[];for(let F=0;F<O;F++)P[F]=~D.g[F];return new m(P,~D.h).add(N)}r.abs=function(){return K(this)?G(this):this},r.add=function(D){const O=Math.max(this.g.length,D.g.length),P=[];let F=0;for(let U=0;U<=O;U++){let Z=F+(this.i(U)&65535)+(D.i(U)&65535),k=(Z>>>16)+(this.i(U)>>>16)+(D.i(U)>>>16);F=k>>>16,Z&=65535,k&=65535,P[U]=k<<16|Z}return new m(P,P[P.length-1]&-2147483648?-1:0)};function it(D,O){return D.add(G(O))}r.j=function(D){if(B(this)||B(D))return R;if(K(this))return K(D)?G(this).j(G(D)):G(G(this).j(D));if(K(D))return G(this.j(G(D)));if(this.l(j)<0&&D.l(j)<0)return T(this.m()*D.m());const O=this.g.length+D.g.length,P=[];for(var F=0;F<2*O;F++)P[F]=0;for(F=0;F<this.g.length;F++)for(let U=0;U<D.g.length;U++){const Z=this.i(F)>>>16,k=this.i(F)&65535,oe=D.i(U)>>>16,Je=D.i(U)&65535;P[2*F+2*U]+=k*Je,rt(P,2*F+2*U),P[2*F+2*U+1]+=Z*Je,rt(P,2*F+2*U+1),P[2*F+2*U+1]+=k*oe,rt(P,2*F+2*U+1),P[2*F+2*U+2]+=Z*oe,rt(P,2*F+2*U+2)}for(D=0;D<O;D++)P[D]=P[2*D+1]<<16|P[2*D];for(D=O;D<2*O;D++)P[D]=0;return new m(P,0)};function rt(D,O){for(;(D[O]&65535)!=D[O];)D[O+1]+=D[O]>>>16,D[O]&=65535,O++}function ct(D,O){this.g=D,this.h=O}function Ct(D,O){if(B(O))throw Error("division by zero");if(B(D))return new ct(R,R);if(K(D))return O=Ct(G(D),O),new ct(G(O.g),G(O.h));if(K(O))return O=Ct(D,G(O)),new ct(G(O.g),O.h);if(D.g.length>30){if(K(D)||K(O))throw Error("slowDivide_ only works with positive integers.");for(var P=N,F=O;F.l(D)<=0;)P=Lt(P),F=Lt(F);var U=kt(P,1),Z=kt(F,1);for(F=kt(F,2),P=kt(P,2);!B(F);){var k=Z.add(F);k.l(D)<=0&&(U=U.add(P),Z=k),F=kt(F,1),P=kt(P,1)}return O=it(D,U.j(O)),new ct(U,O)}for(U=R;D.l(O)>=0;){for(P=Math.max(1,Math.floor(D.m()/O.m())),F=Math.ceil(Math.log(P)/Math.LN2),F=F<=48?1:Math.pow(2,F-48),Z=T(P),k=Z.j(O);K(k)||k.l(D)>0;)P-=F,Z=T(P),k=Z.j(O);B(Z)&&(Z=N),U=U.add(Z),D=it(D,k)}return new ct(U,D)}r.B=function(D){return Ct(this,D).h},r.and=function(D){const O=Math.max(this.g.length,D.g.length),P=[];for(let F=0;F<O;F++)P[F]=this.i(F)&D.i(F);return new m(P,this.h&D.h)},r.or=function(D){const O=Math.max(this.g.length,D.g.length),P=[];for(let F=0;F<O;F++)P[F]=this.i(F)|D.i(F);return new m(P,this.h|D.h)},r.xor=function(D){const O=Math.max(this.g.length,D.g.length),P=[];for(let F=0;F<O;F++)P[F]=this.i(F)^D.i(F);return new m(P,this.h^D.h)};function Lt(D){const O=D.g.length+1,P=[];for(let F=0;F<O;F++)P[F]=D.i(F)<<1|D.i(F-1)>>>31;return new m(P,D.h)}function kt(D,O){const P=O>>5;O%=32;const F=D.g.length-P,U=[];for(let Z=0;Z<F;Z++)U[Z]=O>0?D.i(Z+P)>>>O|D.i(Z+P+1)<<32-O:D.i(Z+P);return new m(U,D.h)}s.prototype.digest=s.prototype.A,s.prototype.reset=s.prototype.u,s.prototype.update=s.prototype.v,fw=s,m.prototype.add=m.prototype.add,m.prototype.multiply=m.prototype.j,m.prototype.modulo=m.prototype.B,m.prototype.compare=m.prototype.l,m.prototype.toNumber=m.prototype.m,m.prototype.toString=m.prototype.toString,m.prototype.getBits=m.prototype.i,m.fromNumber=T,m.fromString=S,Za=m}).apply(typeof WT<"u"?WT:typeof self<"u"?self:typeof window<"u"?window:{});var sf=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var dw,pc,mw,yf,Lp,pw,gw,_w;(function(){var r,t=Object.defineProperty;function n(f){f=[typeof globalThis=="object"&&globalThis,f,typeof window=="object"&&window,typeof self=="object"&&self,typeof sf=="object"&&sf];for(var E=0;E<f.length;++E){var A=f[E];if(A&&A.Math==Math)return A}throw Error("Cannot find global object")}var s=n(this);function l(f,E){if(E)t:{var A=s;f=f.split(".");for(var x=0;x<f.length-1;x++){var X=f[x];if(!(X in A))break t;A=A[X]}f=f[f.length-1],x=A[f],E=E(x),E!=x&&E!=null&&t(A,f,{configurable:!0,writable:!0,value:E})}}l("Symbol.dispose",function(f){return f||Symbol("Symbol.dispose")}),l("Array.prototype.values",function(f){return f||function(){return this[Symbol.iterator]()}}),l("Object.entries",function(f){return f||function(E){var A=[],x;for(x in E)Object.prototype.hasOwnProperty.call(E,x)&&A.push([x,E[x]]);return A}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var h=h||{},m=this||self;function v(f){var E=typeof f;return E=="object"&&f!=null||E=="function"}function y(f,E,A){return f.call.apply(f.bind,arguments)}function T(f,E,A){return T=y,T.apply(null,arguments)}function S(f,E){var A=Array.prototype.slice.call(arguments,1);return function(){var x=A.slice();return x.push.apply(x,arguments),f.apply(this,x)}}function R(f,E){function A(){}A.prototype=E.prototype,f.Z=E.prototype,f.prototype=new A,f.prototype.constructor=f,f.Ob=function(x,X,nt){for(var yt=Array(arguments.length-2),zt=2;zt<arguments.length;zt++)yt[zt-2]=arguments[zt];return E.prototype[X].apply(x,yt)}}var N=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?f=>f&&AsyncContext.Snapshot.wrap(f):f=>f;function j(f){const E=f.length;if(E>0){const A=Array(E);for(let x=0;x<E;x++)A[x]=f[x];return A}return[]}function B(f,E){for(let x=1;x<arguments.length;x++){const X=arguments[x];var A=typeof X;if(A=A!="object"?A:X?Array.isArray(X)?"array":A:"null",A=="array"||A=="object"&&typeof X.length=="number"){A=f.length||0;const nt=X.length||0;f.length=A+nt;for(let yt=0;yt<nt;yt++)f[A+yt]=X[yt]}else f.push(X)}}class K{constructor(E,A){this.i=E,this.j=A,this.h=0,this.g=null}get(){let E;return this.h>0?(this.h--,E=this.g,this.g=E.next,E.next=null):E=this.i(),E}}function G(f){m.setTimeout(()=>{throw f},0)}function it(){var f=D;let E=null;return f.g&&(E=f.g,f.g=f.g.next,f.g||(f.h=null),E.next=null),E}class rt{constructor(){this.h=this.g=null}add(E,A){const x=ct.get();x.set(E,A),this.h?this.h.next=x:this.g=x,this.h=x}}var ct=new K(()=>new Ct,f=>f.reset());class Ct{constructor(){this.next=this.g=this.h=null}set(E,A){this.h=E,this.g=A,this.next=null}reset(){this.next=this.g=this.h=null}}let Lt,kt=!1,D=new rt,O=()=>{const f=Promise.resolve(void 0);Lt=()=>{f.then(P)}};function P(){for(var f;f=it();){try{f.h.call(f.g)}catch(A){G(A)}var E=ct;E.j(f),E.h<100&&(E.h++,f.next=E.g,E.g=f)}kt=!1}function F(){this.u=this.u,this.C=this.C}F.prototype.u=!1,F.prototype.dispose=function(){this.u||(this.u=!0,this.N())},F.prototype[Symbol.dispose]=function(){this.dispose()},F.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function U(f,E){this.type=f,this.g=this.target=E,this.defaultPrevented=!1}U.prototype.h=function(){this.defaultPrevented=!0};var Z=(function(){if(!m.addEventListener||!Object.defineProperty)return!1;var f=!1,E=Object.defineProperty({},"passive",{get:function(){f=!0}});try{const A=()=>{};m.addEventListener("test",A,E),m.removeEventListener("test",A,E)}catch{}return f})();function k(f){return/^[\s\xa0]*$/.test(f)}function oe(f,E){U.call(this,f?f.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,f&&this.init(f,E)}R(oe,U),oe.prototype.init=function(f,E){const A=this.type=f.type,x=f.changedTouches&&f.changedTouches.length?f.changedTouches[0]:null;this.target=f.target||f.srcElement,this.g=E,E=f.relatedTarget,E||(A=="mouseover"?E=f.fromElement:A=="mouseout"&&(E=f.toElement)),this.relatedTarget=E,x?(this.clientX=x.clientX!==void 0?x.clientX:x.pageX,this.clientY=x.clientY!==void 0?x.clientY:x.pageY,this.screenX=x.screenX||0,this.screenY=x.screenY||0):(this.clientX=f.clientX!==void 0?f.clientX:f.pageX,this.clientY=f.clientY!==void 0?f.clientY:f.pageY,this.screenX=f.screenX||0,this.screenY=f.screenY||0),this.button=f.button,this.key=f.key||"",this.ctrlKey=f.ctrlKey,this.altKey=f.altKey,this.shiftKey=f.shiftKey,this.metaKey=f.metaKey,this.pointerId=f.pointerId||0,this.pointerType=f.pointerType,this.state=f.state,this.i=f,f.defaultPrevented&&oe.Z.h.call(this)},oe.prototype.h=function(){oe.Z.h.call(this);const f=this.i;f.preventDefault?f.preventDefault():f.returnValue=!1};var Je="closure_listenable_"+(Math.random()*1e6|0),at=0;function vt(f,E,A,x,X){this.listener=f,this.proxy=null,this.src=E,this.type=A,this.capture=!!x,this.ha=X,this.key=++at,this.da=this.fa=!1}function pt(f){f.da=!0,f.listener=null,f.proxy=null,f.src=null,f.ha=null}function te(f,E,A){for(const x in f)E.call(A,f[x],x,f)}function bt(f,E){for(const A in f)E.call(void 0,f[A],A,f)}function z(f){const E={};for(const A in f)E[A]=f[A];return E}const ot="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function gt(f,E){let A,x;for(let X=1;X<arguments.length;X++){x=arguments[X];for(A in x)f[A]=x[A];for(let nt=0;nt<ot.length;nt++)A=ot[nt],Object.prototype.hasOwnProperty.call(x,A)&&(f[A]=x[A])}}function _t(f){this.src=f,this.g={},this.h=0}_t.prototype.add=function(f,E,A,x,X){const nt=f.toString();f=this.g[nt],f||(f=this.g[nt]=[],this.h++);const yt=Et(f,E,x,X);return yt>-1?(E=f[yt],A||(E.fa=!1)):(E=new vt(E,this.src,nt,!!x,X),E.fa=A,f.push(E)),E};function wt(f,E){const A=E.type;if(A in f.g){var x=f.g[A],X=Array.prototype.indexOf.call(x,E,void 0),nt;(nt=X>=0)&&Array.prototype.splice.call(x,X,1),nt&&(pt(E),f.g[A].length==0&&(delete f.g[A],f.h--))}}function Et(f,E,A,x){for(let X=0;X<f.length;++X){const nt=f[X];if(!nt.da&&nt.listener==E&&nt.capture==!!A&&nt.ha==x)return X}return-1}var Ht="closure_lm_"+(Math.random()*1e6|0),we={};function Re(f,E,A,x,X){if(Array.isArray(E)){for(let nt=0;nt<E.length;nt++)Re(f,E[nt],A,x,X);return null}return A=Dr(A),f&&f[Je]?f.J(E,A,v(x)?!!x.capture:!1,X):cr(f,E,A,!1,x,X)}function cr(f,E,A,x,X,nt){if(!E)throw Error("Invalid event type");const yt=v(X)?!!X.capture:!!X;let zt=Mr(f);if(zt||(f[Ht]=zt=new _t(f)),A=zt.add(E,A,x,yt,nt),A.proxy)return A;if(x=Lr(),A.proxy=x,x.src=f,x.listener=A,f.addEventListener)Z||(X=yt),X===void 0&&(X=!1),f.addEventListener(E.toString(),x,X);else if(f.attachEvent)f.attachEvent(ji(E.toString()),x);else if(f.addListener&&f.removeListener)f.addListener(x);else throw Error("addEventListener and attachEvent are unavailable.");return A}function Lr(){function f(A){return E.call(f.src,f.listener,A)}const E=Ws;return f}function Bi(f,E,A,x,X){if(Array.isArray(E))for(var nt=0;nt<E.length;nt++)Bi(f,E[nt],A,x,X);else x=v(x)?!!x.capture:!!x,A=Dr(A),f&&f[Je]?(f=f.i,nt=String(E).toString(),nt in f.g&&(E=f.g[nt],A=Et(E,A,x,X),A>-1&&(pt(E[A]),Array.prototype.splice.call(E,A,1),E.length==0&&(delete f.g[nt],f.h--)))):f&&(f=Mr(f))&&(E=f.g[E.toString()],f=-1,E&&(f=Et(E,A,x,X)),(A=f>-1?E[f]:null)&&Pr(A))}function Pr(f){if(typeof f!="number"&&f&&!f.da){var E=f.src;if(E&&E[Je])wt(E.i,f);else{var A=f.type,x=f.proxy;E.removeEventListener?E.removeEventListener(A,x,f.capture):E.detachEvent?E.detachEvent(ji(A),x):E.addListener&&E.removeListener&&E.removeListener(x),(A=Mr(E))?(wt(A,f),A.h==0&&(A.src=null,E[Ht]=null)):pt(f)}}}function ji(f){return f in we?we[f]:we[f]="on"+f}function Ws(f,E){if(f.da)f=!0;else{E=new oe(E,this);const A=f.listener,x=f.ha||f.src;f.fa&&Pr(f),f=A.call(x,E)}return f}function Mr(f){return f=f[Ht],f instanceof _t?f:null}var ms="__closure_events_fn_"+(Math.random()*1e9>>>0);function Dr(f){return typeof f=="function"?f:(f[ms]||(f[ms]=function(E){return f.handleEvent(E)}),f[ms])}function Fe(){F.call(this),this.i=new _t(this),this.M=this,this.G=null}R(Fe,F),Fe.prototype[Je]=!0,Fe.prototype.removeEventListener=function(f,E,A,x){Bi(this,f,E,A,x)};function Ge(f,E){var A,x=f.G;if(x)for(A=[];x;x=x.G)A.push(x);if(f=f.M,x=E.type||E,typeof E=="string")E=new U(E,f);else if(E instanceof U)E.target=E.target||f;else{var X=E;E=new U(x,f),gt(E,X)}X=!0;let nt,yt;if(A)for(yt=A.length-1;yt>=0;yt--)nt=E.g=A[yt],X=Hi(nt,x,!0,E)&&X;if(nt=E.g=f,X=Hi(nt,x,!0,E)&&X,X=Hi(nt,x,!1,E)&&X,A)for(yt=0;yt<A.length;yt++)nt=E.g=A[yt],X=Hi(nt,x,!1,E)&&X}Fe.prototype.N=function(){if(Fe.Z.N.call(this),this.i){var f=this.i;for(const E in f.g){const A=f.g[E];for(let x=0;x<A.length;x++)pt(A[x]);delete f.g[E],f.h--}}this.G=null},Fe.prototype.J=function(f,E,A,x){return this.i.add(String(f),E,!1,A,x)},Fe.prototype.K=function(f,E,A,x){return this.i.add(String(f),E,!0,A,x)};function Hi(f,E,A,x){if(E=f.i.g[String(E)],!E)return!0;E=E.concat();let X=!0;for(let nt=0;nt<E.length;++nt){const yt=E[nt];if(yt&&!yt.da&&yt.capture==A){const zt=yt.listener,le=yt.ha||yt.src;yt.fa&&wt(f.i,yt),X=zt.call(le,x)!==!1&&X}}return X&&!x.defaultPrevented}function cl(f,E){if(typeof f!="function")if(f&&typeof f.handleEvent=="function")f=T(f.handleEvent,f);else throw Error("Invalid listener argument");return Number(E)>2147483647?-1:m.setTimeout(f,E||0)}function so(f){f.g=cl(()=>{f.g=null,f.i&&(f.i=!1,so(f))},f.l);const E=f.h;f.h=null,f.m.apply(null,E)}class Cn extends F{constructor(E,A){super(),this.m=E,this.l=A,this.h=null,this.i=!1,this.g=null}j(E){this.h=arguments,this.g?this.i=!0:so(this)}N(){super.N(),this.g&&(m.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ps(f){F.call(this),this.h=f,this.g={}}R(ps,F);var gs=[];function Js(f){te(f.g,function(E,A){this.g.hasOwnProperty(A)&&Pr(E)},f),f.g={}}ps.prototype.N=function(){ps.Z.N.call(this),Js(this)},ps.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var hr=m.JSON.stringify,Ru=m.JSON.parse,ao=class{stringify(f){return m.JSON.stringify(f,void 0)}parse(f){return m.JSON.parse(f,void 0)}};function oo(){}function hl(){}var Jn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function tn(){U.call(this,"d")}R(tn,U);function Gn(){U.call(this,"c")}R(Gn,U);var Ve={},kr=null;function ta(){return kr=kr||new Fe}Ve.Ia="serverreachability";function fl(f){U.call(this,Ve.Ia,f)}R(fl,U);function vi(f){const E=ta();Ge(E,new fl(E))}Ve.STAT_EVENT="statevent";function Vr(f,E){U.call(this,Ve.STAT_EVENT,f),this.stat=E}R(Vr,U);function Ue(f){const E=ta();Ge(E,new Vr(E,f))}Ve.Ja="timingevent";function qi(f,E){U.call(this,Ve.Ja,f),this.size=E}R(qi,U);function Fi(f,E){if(typeof f!="function")throw Error("Fn must not be null and must be a function");return m.setTimeout(function(){f()},E)}function Ti(){this.g=!0}Ti.prototype.ua=function(){this.g=!1};function Cu(f,E,A,x,X,nt){f.info(function(){if(f.g)if(nt){var yt="",zt=nt.split("&");for(let ue=0;ue<zt.length;ue++){var le=zt[ue].split("=");if(le.length>1){const Ie=le[0];le=le[1];const oi=Ie.split("_");yt=oi.length>=2&&oi[1]=="type"?yt+(Ie+"="+le+"&"):yt+(Ie+"=redacted&")}}}else yt=null;else yt=nt;return"XMLHTTP REQ ("+x+") [attempt "+X+"]: "+E+`
`+A+`
`+yt})}function dl(f,E,A,x,X,nt,yt){f.info(function(){return"XMLHTTP RESP ("+x+") [ attempt "+X+"]: "+E+`
`+A+`
`+nt+" "+yt})}function Gi(f,E,A,x){f.info(function(){return"XMLHTTP TEXT ("+E+"): "+Iu(f,A)+(x?" "+x:"")})}function fr(f,E){f.info(function(){return"TIMEOUT: "+E})}Ti.prototype.info=function(){};function Iu(f,E){if(!f.g)return E;if(!E)return null;try{const nt=JSON.parse(E);if(nt){for(f=0;f<nt.length;f++)if(Array.isArray(nt[f])){var A=nt[f];if(!(A.length<2)){var x=A[1];if(Array.isArray(x)&&!(x.length<1)){var X=x[0];if(X!="noop"&&X!="stop"&&X!="close")for(let yt=1;yt<x.length;yt++)x[yt]=""}}}}return hr(nt)}catch{return E}}var _s={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},lo={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},uo;function yn(){}R(yn,oo),yn.prototype.g=function(){return new XMLHttpRequest},uo=new yn;function It(f){return encodeURIComponent(String(f))}function co(f){var E=1;f=f.split(":");const A=[];for(;E>0&&f.length;)A.push(f.shift()),E--;return f.length&&A.push(f.join(":")),A}function ti(f,E,A,x){this.j=f,this.i=E,this.l=A,this.S=x||1,this.V=new ps(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new ei}function ei(){this.i=null,this.g="",this.h=!1}var ze={},Ze={};function Ei(f,E,A){f.M=1,f.A=ye(Oe(E)),f.u=A,f.R=!0,wi(f,null)}function wi(f,E){f.F=Date.now(),Zi(f),f.B=Oe(f.A);var A=f.B,x=f.S;Array.isArray(x)||(x=[String(x)]),zr(A.i,"t",x),f.C=0,A=f.j.L,f.h=new ei,f.g=yo(f.j,A?E:null,!f.u),f.P>0&&(f.O=new Cn(T(f.Y,f,f.g),f.P)),E=f.V,A=f.g,x=f.ba;var X="readystatechange";Array.isArray(X)||(X&&(gs[0]=X.toString()),X=gs);for(let nt=0;nt<X.length;nt++){const yt=Re(A,X[nt],x||E.handleEvent,!1,E.h||E);if(!yt)break;E.g[yt.key]=yt}E=f.J?z(f.J):{},f.u?(f.v||(f.v="POST"),E["Content-Type"]="application/x-www-form-urlencoded",f.g.ea(f.B,f.v,f.u,E)):(f.v="GET",f.g.ea(f.B,f.v,null,E)),vi(),Cu(f.i,f.v,f.B,f.l,f.S,f.u)}ti.prototype.ba=function(f){f=f.target;const E=this.O;E&&Ri(f)==3?E.j():this.Y(f)},ti.prototype.Y=function(f){try{if(f==this.g)t:{const zt=Ri(this.g),le=this.g.ya(),ue=this.g.ca();if(!(zt<3)&&(zt!=3||this.g&&(this.h.h||this.g.la()||an(this.g)))){this.K||zt!=4||le==7||(le==8||ue<=0?vi(3):vi(2)),bi(this);var E=this.g.ca();this.X=E;var A=ml(this);if(this.o=E==200,dl(this.i,this.v,this.B,this.l,this.S,zt,E),this.o){if(this.U&&!this.L){e:{if(this.g){var x,X=this.g;if((x=X.g?X.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!k(x)){var nt=x;break e}}nt=null}if(f=nt)Gi(this.i,this.l,f,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Ki(this,f);else{this.o=!1,this.m=3,Ue(12),vn(this),ni(this);break t}}if(this.R){f=!0;let Ie;for(;!this.K&&this.C<A.length;)if(Ie=gl(this,A),Ie==Ze){zt==4&&(this.m=4,Ue(14),f=!1),Gi(this.i,this.l,null,"[Incomplete Response]");break}else if(Ie==ze){this.m=4,Ue(15),Gi(this.i,this.l,A,"[Invalid Chunk]"),f=!1;break}else Gi(this.i,this.l,Ie,null),Ki(this,Ie);if(pl(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),zt!=4||A.length!=0||this.h.h||(this.m=1,Ue(16),f=!1),this.o=this.o&&f,!f)Gi(this.i,this.l,A,"[Invalid Chunked Response]"),vn(this),ni(this);else if(A.length>0&&!this.W){this.W=!0;var yt=this.j;yt.g==this&&yt.aa&&!yt.P&&(yt.j.info("Great, no buffering proxy detected. Bytes received: "+A.length),go(yt),yt.P=!0,Ue(11))}}else Gi(this.i,this.l,A,null),Ki(this,A);zt==4&&vn(this),this.o&&!this.K&&(zt==4?Yn(this.j,this):(this.o=!1,Zi(this)))}else Ci(this.g),E==400&&A.indexOf("Unknown SID")>0?(this.m=3,Ue(12)):(this.m=0,Ue(13)),vn(this),ni(this)}}}catch{}finally{}};function ml(f){if(!pl(f))return f.g.la();const E=an(f.g);if(E==="")return"";let A="";const x=E.length,X=Ri(f.g)==4;if(!f.h.i){if(typeof TextDecoder>"u")return vn(f),ni(f),"";f.h.i=new m.TextDecoder}for(let nt=0;nt<x;nt++)f.h.h=!0,A+=f.h.i.decode(E[nt],{stream:!(X&&nt==x-1)});return E.length=0,f.h.g+=A,f.C=0,f.h.g}function pl(f){return f.g?f.v=="GET"&&f.M!=2&&f.j.Aa:!1}function gl(f,E){var A=f.C,x=E.indexOf(`
`,A);return x==-1?Ze:(A=Number(E.substring(A,x)),isNaN(A)?ze:(x+=1,x+A>E.length?Ze:(E=E.slice(x,x+A),f.C=x+A,E)))}ti.prototype.cancel=function(){this.K=!0,vn(this)};function Zi(f){f.T=Date.now()+f.H,ea(f,f.H)}function ea(f,E){if(f.D!=null)throw Error("WatchDog timer not null");f.D=Fi(T(f.aa,f),E)}function bi(f){f.D&&(m.clearTimeout(f.D),f.D=null)}ti.prototype.aa=function(){this.D=null;const f=Date.now();f-this.T>=0?(fr(this.i,this.B),this.M!=2&&(vi(),Ue(17)),vn(this),this.m=2,ni(this)):ea(this,this.T-f)};function ni(f){f.j.I==0||f.K||Yn(f.j,f)}function vn(f){bi(f);var E=f.O;E&&typeof E.dispose=="function"&&E.dispose(),f.O=null,Js(f.V),f.g&&(E=f.g,f.g=null,E.abort(),E.dispose())}function Ki(f,E){try{var A=f.j;if(A.I!=0&&(A.g==f||ii(A.h,f))){if(!f.L&&ii(A.h,f)&&A.I==3){try{var x=A.Ba.g.parse(E)}catch{x=null}if(Array.isArray(x)&&x.length==3){var X=x;if(X[0]==0){t:if(!A.v){if(A.g)if(A.g.F+3e3<f.F)la(A),qr(A);else break t;bs(A),Ue(18)}}else A.xa=X[1],0<A.xa-A.K&&X[2]<37500&&A.F&&A.A==0&&!A.C&&(A.C=Fi(T(A.Va,A),6e3));Yi(A.h)<=1&&A.ta&&(A.ta=void 0)}else Ii(A,11)}else if((f.L||A.g==f)&&la(A),!k(E))for(X=A.Ba.g.parse(E),E=0;E<X.length;E++){let ue=X[E];const Ie=ue[0];if(!(Ie<=A.K))if(A.K=Ie,ue=ue[1],A.I==2)if(ue[0]=="c"){A.M=ue[1],A.ba=ue[2];const oi=ue[3];oi!=null&&(A.ka=oi,A.j.info("VER="+A.ka));const li=ue[4];li!=null&&(A.za=li,A.j.info("SVER="+A.za));const Qn=ue[5];Qn!=null&&typeof Qn=="number"&&Qn>0&&(x=1.5*Qn,A.O=x,A.j.info("backChannelRequestTimeoutMs_="+x)),x=A;const Ni=f.g;if(Ni){const Ss=Ni.g?Ni.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ss){var nt=x.h;nt.g||Ss.indexOf("spdy")==-1&&Ss.indexOf("quic")==-1&&Ss.indexOf("h2")==-1||(nt.j=nt.l,nt.g=new Set,nt.h&&(dr(nt,nt.h),nt.h=null))}if(x.G){const As=Ni.g?Ni.g.getResponseHeader("X-HTTP-Session-Id"):null;As&&(x.wa=As,St(x.J,x.G,As))}}A.I=3,A.l&&A.l.ra(),A.aa&&(A.T=Date.now()-f.F,A.j.info("Handshake RTT: "+A.T+"ms")),x=A;var yt=f;if(x.na=_o(x,x.L?x.ba:null,x.W),yt.L){na(x.h,yt);var zt=yt,le=x.O;le&&(zt.H=le),zt.D&&(bi(zt),Zi(zt)),x.g=yt}else po(x);A.i.length>0&&Vn(A)}else ue[0]!="stop"&&ue[0]!="close"||Ii(A,7);else A.I==3&&(ue[0]=="stop"||ue[0]=="close"?ue[0]=="stop"?Ii(A,7):Yt(A):ue[0]!="noop"&&A.l&&A.l.qa(ue),A.A=0)}}vi(4)}catch{}}var Ke=class{constructor(f,E){this.g=f,this.map=E}};function ho(f){this.l=f||10,m.PerformanceNavigationTiming?(f=m.performance.getEntriesByType("navigation"),f=f.length>0&&(f[0].nextHopProtocol=="hq"||f[0].nextHopProtocol=="h2")):f=!!(m.chrome&&m.chrome.loadTimes&&m.chrome.loadTimes()&&m.chrome.loadTimes().wasFetchedViaSpdy),this.j=f?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function fo(f){return f.h?!0:f.g?f.g.size>=f.j:!1}function Yi(f){return f.h?1:f.g?f.g.size:0}function ii(f,E){return f.h?f.h==E:f.g?f.g.has(E):!1}function dr(f,E){f.g?f.g.add(E):f.h=E}function na(f,E){f.h&&f.h==E?f.h=null:f.g&&f.g.has(E)&&f.g.delete(E)}ho.prototype.cancel=function(){if(this.i=ia(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const f of this.g.values())f.cancel();this.g.clear()}};function ia(f){if(f.h!=null)return f.i.concat(f.h.G);if(f.g!=null&&f.g.size!==0){let E=f.i;for(const A of f.g.values())E=E.concat(A.G);return E}return j(f.i)}var Ur=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Qt(f,E){if(f){f=f.split("&");for(let A=0;A<f.length;A++){const x=f[A].indexOf("=");let X,nt=null;x>=0?(X=f[A].substring(0,x),nt=f[A].substring(x+1)):X=f[A],E(X,nt?decodeURIComponent(nt.replace(/\+/g," ")):"")}}}function $t(f){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let E;f instanceof $t?(this.l=f.l,Le(this,f.j),this.o=f.o,this.g=f.g,Zn(this,f.u),this.h=f.h,ys(this,Es(f.i)),this.m=f.m):f&&(E=String(f).match(Ur))?(this.l=!1,Le(this,E[1]||"",!0),this.o=ri(E[2]||""),this.g=ri(E[3]||"",!0),Zn(this,E[4]),this.h=ri(E[5]||"",!0),ys(this,E[6]||"",!0),this.m=ri(E[7]||"")):(this.l=!1,this.i=new si(null,this.l))}$t.prototype.toString=function(){const f=[];var E=this.j;E&&f.push(Qi(E,ra,!0),":");var A=this.g;return(A||E=="file")&&(f.push("//"),(E=this.o)&&f.push(Qi(E,ra,!0),"@"),f.push(It(A).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),A=this.u,A!=null&&f.push(":",String(A))),(A=this.h)&&(this.g&&A.charAt(0)!="/"&&f.push("/"),f.push(Qi(A,A.charAt(0)=="/"?Si:vs,!0))),(A=this.i.toString())&&f.push("?",A),(A=this.m)&&f.push("#",Qi(A,$i)),f.join("")},$t.prototype.resolve=function(f){const E=Oe(this);let A=!!f.j;A?Le(E,f.j):A=!!f.o,A?E.o=f.o:A=!!f.g,A?E.g=f.g:A=f.u!=null;var x=f.h;if(A)Zn(E,f.u);else if(A=!!f.h){if(x.charAt(0)!="/")if(this.g&&!this.h)x="/"+x;else{var X=E.h.lastIndexOf("/");X!=-1&&(x=E.h.slice(0,X+1)+x)}if(X=x,X==".."||X==".")x="";else if(X.indexOf("./")!=-1||X.indexOf("/.")!=-1){x=X.lastIndexOf("/",0)==0,X=X.split("/");const nt=[];for(let yt=0;yt<X.length;){const zt=X[yt++];zt=="."?x&&yt==X.length&&nt.push(""):zt==".."?((nt.length>1||nt.length==1&&nt[0]!="")&&nt.pop(),x&&yt==X.length&&nt.push("")):(nt.push(zt),x=!0)}x=nt.join("/")}else x=X}return A?E.h=x:A=f.i.toString()!=="",A?ys(E,Es(f.i)):A=!!f.m,A&&(E.m=f.m),E};function Oe(f){return new $t(f)}function Le(f,E,A){f.j=A?ri(E,!0):E,f.j&&(f.j=f.j.replace(/:$/,""))}function Zn(f,E){if(E){if(E=Number(E),isNaN(E)||E<0)throw Error("Bad port number "+E);f.u=E}else f.u=null}function ys(f,E,A){E instanceof si?(f.i=E,Br(f.i,f.l)):(A||(E=Qi(E,ve)),f.i=new si(E,f.l))}function St(f,E,A){f.i.set(E,A)}function ye(f){return St(f,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),f}function ri(f,E){return f?E?decodeURI(f.replace(/%25/g,"%2525")):decodeURIComponent(f):""}function Qi(f,E,A){return typeof f=="string"?(f=encodeURI(f).replace(E,Ce),A&&(f=f.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f):null}function Ce(f){return f=f.charCodeAt(0),"%"+(f>>4&15).toString(16)+(f&15).toString(16)}var ra=/[#\/\?@]/g,vs=/[#\?:]/g,Si=/[#\?]/g,ve=/[#\?@]/g,$i=/#/g;function si(f,E){this.h=this.g=null,this.i=f||null,this.j=!!E}function sn(f){f.g||(f.g=new Map,f.h=0,f.i&&Qt(f.i,function(E,A){f.add(decodeURIComponent(E.replace(/\+/g," ")),A)}))}r=si.prototype,r.add=function(f,E){sn(this),this.i=null,f=Xi(this,f);let A=this.g.get(f);return A||this.g.set(f,A=[]),A.push(E),this.h+=1,this};function sa(f,E){sn(f),E=Xi(f,E),f.g.has(E)&&(f.i=null,f.h-=f.g.get(E).length,f.g.delete(E))}function mr(f,E){return sn(f),E=Xi(f,E),f.g.has(E)}r.forEach=function(f,E){sn(this),this.g.forEach(function(A,x){A.forEach(function(X){f.call(E,X,x,this)},this)},this)};function Ts(f,E){sn(f);let A=[];if(typeof E=="string")mr(f,E)&&(A=A.concat(f.g.get(Xi(f,E))));else for(f=Array.from(f.g.values()),E=0;E<f.length;E++)A=A.concat(f[E]);return A}r.set=function(f,E){return sn(this),this.i=null,f=Xi(this,f),mr(this,f)&&(this.h-=this.g.get(f).length),this.g.set(f,[E]),this.h+=1,this},r.get=function(f,E){return f?(f=Ts(this,f),f.length>0?String(f[0]):E):E};function zr(f,E,A){sa(f,E),A.length>0&&(f.i=null,f.g.set(Xi(f,E),j(A)),f.h+=A.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const f=[],E=Array.from(this.g.keys());for(let x=0;x<E.length;x++){var A=E[x];const X=It(A);A=Ts(this,A);for(let nt=0;nt<A.length;nt++){let yt=X;A[nt]!==""&&(yt+="="+It(A[nt])),f.push(yt)}}return this.i=f.join("&")};function Es(f){const E=new si;return E.i=f.i,f.g&&(E.g=new Map(f.g),E.h=f.h),E}function Xi(f,E){return E=String(E),f.j&&(E=E.toLowerCase()),E}function Br(f,E){E&&!f.j&&(sn(f),f.i=null,f.g.forEach(function(A,x){const X=x.toLowerCase();x!=X&&(sa(this,x),zr(this,X,A))},f)),f.j=E}function Mn(f,E){const A=new Ti;if(m.Image){const x=new Image;x.onload=S(Dn,A,"TestLoadImage: loaded",!0,E,x),x.onerror=S(Dn,A,"TestLoadImage: error",!1,E,x),x.onabort=S(Dn,A,"TestLoadImage: abort",!1,E,x),x.ontimeout=S(Dn,A,"TestLoadImage: timeout",!1,E,x),m.setTimeout(function(){x.ontimeout&&x.ontimeout()},1e4),x.src=f}else E(!1)}function aa(f,E){const A=new Ti,x=new AbortController,X=setTimeout(()=>{x.abort(),Dn(A,"TestPingServer: timeout",!1,E)},1e4);fetch(f,{signal:x.signal}).then(nt=>{clearTimeout(X),nt.ok?Dn(A,"TestPingServer: ok",!0,E):Dn(A,"TestPingServer: server error",!1,E)}).catch(()=>{clearTimeout(X),Dn(A,"TestPingServer: error",!1,E)})}function Dn(f,E,A,x,X){try{X&&(X.onload=null,X.onerror=null,X.onabort=null,X.ontimeout=null),x(A)}catch{}}function jr(){this.g=new ao}function Dt(f){this.i=f.Sb||null,this.h=f.ab||!1}R(Dt,oo),Dt.prototype.g=function(){return new Tn(this.i,this.h)};function Tn(f,E){Fe.call(this),this.H=f,this.o=E,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}R(Tn,Fe),r=Tn.prototype,r.open=function(f,E){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=f,this.D=E,this.readyState=1,Kn(this)},r.send=function(f){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const E={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};f&&(E.body=f),(this.H||m).fetch(new Request(this.D,E)).then(this.Pa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,pr(this)),this.readyState=0},r.Pa=function(f){if(this.g&&(this.l=f,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=f.headers,this.readyState=2,Kn(this)),this.g&&(this.readyState=3,Kn(this),this.g)))if(this.responseType==="arraybuffer")f.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof m.ReadableStream<"u"&&"body"in f){if(this.j=f.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;he(this)}else f.text().then(this.Oa.bind(this),this.ga.bind(this))};function he(f){f.j.read().then(f.Ma.bind(f)).catch(f.ga.bind(f))}r.Ma=function(f){if(this.g){if(this.o&&f.value)this.response.push(f.value);else if(!this.o){var E=f.value?f.value:new Uint8Array(0);(E=this.B.decode(E,{stream:!f.done}))&&(this.response=this.responseText+=E)}f.done?pr(this):Kn(this),this.readyState==3&&he(this)}},r.Oa=function(f){this.g&&(this.response=this.responseText=f,pr(this))},r.Na=function(f){this.g&&(this.response=f,pr(this))},r.ga=function(){this.g&&pr(this)};function pr(f){f.readyState=4,f.l=null,f.j=null,f.B=null,Kn(f)}r.setRequestHeader=function(f,E){this.A.append(f,E)},r.getResponseHeader=function(f){return this.h&&this.h.get(f.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const f=[],E=this.h.entries();for(var A=E.next();!A.done;)A=A.value,f.push(A[0]+": "+A[1]),A=E.next();return f.join(`\r
`)};function Kn(f){f.onreadystatechange&&f.onreadystatechange.call(f)}Object.defineProperty(Tn.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(f){this.m=f?"include":"same-origin"}});function kn(f){let E="";return te(f,function(A,x){E+=x,E+=":",E+=A,E+=`\r
`}),E}function gr(f,E,A){t:{for(x in A){var x=!1;break t}x=!0}x||(A=kn(A),typeof f=="string"?A!=null&&It(A):St(f,E,A))}function ee(f){Fe.call(this),this.headers=new Map,this.L=f||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}R(ee,Fe);var ai=/^https?$/i,_r=["POST","PUT"];r=ee.prototype,r.Fa=function(f){this.H=f},r.ea=function(f,E,A,x){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+f);E=E?E.toUpperCase():"GET",this.D=f,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():uo.g(),this.g.onreadystatechange=N(T(this.Ca,this));try{this.B=!0,this.g.open(E,String(f),!0),this.B=!1}catch(nt){Pe(this,nt);return}if(f=A||"",A=new Map(this.headers),x)if(Object.getPrototypeOf(x)===Object.prototype)for(var X in x)A.set(X,x[X]);else if(typeof x.keys=="function"&&typeof x.get=="function")for(const nt of x.keys())A.set(nt,x.get(nt));else throw Error("Unknown input type for opt_headers: "+String(x));x=Array.from(A.keys()).find(nt=>nt.toLowerCase()=="content-type"),X=m.FormData&&f instanceof m.FormData,!(Array.prototype.indexOf.call(_r,E,void 0)>=0)||x||X||A.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[nt,yt]of A)this.g.setRequestHeader(nt,yt);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(f),this.v=!1}catch(nt){Pe(this,nt)}};function Pe(f,E){f.h=!1,f.g&&(f.j=!0,f.g.abort(),f.j=!1),f.l=E,f.o=5,Ai(f),Wi(f)}function Ai(f){f.A||(f.A=!0,Ge(f,"complete"),Ge(f,"error"))}r.abort=function(f){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=f||7,Ge(this,"complete"),Ge(this,"abort"),Wi(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Wi(this,!0)),ee.Z.N.call(this)},r.Ca=function(){this.u||(this.B||this.v||this.j?Hr(this):this.Xa())},r.Xa=function(){Hr(this)};function Hr(f){if(f.h&&typeof h<"u"){if(f.v&&Ri(f)==4)setTimeout(f.Ca.bind(f),0);else if(Ge(f,"readystatechange"),Ri(f)==4){f.h=!1;try{const nt=f.ca();t:switch(nt){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var E=!0;break t;default:E=!1}var A;if(!(A=E)){var x;if(x=nt===0){let yt=String(f.D).match(Ur)[1]||null;!yt&&m.self&&m.self.location&&(yt=m.self.location.protocol.slice(0,-1)),x=!ai.test(yt?yt.toLowerCase():"")}A=x}if(A)Ge(f,"complete"),Ge(f,"success");else{f.o=6;try{var X=Ri(f)>2?f.g.statusText:""}catch{X=""}f.l=X+" ["+f.ca()+"]",Ai(f)}}finally{Wi(f)}}}}function Wi(f,E){if(f.g){f.m&&(clearTimeout(f.m),f.m=null);const A=f.g;f.g=null,E||Ge(f,"ready");try{A.onreadystatechange=null}catch{}}}r.isActive=function(){return!!this.g};function Ri(f){return f.g?f.g.readyState:0}r.ca=function(){try{return Ri(this)>2?this.g.status:-1}catch{return-1}},r.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.La=function(f){if(this.g){var E=this.g.responseText;return f&&E.indexOf(f)==0&&(E=E.substring(f.length)),Ru(E)}};function an(f){try{if(!f.g)return null;if("response"in f.g)return f.g.response;switch(f.F){case"":case"text":return f.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in f.g)return f.g.mozResponseArrayBuffer}return null}catch{return null}}function Ci(f){const E={};f=(f.g&&Ri(f)>=2&&f.g.getAllResponseHeaders()||"").split(`\r
`);for(let x=0;x<f.length;x++){if(k(f[x]))continue;var A=co(f[x]);const X=A[0];if(A=A[1],typeof A!="string")continue;A=A.trim();const nt=E[X]||[];E[X]=nt,nt.push(A)}bt(E,function(x){return x.join(", ")})}r.ya=function(){return this.o},r.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ji(f,E,A){return A&&A.internalChannelParams&&A.internalChannelParams[f]||E}function yr(f){this.za=0,this.i=[],this.j=new Ti,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Ji("failFast",!1,f),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Ji("baseRetryDelayMs",5e3,f),this.Za=Ji("retryDelaySeedMs",1e4,f),this.Ta=Ji("forwardChannelMaxRetries",2,f),this.va=Ji("forwardChannelRequestTimeoutMs",2e4,f),this.ma=f&&f.xmlHttpFactory||void 0,this.Ua=f&&f.Rb||void 0,this.Aa=f&&f.useFetchStreams||!1,this.O=void 0,this.L=f&&f.supportsCrossDomainXhr||!1,this.M="",this.h=new ho(f&&f.concurrentRequestLimit),this.Ba=new jr,this.S=f&&f.fastHandshake||!1,this.R=f&&f.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=f&&f.Pb||!1,f&&f.ua&&this.j.ua(),f&&f.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&f&&f.detectBufferingProxy||!1,this.ia=void 0,f&&f.longPollingTimeout&&f.longPollingTimeout>0&&(this.ia=f.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}r=yr.prototype,r.ka=8,r.I=1,r.connect=function(f,E,A,x){Ue(0),this.W=f,this.H=E||{},A&&x!==void 0&&(this.H.OSID=A,this.H.OAID=x),this.F=this.X,this.J=_o(this,null,this.W),Vn(this)};function Yt(f){if(En(f),f.I==3){var E=f.V++,A=Oe(f.J);if(St(A,"SID",f.M),St(A,"RID",E),St(A,"TYPE","terminate"),vr(f,A),E=new ti(f,f.j,E),E.M=2,E.A=ye(Oe(A)),A=!1,m.navigator&&m.navigator.sendBeacon)try{A=m.navigator.sendBeacon(E.A.toString(),"")}catch{}!A&&m.Image&&(new Image().src=E.A,A=!0),A||(E.g=yo(E.j,null),E.g.ea(E.A)),E.F=Date.now(),Zi(E)}xi(f)}function qr(f){f.g&&(go(f),f.g.cancel(),f.g=null)}function En(f){qr(f),f.v&&(m.clearTimeout(f.v),f.v=null),la(f),f.h.cancel(),f.m&&(typeof f.m=="number"&&m.clearTimeout(f.m),f.m=null)}function Vn(f){if(!fo(f.h)&&!f.m){f.m=!0;var E=f.Ea;Lt||O(),kt||(Lt(),kt=!0),D.add(E,f),f.D=0}}function ws(f,E){return Yi(f.h)>=f.h.j-(f.m?1:0)?!1:f.m?(f.i=E.G.concat(f.i),!0):f.I==1||f.I==2||f.D>=(f.Sa?0:f.Ta)?!1:(f.m=Fi(T(f.Ea,f,E),yl(f,f.D)),f.D++,!0)}r.Ea=function(f){if(this.m)if(this.m=null,this.I==1){if(!f){this.V=Math.floor(Math.random()*1e5),f=this.V++;const X=new ti(this,this.j,f);let nt=this.o;if(this.U&&(nt?(nt=z(nt),gt(nt,this.U)):nt=this.U),this.u!==null||this.R||(X.J=nt,nt=null),this.S)t:{for(var E=0,A=0;A<this.i.length;A++){e:{var x=this.i[A];if("__data__"in x.map&&(x=x.map.__data__,typeof x=="string")){x=x.length;break e}x=void 0}if(x===void 0)break;if(E+=x,E>4096){E=A;break t}if(E===4096||A===this.i.length-1){E=A+1;break t}}E=1e3}else E=1e3;E=_l(this,X,E),A=Oe(this.J),St(A,"RID",f),St(A,"CVER",22),this.G&&St(A,"X-HTTP-Session-Id",this.G),vr(this,A),nt&&(this.R?E="headers="+It(kn(nt))+"&"+E:this.u&&gr(A,this.u,nt)),dr(this.h,X),this.Ra&&St(A,"TYPE","init"),this.S?(St(A,"$req",E),St(A,"SID","null"),X.U=!0,Ei(X,A,null)):Ei(X,A,E),this.I=2}}else this.I==3&&(f?mo(this,f):this.i.length==0||fo(this.h)||mo(this))};function mo(f,E){var A;E?A=E.l:A=f.V++;const x=Oe(f.J);St(x,"SID",f.M),St(x,"RID",A),St(x,"AID",f.K),vr(f,x),f.u&&f.o&&gr(x,f.u,f.o),A=new ti(f,f.j,A,f.D+1),f.u===null&&(A.J=f.o),E&&(f.i=E.G.concat(f.i)),E=_l(f,A,1e3),A.H=Math.round(f.va*.5)+Math.round(f.va*.5*Math.random()),dr(f.h,A),Ei(A,x,E)}function vr(f,E){f.H&&te(f.H,function(A,x){St(E,x,A)}),f.l&&te({},function(A,x){St(E,x,A)})}function _l(f,E,A){A=Math.min(f.i.length,A);const x=f.l?T(f.l.Ka,f.l,f):null;t:{var X=f.i;let zt=-1;for(;;){const le=["count="+A];zt==-1?A>0?(zt=X[0].g,le.push("ofs="+zt)):zt=0:le.push("ofs="+zt);let ue=!0;for(let Ie=0;Ie<A;Ie++){var nt=X[Ie].g;const oi=X[Ie].map;if(nt-=zt,nt<0)zt=Math.max(0,X[Ie].g-100),ue=!1;else try{nt="req"+nt+"_"||"";try{var yt=oi instanceof Map?oi:Object.entries(oi);for(const[li,Qn]of yt){let Ni=Qn;v(Qn)&&(Ni=hr(Qn)),le.push(nt+li+"="+encodeURIComponent(Ni))}}catch(li){throw le.push(nt+"type="+encodeURIComponent("_badmap")),li}}catch{x&&x(oi)}}if(ue){yt=le.join("&");break t}}yt=void 0}return f=f.i.splice(0,A),E.G=f,yt}function po(f){if(!f.g&&!f.v){f.Y=1;var E=f.Da;Lt||O(),kt||(Lt(),kt=!0),D.add(E,f),f.A=0}}function bs(f){return f.g||f.v||f.A>=3?!1:(f.Y++,f.v=Fi(T(f.Da,f),yl(f,f.A)),f.A++,!0)}r.Da=function(){if(this.v=null,oa(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var f=4*this.T;this.j.info("BP detection timer enabled: "+f),this.B=Fi(T(this.Wa,this),f)}},r.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Ue(10),qr(this),oa(this))};function go(f){f.B!=null&&(m.clearTimeout(f.B),f.B=null)}function oa(f){f.g=new ti(f,f.j,"rpc",f.Y),f.u===null&&(f.g.J=f.o),f.g.P=0;var E=Oe(f.na);St(E,"RID","rpc"),St(E,"SID",f.M),St(E,"AID",f.K),St(E,"CI",f.F?"0":"1"),!f.F&&f.ia&&St(E,"TO",f.ia),St(E,"TYPE","xmlhttp"),vr(f,E),f.u&&f.o&&gr(E,f.u,f.o),f.O&&(f.g.H=f.O);var A=f.g;f=f.ba,A.M=1,A.A=ye(Oe(E)),A.u=null,A.R=!0,wi(A,f)}r.Va=function(){this.C!=null&&(this.C=null,qr(this),bs(this),Ue(19))};function la(f){f.C!=null&&(m.clearTimeout(f.C),f.C=null)}function Yn(f,E){var A=null;if(f.g==E){la(f),go(f),f.g=null;var x=2}else if(ii(f.h,E))A=E.G,na(f.h,E),x=1;else return;if(f.I!=0){if(E.o)if(x==1){A=E.u?E.u.length:0,E=Date.now()-E.F;var X=f.D;x=ta(),Ge(x,new qi(x,A)),Vn(f)}else po(f);else if(X=E.m,X==3||X==0&&E.X>0||!(x==1&&ws(f,E)||x==2&&bs(f)))switch(A&&A.length>0&&(E=f.h,E.i=E.i.concat(A)),X){case 1:Ii(f,5);break;case 4:Ii(f,10);break;case 3:Ii(f,6);break;default:Ii(f,2)}}}function yl(f,E){let A=f.Qa+Math.floor(Math.random()*f.Za);return f.isActive()||(A*=2),A*E}function Ii(f,E){if(f.j.info("Error code "+E),E==2){var A=T(f.bb,f),x=f.Ua;const X=!x;x=new $t(x||"//www.google.com/images/cleardot.gif"),m.location&&m.location.protocol=="http"||Le(x,"https"),ye(x),X?Mn(x.toString(),A):aa(x.toString(),A)}else Ue(2);f.I=0,f.l&&f.l.pa(E),xi(f),En(f)}r.bb=function(f){f?(this.j.info("Successfully pinged google.com"),Ue(2)):(this.j.info("Failed to ping google.com"),Ue(1))};function xi(f){if(f.I=0,f.ja=[],f.l){const E=ia(f.h);(E.length!=0||f.i.length!=0)&&(B(f.ja,E),B(f.ja,f.i),f.h.i.length=0,j(f.i),f.i.length=0),f.l.oa()}}function _o(f,E,A){var x=A instanceof $t?Oe(A):new $t(A);if(x.g!="")E&&(x.g=E+"."+x.g),Zn(x,x.u);else{var X=m.location;x=X.protocol,E=E?E+"."+X.hostname:X.hostname,X=+X.port;const nt=new $t(null);x&&Le(nt,x),E&&(nt.g=E),X&&Zn(nt,X),A&&(nt.h=A),x=nt}return A=f.G,E=f.wa,A&&E&&St(x,A,E),St(x,"VER",f.ka),vr(f,x),x}function yo(f,E,A){if(E&&!f.L)throw Error("Can't create secondary domain capable XhrIo object.");return E=f.Aa&&!f.ma?new ee(new Dt({ab:A})):new ee(f.ma),E.Fa(f.L),E}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function ua(){}r=ua.prototype,r.ra=function(){},r.qa=function(){},r.pa=function(){},r.oa=function(){},r.isActive=function(){return!0},r.Ka=function(){};function Fr(){}Fr.prototype.g=function(f,E){return new wn(f,E)};function wn(f,E){Fe.call(this),this.g=new yr(E),this.l=f,this.h=E&&E.messageUrlParams||null,f=E&&E.messageHeaders||null,E&&E.clientProtocolHeaderRequired&&(f?f["X-Client-Protocol"]="webchannel":f={"X-Client-Protocol":"webchannel"}),this.g.o=f,f=E&&E.initMessageHeaders||null,E&&E.messageContentType&&(f?f["X-WebChannel-Content-Type"]=E.messageContentType:f={"X-WebChannel-Content-Type":E.messageContentType}),E&&E.sa&&(f?f["X-WebChannel-Client-Profile"]=E.sa:f={"X-WebChannel-Client-Profile":E.sa}),this.g.U=f,(f=E&&E.Qb)&&!k(f)&&(this.g.u=f),this.A=E&&E.supportsCrossDomainXhr||!1,this.v=E&&E.sendRawJson||!1,(E=E&&E.httpSessionIdParam)&&!k(E)&&(this.g.G=E,f=this.h,f!==null&&E in f&&(f=this.h,E in f&&delete f[E])),this.j=new Tr(this)}R(wn,Fe),wn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},wn.prototype.close=function(){Yt(this.g)},wn.prototype.o=function(f){var E=this.g;if(typeof f=="string"){var A={};A.__data__=f,f=A}else this.v&&(A={},A.__data__=hr(f),f=A);E.i.push(new Ke(E.Ya++,f)),E.I==3&&Vn(E)},wn.prototype.N=function(){this.g.l=null,delete this.j,Yt(this.g),delete this.g,wn.Z.N.call(this)};function vo(f){tn.call(this),f.__headers__&&(this.headers=f.__headers__,this.statusCode=f.__status__,delete f.__headers__,delete f.__status__);var E=f.__sm__;if(E){t:{for(const A in E){f=A;break t}f=void 0}(this.i=f)&&(f=this.i,E=E!==null&&f in E?E[f]:void 0),this.data=E}else this.data=f}R(vo,tn);function vl(){Gn.call(this),this.status=1}R(vl,Gn);function Tr(f){this.g=f}R(Tr,ua),Tr.prototype.ra=function(){Ge(this.g,"a")},Tr.prototype.qa=function(f){Ge(this.g,new vo(f))},Tr.prototype.pa=function(f){Ge(this.g,new vl)},Tr.prototype.oa=function(){Ge(this.g,"b")},Fr.prototype.createWebChannel=Fr.prototype.g,wn.prototype.send=wn.prototype.o,wn.prototype.open=wn.prototype.m,wn.prototype.close=wn.prototype.close,_w=function(){return new Fr},gw=function(){return ta()},pw=Ve,Lp={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},_s.NO_ERROR=0,_s.TIMEOUT=8,_s.HTTP_ERROR=6,yf=_s,lo.COMPLETE="complete",mw=lo,hl.EventType=Jn,Jn.OPEN="a",Jn.CLOSE="b",Jn.ERROR="c",Jn.MESSAGE="d",Fe.prototype.listen=Fe.prototype.J,pc=hl,ee.prototype.listenOnce=ee.prototype.K,ee.prototype.getLastError=ee.prototype.Ha,ee.prototype.getLastErrorCode=ee.prototype.ya,ee.prototype.getStatus=ee.prototype.ca,ee.prototype.getResponseJson=ee.prototype.La,ee.prototype.getResponseText=ee.prototype.la,ee.prototype.send=ee.prototype.ea,ee.prototype.setWithCredentials=ee.prototype.Fa,dw=ee}).apply(typeof sf<"u"?sf:typeof self<"u"?self:typeof window<"u"?window:{});const JT="@firebase/firestore",tE="4.9.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hn{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}Hn.UNAUTHENTICATED=new Hn(null),Hn.GOOGLE_CREDENTIALS=new Hn("google-credentials-uid"),Hn.FIRST_PARTY=new Hn("first-party-uid"),Hn.MOCK_USER=new Hn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Tu="12.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tl=new ag("@firebase/firestore");function Jl(){return tl.logLevel}function Rt(r,...t){if(tl.logLevel<=re.DEBUG){const n=t.map(vg);tl.debug(`Firestore (${Tu}): ${r}`,...n)}}function Qs(r,...t){if(tl.logLevel<=re.ERROR){const n=t.map(vg);tl.error(`Firestore (${Tu}): ${r}`,...n)}}function uu(r,...t){if(tl.logLevel<=re.WARN){const n=t.map(vg);tl.warn(`Firestore (${Tu}): ${r}`,...n)}}function vg(r){if(typeof r=="string")return r;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(n){return JSON.stringify(n)})(r)}catch{return r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ut(r,t,n){let s="Unexpected state";typeof t=="string"?s=t:n=t,yw(r,s,n)}function yw(r,t,n){let s=`FIRESTORE (${Tu}) INTERNAL ASSERTION FAILED: ${t} (ID: ${r.toString(16)})`;if(n!==void 0)try{s+=" CONTEXT: "+JSON.stringify(n)}catch{s+=" CONTEXT: "+n}throw Qs(s),new Error(s)}function _e(r,t,n,s){let l="Unexpected state";typeof n=="string"?l=n:s=n,r||yw(t,l,s)}function Ft(r,t){return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dt={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class At extends ds{constructor(t,n){super(t,n),this.code=t,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yo{constructor(){this.promise=new Promise(((t,n)=>{this.resolve=t,this.reject=n}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vw{constructor(t,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class Gx{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,n){t.enqueueRetryable((()=>n(Hn.UNAUTHENTICATED)))}shutdown(){}}class Zx{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,n){this.changeListener=n,t.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class Kx{constructor(t){this.t=t,this.currentUser=Hn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,n){_e(this.o===void 0,42304);let s=this.i;const l=y=>this.i!==s?(s=this.i,n(y)):Promise.resolve();let h=new Yo;this.o=()=>{this.i++,this.currentUser=this.u(),h.resolve(),h=new Yo,t.enqueueRetryable((()=>l(this.currentUser)))};const m=()=>{const y=h;t.enqueueRetryable((async()=>{await y.promise,await l(this.currentUser)}))},v=y=>{Rt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=y,this.o&&(this.auth.addAuthTokenListener(this.o),m())};this.t.onInit((y=>v(y))),setTimeout((()=>{if(!this.auth){const y=this.t.getImmediate({optional:!0});y?v(y):(Rt("FirebaseAuthCredentialsProvider","Auth not yet detected"),h.resolve(),h=new Yo)}}),0),m()}getToken(){const t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((s=>this.i!==t?(Rt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(_e(typeof s.accessToken=="string",31837,{l:s}),new vw(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return _e(t===null||typeof t=="string",2055,{h:t}),new Hn(t)}}class Yx{constructor(t,n,s){this.P=t,this.T=n,this.I=s,this.type="FirstParty",this.user=Hn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class Qx{constructor(t,n,s){this.P=t,this.T=n,this.I=s}getToken(){return Promise.resolve(new Yx(this.P,this.T,this.I))}start(t,n){t.enqueueRetryable((()=>n(Hn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class eE{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class $x{constructor(t,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,lr(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,n){_e(this.o===void 0,3512);const s=h=>{h.error!=null&&Rt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${h.error.message}`);const m=h.token!==this.m;return this.m=h.token,Rt("FirebaseAppCheckTokenProvider",`Received ${m?"new":"existing"} token.`),m?n(h.token):Promise.resolve()};this.o=h=>{t.enqueueRetryable((()=>s(h)))};const l=h=>{Rt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=h,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((h=>l(h))),setTimeout((()=>{if(!this.appCheck){const h=this.V.getImmediate({optional:!0});h?l(h):Rt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new eE(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((n=>n?(_e(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new eE(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xx(r){const t=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(r);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(n);else for(let s=0;s<r;s++)n[s]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tg{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const l=Xx(40);for(let h=0;h<l.length;++h)s.length<20&&l[h]<n&&(s+=t.charAt(l[h]%62))}return s}}function se(r,t){return r<t?-1:r>t?1:0}function Pp(r,t){const n=Math.min(r.length,t.length);for(let s=0;s<n;s++){const l=r.charAt(s),h=t.charAt(s);if(l!==h)return pp(l)===pp(h)?se(l,h):pp(l)?1:-1}return se(r.length,t.length)}const Wx=55296,Jx=57343;function pp(r){const t=r.charCodeAt(0);return t>=Wx&&t<=Jx}function cu(r,t,n){return r.length===t.length&&r.every(((s,l)=>n(s,t[l])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nE="__name__";class es{constructor(t,n,s){n===void 0?n=0:n>t.length&&Ut(637,{offset:n,range:t.length}),s===void 0?s=t.length-n:s>t.length-n&&Ut(1746,{length:s,range:t.length-n}),this.segments=t,this.offset=n,this.len=s}get length(){return this.len}isEqual(t){return es.comparator(this,t)===0}child(t){const n=this.segments.slice(this.offset,this.limit());return t instanceof es?t.forEach((s=>{n.push(s)})):n.push(t),this.construct(n)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}forEach(t){for(let n=this.offset,s=this.limit();n<s;n++)t(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,n){const s=Math.min(t.length,n.length);for(let l=0;l<s;l++){const h=es.compareSegments(t.get(l),n.get(l));if(h!==0)return h}return se(t.length,n.length)}static compareSegments(t,n){const s=es.isNumericId(t),l=es.isNumericId(n);return s&&!l?-1:!s&&l?1:s&&l?es.extractNumericId(t).compare(es.extractNumericId(n)):Pp(t,n)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return Za.fromString(t.substring(4,t.length-2))}}class Ne extends es{construct(t,n,s){return new Ne(t,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const n=[];for(const s of t){if(s.indexOf("//")>=0)throw new At(dt.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter((l=>l.length>0)))}return new Ne(n)}static emptyPath(){return new Ne([])}}const t2=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ln extends es{construct(t,n,s){return new Ln(t,n,s)}static isValidIdentifier(t){return t2.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ln.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===nE}static keyField(){return new Ln([nE])}static fromServerFormat(t){const n=[];let s="",l=0;const h=()=>{if(s.length===0)throw new At(dt.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let m=!1;for(;l<t.length;){const v=t[l];if(v==="\\"){if(l+1===t.length)throw new At(dt.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const y=t[l+1];if(y!=="\\"&&y!=="."&&y!=="`")throw new At(dt.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);s+=y,l+=2}else v==="`"?(m=!m,l++):v!=="."||m?(s+=v,l++):(h(),l++)}if(h(),m)throw new At(dt.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Ln(n)}static emptyPath(){return new Ln([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mt{constructor(t){this.path=t}static fromPath(t){return new Mt(Ne.fromString(t))}static fromName(t){return new Mt(Ne.fromString(t).popFirst(5))}static empty(){return new Mt(Ne.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&Ne.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,n){return Ne.comparator(t.path,n.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new Mt(new Ne(t.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tw(r,t,n){if(!n)throw new At(dt.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${t}.`)}function e2(r,t,n,s){if(t===!0&&s===!0)throw new At(dt.INVALID_ARGUMENT,`${r} and ${n} cannot be used together.`)}function iE(r){if(!Mt.isDocumentKey(r))throw new At(dt.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function rE(r){if(Mt.isDocumentKey(r))throw new At(dt.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function Ew(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function Wf(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const t=(function(s){return s.constructor?s.constructor.name:null})(r);return t?`a custom ${t} object`:"an object"}}return typeof r=="function"?"a function":Ut(12329,{type:typeof r})}function Ka(r,t){if("_delegate"in r&&(r=r._delegate),!(r instanceof t)){if(t.name===r.constructor.name)throw new At(dt.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Wf(r);throw new At(dt.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return r}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dn(r,t){const n={typeString:r};return t&&(n.value=t),n}function Gc(r,t){if(!Ew(r))throw new At(dt.INVALID_ARGUMENT,"JSON must be an object");let n;for(const s in t)if(t[s]){const l=t[s].typeString,h="value"in t[s]?{value:t[s].value}:void 0;if(!(s in r)){n=`JSON missing required field: '${s}'`;break}const m=r[s];if(l&&typeof m!==l){n=`JSON field '${s}' must be a ${l}.`;break}if(h!==void 0&&m!==h.value){n=`Expected '${s}' field to equal '${h.value}'`;break}}if(n)throw new At(dt.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sE=-62135596800,aE=1e6;class De{static now(){return De.fromMillis(Date.now())}static fromDate(t){return De.fromMillis(t.getTime())}static fromMillis(t){const n=Math.floor(t/1e3),s=Math.floor((t-1e3*n)*aE);return new De(n,s)}constructor(t,n){if(this.seconds=t,this.nanoseconds=n,n<0)throw new At(dt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new At(dt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<sE)throw new At(dt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new At(dt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/aE}_compareTo(t){return this.seconds===t.seconds?se(this.nanoseconds,t.nanoseconds):se(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:De._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(Gc(t,De._jsonSchema))return new De(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-sE;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}De._jsonSchemaVersion="firestore/timestamp/1.0",De._jsonSchema={type:dn("string",De._jsonSchemaVersion),seconds:dn("number"),nanoseconds:dn("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jt{static fromTimestamp(t){return new jt(t)}static min(){return new jt(new De(0,0))}static max(){return new jt(new De(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nc=-1;function n2(r,t){const n=r.toTimestamp().seconds,s=r.toTimestamp().nanoseconds+1,l=jt.fromTimestamp(s===1e9?new De(n+1,0):new De(n,s));return new $a(l,Mt.empty(),t)}function i2(r){return new $a(r.readTime,r.key,Nc)}class $a{constructor(t,n,s){this.readTime=t,this.documentKey=n,this.largestBatchId=s}static min(){return new $a(jt.min(),Mt.empty(),Nc)}static max(){return new $a(jt.max(),Mt.empty(),Nc)}}function r2(r,t){let n=r.readTime.compareTo(t.readTime);return n!==0?n:(n=Mt.comparator(r.documentKey,t.documentKey),n!==0?n:se(r.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s2="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class a2{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Eu(r){if(r.code!==dt.FAILED_PRECONDITION||r.message!==s2)throw r;Rt("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mt{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(t){return this.next(void 0,t)}next(t,n){return this.callbackAttached&&Ut(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new mt(((s,l)=>{this.nextCallback=h=>{this.wrapSuccess(t,h).next(s,l)},this.catchCallback=h=>{this.wrapFailure(n,h).next(s,l)}}))}toPromise(){return new Promise(((t,n)=>{this.next(t,n)}))}wrapUserFunction(t){try{const n=t();return n instanceof mt?n:mt.resolve(n)}catch(n){return mt.reject(n)}}wrapSuccess(t,n){return t?this.wrapUserFunction((()=>t(n))):mt.resolve(n)}wrapFailure(t,n){return t?this.wrapUserFunction((()=>t(n))):mt.reject(n)}static resolve(t){return new mt(((n,s)=>{n(t)}))}static reject(t){return new mt(((n,s)=>{s(t)}))}static waitFor(t){return new mt(((n,s)=>{let l=0,h=0,m=!1;t.forEach((v=>{++l,v.next((()=>{++h,m&&h===l&&n()}),(y=>s(y)))})),m=!0,h===l&&n()}))}static or(t){let n=mt.resolve(!1);for(const s of t)n=n.next((l=>l?mt.resolve(l):s()));return n}static forEach(t,n){const s=[];return t.forEach(((l,h)=>{s.push(n.call(this,l,h))})),this.waitFor(s)}static mapArray(t,n){return new mt(((s,l)=>{const h=t.length,m=new Array(h);let v=0;for(let y=0;y<h;y++){const T=y;n(t[T]).next((S=>{m[T]=S,++v,v===h&&s(m)}),(S=>l(S)))}}))}static doWhile(t,n){return new mt(((s,l)=>{const h=()=>{t()===!0?n().next((()=>{h()}),l):s()};h()}))}}function o2(r){const t=r.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function wu(r){return r.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jf{constructor(t,n){this.previousValue=t,n&&(n.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>n.writeSequenceNumber(s))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}Jf.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Eg=-1;function td(r){return r==null}function Mf(r){return r===0&&1/r==-1/0}function l2(r){return typeof r=="number"&&Number.isInteger(r)&&!Mf(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ww="";function u2(r){let t="";for(let n=0;n<r.length;n++)t.length>0&&(t=oE(t)),t=c2(r.get(n),t);return oE(t)}function c2(r,t){let n=t;const s=r.length;for(let l=0;l<s;l++){const h=r.charAt(l);switch(h){case"\0":n+="";break;case ww:n+="";break;default:n+=h}}return n}function oE(r){return r+ww+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lE(r){let t=0;for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&t++;return t}function io(r,t){for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&t(n,r[n])}function bw(r){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qe{constructor(t,n){this.comparator=t,this.root=n||On.EMPTY}insert(t,n){return new qe(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,On.BLACK,null,null))}remove(t){return new qe(this.comparator,this.root.remove(t,this.comparator).copy(null,null,On.BLACK,null,null))}get(t){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(t,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(t){let n=0,s=this.root;for(;!s.isEmpty();){const l=this.comparator(t,s.key);if(l===0)return n+s.left.size;l<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((n,s)=>(t(n,s),!1)))}toString(){const t=[];return this.inorderTraversal(((n,s)=>(t.push(`${n}:${s}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new af(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new af(this.root,t,this.comparator,!1)}getReverseIterator(){return new af(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new af(this.root,t,this.comparator,!0)}}class af{constructor(t,n,s,l){this.isReverse=l,this.nodeStack=[];let h=1;for(;!t.isEmpty();)if(h=n?s(t.key,n):1,n&&l&&(h*=-1),h<0)t=this.isReverse?t.left:t.right;else{if(h===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const n={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class On{constructor(t,n,s,l,h){this.key=t,this.value=n,this.color=s??On.RED,this.left=l??On.EMPTY,this.right=h??On.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,n,s,l,h){return new On(t??this.key,n??this.value,s??this.color,l??this.left,h??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,n,s){let l=this;const h=s(t,l.key);return l=h<0?l.copy(null,null,null,l.left.insert(t,n,s),null):h===0?l.copy(null,n,null,null,null):l.copy(null,null,null,null,l.right.insert(t,n,s)),l.fixUp()}removeMin(){if(this.left.isEmpty())return On.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,n){let s,l=this;if(n(t,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(t,n),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),n(t,l.key)===0){if(l.right.isEmpty())return On.EMPTY;s=l.right.min(),l=l.copy(s.key,s.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(t,n))}return l.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,On.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,On.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ut(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ut(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw Ut(27949);return t+(this.isRed()?0:1)}}On.EMPTY=null,On.RED=!0,On.BLACK=!1;On.EMPTY=new class{constructor(){this.size=0}get key(){throw Ut(57766)}get value(){throw Ut(16141)}get color(){throw Ut(16727)}get left(){throw Ut(29726)}get right(){throw Ut(36894)}copy(t,n,s,l,h){return this}insert(t,n,s){return new On(t,n)}remove(t,n){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _n{constructor(t){this.comparator=t,this.data=new qe(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((n,s)=>(t(n),!1)))}forEachInRange(t,n){const s=this.data.getIteratorFrom(t[0]);for(;s.hasNext();){const l=s.getNext();if(this.comparator(l.key,t[1])>=0)return;n(l.key)}}forEachWhile(t,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!t(s.getNext().key))return}firstAfterOrEqual(t){const n=this.data.getIteratorFrom(t);return n.hasNext()?n.getNext().key:null}getIterator(){return new uE(this.data.getIterator())}getIteratorFrom(t){return new uE(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let n=this;return n.size<t.size&&(n=t,t=this),t.forEach((s=>{n=n.add(s)})),n}isEqual(t){if(!(t instanceof _n)||this.size!==t.size)return!1;const n=this.data.getIterator(),s=t.data.getIterator();for(;n.hasNext();){const l=n.getNext().key,h=s.getNext().key;if(this.comparator(l,h)!==0)return!1}return!0}toArray(){const t=[];return this.forEach((n=>{t.push(n)})),t}toString(){const t=[];return this.forEach((n=>t.push(n))),"SortedSet("+t.toString()+")"}copy(t){const n=new _n(this.comparator);return n.data=t,n}}class uE{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ui{constructor(t){this.fields=t,t.sort(Ln.comparator)}static empty(){return new Ui([])}unionWith(t){let n=new _n(Ln.comparator);for(const s of this.fields)n=n.add(s);for(const s of t)n=n.add(s);return new Ui(n.toArray())}covers(t){for(const n of this.fields)if(n.isPrefixOf(t))return!0;return!1}isEqual(t){return cu(this.fields,t.fields,((n,s)=>n.isEqual(s)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sw extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pn{constructor(t){this.binaryString=t}static fromBase64String(t){const n=(function(l){try{return atob(l)}catch(h){throw typeof DOMException<"u"&&h instanceof DOMException?new Sw("Invalid base64 string: "+h):h}})(t);return new Pn(n)}static fromUint8Array(t){const n=(function(l){let h="";for(let m=0;m<l.length;++m)h+=String.fromCharCode(l[m]);return h})(t);return new Pn(n)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const s=new Uint8Array(n.length);for(let l=0;l<n.length;l++)s[l]=n.charCodeAt(l);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return se(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Pn.EMPTY_BYTE_STRING=new Pn("");const h2=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Xa(r){if(_e(!!r,39018),typeof r=="string"){let t=0;const n=h2.exec(r);if(_e(!!n,46558,{timestamp:r}),n[1]){let l=n[1];l=(l+"000000000").substr(0,9),t=Number(l)}const s=new Date(r);return{seconds:Math.floor(s.getTime()/1e3),nanos:t}}return{seconds:rn(r.seconds),nanos:rn(r.nanos)}}function rn(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function Wa(r){return typeof r=="string"?Pn.fromBase64String(r):Pn.fromUint8Array(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Aw="server_timestamp",Rw="__type__",Cw="__previous_value__",Iw="__local_write_time__";function wg(r){return(r?.mapValue?.fields||{})[Rw]?.stringValue===Aw}function ed(r){const t=r.mapValue.fields[Cw];return wg(t)?ed(t):t}function Oc(r){const t=Xa(r.mapValue.fields[Iw].timestampValue);return new De(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f2{constructor(t,n,s,l,h,m,v,y,T,S){this.databaseId=t,this.appId=n,this.persistenceKey=s,this.host=l,this.ssl=h,this.forceLongPolling=m,this.autoDetectLongPolling=v,this.longPollingOptions=y,this.useFetchStreams=T,this.isUsingEmulator=S}}const Df="(default)";class Lc{constructor(t,n){this.projectId=t,this.database=n||Df}static empty(){return new Lc("","")}get isDefaultDatabase(){return this.database===Df}isEqual(t){return t instanceof Lc&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xw="__type__",d2="__max__",of={mapValue:{}},Nw="__vector__",kf="value";function Ja(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?wg(r)?4:p2(r)?9007199254740991:m2(r)?10:11:Ut(28295,{value:r})}function hs(r,t){if(r===t)return!0;const n=Ja(r);if(n!==Ja(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===t.booleanValue;case 4:return Oc(r).isEqual(Oc(t));case 3:return(function(l,h){if(typeof l.timestampValue=="string"&&typeof h.timestampValue=="string"&&l.timestampValue.length===h.timestampValue.length)return l.timestampValue===h.timestampValue;const m=Xa(l.timestampValue),v=Xa(h.timestampValue);return m.seconds===v.seconds&&m.nanos===v.nanos})(r,t);case 5:return r.stringValue===t.stringValue;case 6:return(function(l,h){return Wa(l.bytesValue).isEqual(Wa(h.bytesValue))})(r,t);case 7:return r.referenceValue===t.referenceValue;case 8:return(function(l,h){return rn(l.geoPointValue.latitude)===rn(h.geoPointValue.latitude)&&rn(l.geoPointValue.longitude)===rn(h.geoPointValue.longitude)})(r,t);case 2:return(function(l,h){if("integerValue"in l&&"integerValue"in h)return rn(l.integerValue)===rn(h.integerValue);if("doubleValue"in l&&"doubleValue"in h){const m=rn(l.doubleValue),v=rn(h.doubleValue);return m===v?Mf(m)===Mf(v):isNaN(m)&&isNaN(v)}return!1})(r,t);case 9:return cu(r.arrayValue.values||[],t.arrayValue.values||[],hs);case 10:case 11:return(function(l,h){const m=l.mapValue.fields||{},v=h.mapValue.fields||{};if(lE(m)!==lE(v))return!1;for(const y in m)if(m.hasOwnProperty(y)&&(v[y]===void 0||!hs(m[y],v[y])))return!1;return!0})(r,t);default:return Ut(52216,{left:r})}}function Pc(r,t){return(r.values||[]).find((n=>hs(n,t)))!==void 0}function hu(r,t){if(r===t)return 0;const n=Ja(r),s=Ja(t);if(n!==s)return se(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return se(r.booleanValue,t.booleanValue);case 2:return(function(h,m){const v=rn(h.integerValue||h.doubleValue),y=rn(m.integerValue||m.doubleValue);return v<y?-1:v>y?1:v===y?0:isNaN(v)?isNaN(y)?0:-1:1})(r,t);case 3:return cE(r.timestampValue,t.timestampValue);case 4:return cE(Oc(r),Oc(t));case 5:return Pp(r.stringValue,t.stringValue);case 6:return(function(h,m){const v=Wa(h),y=Wa(m);return v.compareTo(y)})(r.bytesValue,t.bytesValue);case 7:return(function(h,m){const v=h.split("/"),y=m.split("/");for(let T=0;T<v.length&&T<y.length;T++){const S=se(v[T],y[T]);if(S!==0)return S}return se(v.length,y.length)})(r.referenceValue,t.referenceValue);case 8:return(function(h,m){const v=se(rn(h.latitude),rn(m.latitude));return v!==0?v:se(rn(h.longitude),rn(m.longitude))})(r.geoPointValue,t.geoPointValue);case 9:return hE(r.arrayValue,t.arrayValue);case 10:return(function(h,m){const v=h.fields||{},y=m.fields||{},T=v[kf]?.arrayValue,S=y[kf]?.arrayValue,R=se(T?.values?.length||0,S?.values?.length||0);return R!==0?R:hE(T,S)})(r.mapValue,t.mapValue);case 11:return(function(h,m){if(h===of.mapValue&&m===of.mapValue)return 0;if(h===of.mapValue)return 1;if(m===of.mapValue)return-1;const v=h.fields||{},y=Object.keys(v),T=m.fields||{},S=Object.keys(T);y.sort(),S.sort();for(let R=0;R<y.length&&R<S.length;++R){const N=Pp(y[R],S[R]);if(N!==0)return N;const j=hu(v[y[R]],T[S[R]]);if(j!==0)return j}return se(y.length,S.length)})(r.mapValue,t.mapValue);default:throw Ut(23264,{he:n})}}function cE(r,t){if(typeof r=="string"&&typeof t=="string"&&r.length===t.length)return se(r,t);const n=Xa(r),s=Xa(t),l=se(n.seconds,s.seconds);return l!==0?l:se(n.nanos,s.nanos)}function hE(r,t){const n=r.values||[],s=t.values||[];for(let l=0;l<n.length&&l<s.length;++l){const h=hu(n[l],s[l]);if(h)return h}return se(n.length,s.length)}function fu(r){return Mp(r)}function Mp(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?(function(n){const s=Xa(n);return`time(${s.seconds},${s.nanos})`})(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?(function(n){return Wa(n).toBase64()})(r.bytesValue):"referenceValue"in r?(function(n){return Mt.fromName(n).toString()})(r.referenceValue):"geoPointValue"in r?(function(n){return`geo(${n.latitude},${n.longitude})`})(r.geoPointValue):"arrayValue"in r?(function(n){let s="[",l=!0;for(const h of n.values||[])l?l=!1:s+=",",s+=Mp(h);return s+"]"})(r.arrayValue):"mapValue"in r?(function(n){const s=Object.keys(n.fields||{}).sort();let l="{",h=!0;for(const m of s)h?h=!1:l+=",",l+=`${m}:${Mp(n.fields[m])}`;return l+"}"})(r.mapValue):Ut(61005,{value:r})}function vf(r){switch(Ja(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=ed(r);return t?16+vf(t):16;case 5:return 2*r.stringValue.length;case 6:return Wa(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((l,h)=>l+vf(h)),0)})(r.arrayValue);case 10:case 11:return(function(s){let l=0;return io(s.fields,((h,m)=>{l+=h.length+vf(m)})),l})(r.mapValue);default:throw Ut(13486,{value:r})}}function fE(r,t){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${t.path.canonicalString()}`}}function Dp(r){return!!r&&"integerValue"in r}function bg(r){return!!r&&"arrayValue"in r}function dE(r){return!!r&&"nullValue"in r}function mE(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function Tf(r){return!!r&&"mapValue"in r}function m2(r){return(r?.mapValue?.fields||{})[xw]?.stringValue===Nw}function wc(r){if(r.geoPointValue)return{geoPointValue:{...r.geoPointValue}};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:{...r.timestampValue}};if(r.mapValue){const t={mapValue:{fields:{}}};return io(r.mapValue.fields,((n,s)=>t.mapValue.fields[n]=wc(s))),t}if(r.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(r.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=wc(r.arrayValue.values[n]);return t}return{...r}}function p2(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===d2}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yi{constructor(t){this.value=t}static empty(){return new yi({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let n=this.value;for(let s=0;s<t.length-1;++s)if(n=(n.mapValue.fields||{})[t.get(s)],!Tf(n))return null;return n=(n.mapValue.fields||{})[t.lastSegment()],n||null}}set(t,n){this.getFieldsMap(t.popLast())[t.lastSegment()]=wc(n)}setAll(t){let n=Ln.emptyPath(),s={},l=[];t.forEach(((m,v)=>{if(!n.isImmediateParentOf(v)){const y=this.getFieldsMap(n);this.applyChanges(y,s,l),s={},l=[],n=v.popLast()}m?s[v.lastSegment()]=wc(m):l.push(v.lastSegment())}));const h=this.getFieldsMap(n);this.applyChanges(h,s,l)}delete(t){const n=this.field(t.popLast());Tf(n)&&n.mapValue.fields&&delete n.mapValue.fields[t.lastSegment()]}isEqual(t){return hs(this.value,t.value)}getFieldsMap(t){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<t.length;++s){let l=n.mapValue.fields[t.get(s)];Tf(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},n.mapValue.fields[t.get(s)]=l),n=l}return n.mapValue.fields}applyChanges(t,n,s){io(n,((l,h)=>t[l]=h));for(const l of s)delete t[l]}clone(){return new yi(wc(this.value))}}function Ow(r){const t=[];return io(r.fields,((n,s)=>{const l=new Ln([n]);if(Tf(s)){const h=Ow(s.mapValue).fields;if(h.length===0)t.push(l);else for(const m of h)t.push(l.child(m))}else t.push(l)})),new Ui(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qn{constructor(t,n,s,l,h,m,v){this.key=t,this.documentType=n,this.version=s,this.readTime=l,this.createTime=h,this.data=m,this.documentState=v}static newInvalidDocument(t){return new qn(t,0,jt.min(),jt.min(),jt.min(),yi.empty(),0)}static newFoundDocument(t,n,s,l){return new qn(t,1,n,jt.min(),s,l,0)}static newNoDocument(t,n){return new qn(t,2,n,jt.min(),jt.min(),yi.empty(),0)}static newUnknownDocument(t,n){return new qn(t,3,n,jt.min(),jt.min(),yi.empty(),2)}convertToFoundDocument(t,n){return!this.createTime.isEqual(jt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=yi.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=yi.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=jt.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof qn&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new qn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vf{constructor(t,n){this.position=t,this.inclusive=n}}function pE(r,t,n){let s=0;for(let l=0;l<r.position.length;l++){const h=t[l],m=r.position[l];if(h.field.isKeyField()?s=Mt.comparator(Mt.fromName(m.referenceValue),n.key):s=hu(m,n.data.field(h.field)),h.dir==="desc"&&(s*=-1),s!==0)break}return s}function gE(r,t){if(r===null)return t===null;if(t===null||r.inclusive!==t.inclusive||r.position.length!==t.position.length)return!1;for(let n=0;n<r.position.length;n++)if(!hs(r.position[n],t.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mc{constructor(t,n="asc"){this.field=t,this.dir=n}}function g2(r,t){return r.dir===t.dir&&r.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lw{}class fn extends Lw{constructor(t,n,s){super(),this.field=t,this.op=n,this.value=s}static create(t,n,s){return t.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(t,n,s):new y2(t,n,s):n==="array-contains"?new E2(t,s):n==="in"?new w2(t,s):n==="not-in"?new b2(t,s):n==="array-contains-any"?new S2(t,s):new fn(t,n,s)}static createKeyFieldInFilter(t,n,s){return n==="in"?new v2(t,s):new T2(t,s)}matches(t){const n=t.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(hu(n,this.value)):n!==null&&Ja(this.value)===Ja(n)&&this.matchesComparison(hu(n,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return Ut(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Or extends Lw{constructor(t,n){super(),this.filters=t,this.op=n,this.Pe=null}static create(t,n){return new Or(t,n)}matches(t){return Pw(this)?this.filters.find((n=>!n.matches(t)))===void 0:this.filters.find((n=>n.matches(t)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((t,n)=>t.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function Pw(r){return r.op==="and"}function Mw(r){return _2(r)&&Pw(r)}function _2(r){for(const t of r.filters)if(t instanceof Or)return!1;return!0}function kp(r){if(r instanceof fn)return r.field.canonicalString()+r.op.toString()+fu(r.value);if(Mw(r))return r.filters.map((t=>kp(t))).join(",");{const t=r.filters.map((n=>kp(n))).join(",");return`${r.op}(${t})`}}function Dw(r,t){return r instanceof fn?(function(s,l){return l instanceof fn&&s.op===l.op&&s.field.isEqual(l.field)&&hs(s.value,l.value)})(r,t):r instanceof Or?(function(s,l){return l instanceof Or&&s.op===l.op&&s.filters.length===l.filters.length?s.filters.reduce(((h,m,v)=>h&&Dw(m,l.filters[v])),!0):!1})(r,t):void Ut(19439)}function kw(r){return r instanceof fn?(function(n){return`${n.field.canonicalString()} ${n.op} ${fu(n.value)}`})(r):r instanceof Or?(function(n){return n.op.toString()+" {"+n.getFilters().map(kw).join(" ,")+"}"})(r):"Filter"}class y2 extends fn{constructor(t,n,s){super(t,n,s),this.key=Mt.fromName(s.referenceValue)}matches(t){const n=Mt.comparator(t.key,this.key);return this.matchesComparison(n)}}class v2 extends fn{constructor(t,n){super(t,"in",n),this.keys=Vw("in",n)}matches(t){return this.keys.some((n=>n.isEqual(t.key)))}}class T2 extends fn{constructor(t,n){super(t,"not-in",n),this.keys=Vw("not-in",n)}matches(t){return!this.keys.some((n=>n.isEqual(t.key)))}}function Vw(r,t){return(t.arrayValue?.values||[]).map((n=>Mt.fromName(n.referenceValue)))}class E2 extends fn{constructor(t,n){super(t,"array-contains",n)}matches(t){const n=t.data.field(this.field);return bg(n)&&Pc(n.arrayValue,this.value)}}class w2 extends fn{constructor(t,n){super(t,"in",n)}matches(t){const n=t.data.field(this.field);return n!==null&&Pc(this.value.arrayValue,n)}}class b2 extends fn{constructor(t,n){super(t,"not-in",n)}matches(t){if(Pc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=t.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Pc(this.value.arrayValue,n)}}class S2 extends fn{constructor(t,n){super(t,"array-contains-any",n)}matches(t){const n=t.data.field(this.field);return!(!bg(n)||!n.arrayValue.values)&&n.arrayValue.values.some((s=>Pc(this.value.arrayValue,s)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A2{constructor(t,n=null,s=[],l=[],h=null,m=null,v=null){this.path=t,this.collectionGroup=n,this.orderBy=s,this.filters=l,this.limit=h,this.startAt=m,this.endAt=v,this.Te=null}}function _E(r,t=null,n=[],s=[],l=null,h=null,m=null){return new A2(r,t,n,s,l,h,m)}function Sg(r){const t=Ft(r);if(t.Te===null){let n=t.path.canonicalString();t.collectionGroup!==null&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map((s=>kp(s))).join(","),n+="|ob:",n+=t.orderBy.map((s=>(function(h){return h.field.canonicalString()+h.dir})(s))).join(","),td(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map((s=>fu(s))).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map((s=>fu(s))).join(",")),t.Te=n}return t.Te}function Ag(r,t){if(r.limit!==t.limit||r.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<r.orderBy.length;n++)if(!g2(r.orderBy[n],t.orderBy[n]))return!1;if(r.filters.length!==t.filters.length)return!1;for(let n=0;n<r.filters.length;n++)if(!Dw(r.filters[n],t.filters[n]))return!1;return r.collectionGroup===t.collectionGroup&&!!r.path.isEqual(t.path)&&!!gE(r.startAt,t.startAt)&&gE(r.endAt,t.endAt)}function Vp(r){return Mt.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bu{constructor(t,n=null,s=[],l=[],h=null,m="F",v=null,y=null){this.path=t,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=l,this.limit=h,this.limitType=m,this.startAt=v,this.endAt=y,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function R2(r,t,n,s,l,h,m,v){return new bu(r,t,n,s,l,h,m,v)}function Rg(r){return new bu(r)}function yE(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function Uw(r){return r.collectionGroup!==null}function bc(r){const t=Ft(r);if(t.Ie===null){t.Ie=[];const n=new Set;for(const h of t.explicitOrderBy)t.Ie.push(h),n.add(h.field.canonicalString());const s=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(m){let v=new _n(Ln.comparator);return m.filters.forEach((y=>{y.getFlattenedFilters().forEach((T=>{T.isInequality()&&(v=v.add(T.field))}))})),v})(t).forEach((h=>{n.has(h.canonicalString())||h.isKeyField()||t.Ie.push(new Mc(h,s))})),n.has(Ln.keyField().canonicalString())||t.Ie.push(new Mc(Ln.keyField(),s))}return t.Ie}function as(r){const t=Ft(r);return t.Ee||(t.Ee=C2(t,bc(r))),t.Ee}function C2(r,t){if(r.limitType==="F")return _E(r.path,r.collectionGroup,t,r.filters,r.limit,r.startAt,r.endAt);{t=t.map((l=>{const h=l.dir==="desc"?"asc":"desc";return new Mc(l.field,h)}));const n=r.endAt?new Vf(r.endAt.position,r.endAt.inclusive):null,s=r.startAt?new Vf(r.startAt.position,r.startAt.inclusive):null;return _E(r.path,r.collectionGroup,t,r.filters,r.limit,n,s)}}function Up(r,t){const n=r.filters.concat([t]);return new bu(r.path,r.collectionGroup,r.explicitOrderBy.slice(),n,r.limit,r.limitType,r.startAt,r.endAt)}function zp(r,t,n){return new bu(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),t,n,r.startAt,r.endAt)}function nd(r,t){return Ag(as(r),as(t))&&r.limitType===t.limitType}function zw(r){return`${Sg(as(r))}|lt:${r.limitType}`}function tu(r){return`Query(target=${(function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map((l=>kw(l))).join(", ")}]`),td(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map((l=>(function(m){return`${m.field.canonicalString()} (${m.dir})`})(l))).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map((l=>fu(l))).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map((l=>fu(l))).join(",")),`Target(${s})`})(as(r))}; limitType=${r.limitType})`}function id(r,t){return t.isFoundDocument()&&(function(s,l){const h=l.key.path;return s.collectionGroup!==null?l.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(h):Mt.isDocumentKey(s.path)?s.path.isEqual(h):s.path.isImmediateParentOf(h)})(r,t)&&(function(s,l){for(const h of bc(s))if(!h.field.isKeyField()&&l.data.field(h.field)===null)return!1;return!0})(r,t)&&(function(s,l){for(const h of s.filters)if(!h.matches(l))return!1;return!0})(r,t)&&(function(s,l){return!(s.startAt&&!(function(m,v,y){const T=pE(m,v,y);return m.inclusive?T<=0:T<0})(s.startAt,bc(s),l)||s.endAt&&!(function(m,v,y){const T=pE(m,v,y);return m.inclusive?T>=0:T>0})(s.endAt,bc(s),l))})(r,t)}function I2(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function Bw(r){return(t,n)=>{let s=!1;for(const l of bc(r)){const h=x2(l,t,n);if(h!==0)return h;s=s||l.field.isKeyField()}return 0}}function x2(r,t,n){const s=r.field.isKeyField()?Mt.comparator(t.key,n.key):(function(h,m,v){const y=m.data.field(h),T=v.data.field(h);return y!==null&&T!==null?hu(y,T):Ut(42886)})(r.field,t,n);switch(r.dir){case"asc":return s;case"desc":return-1*s;default:return Ut(19790,{direction:r.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class al{constructor(t,n){this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}get(t){const n=this.mapKeyFn(t),s=this.inner[n];if(s!==void 0){for(const[l,h]of s)if(this.equalsFn(l,t))return h}}has(t){return this.get(t)!==void 0}set(t,n){const s=this.mapKeyFn(t),l=this.inner[s];if(l===void 0)return this.inner[s]=[[t,n]],void this.innerSize++;for(let h=0;h<l.length;h++)if(this.equalsFn(l[h][0],t))return void(l[h]=[t,n]);l.push([t,n]),this.innerSize++}delete(t){const n=this.mapKeyFn(t),s=this.inner[n];if(s===void 0)return!1;for(let l=0;l<s.length;l++)if(this.equalsFn(s[l][0],t))return s.length===1?delete this.inner[n]:s.splice(l,1),this.innerSize--,!0;return!1}forEach(t){io(this.inner,((n,s)=>{for(const[l,h]of s)t(l,h)}))}isEmpty(){return bw(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N2=new qe(Mt.comparator);function $s(){return N2}const jw=new qe(Mt.comparator);function gc(...r){let t=jw;for(const n of r)t=t.insert(n.key,n);return t}function Hw(r){let t=jw;return r.forEach(((n,s)=>t=t.insert(n,s.overlayedDocument))),t}function Zo(){return Sc()}function qw(){return Sc()}function Sc(){return new al((r=>r.toString()),((r,t)=>r.isEqual(t)))}const O2=new qe(Mt.comparator),L2=new _n(Mt.comparator);function ae(...r){let t=L2;for(const n of r)t=t.add(n);return t}const P2=new _n(se);function M2(){return P2}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cg(r,t){if(r.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Mf(t)?"-0":t}}function Fw(r){return{integerValue:""+r}}function D2(r,t){return l2(t)?Fw(t):Cg(r,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rd{constructor(){this._=void 0}}function k2(r,t,n){return r instanceof Dc?(function(l,h){const m={fields:{[Rw]:{stringValue:Aw},[Iw]:{timestampValue:{seconds:l.seconds,nanos:l.nanoseconds}}}};return h&&wg(h)&&(h=ed(h)),h&&(m.fields[Cw]=h),{mapValue:m}})(n,t):r instanceof du?Zw(r,t):r instanceof mu?Kw(r,t):(function(l,h){const m=Gw(l,h),v=vE(m)+vE(l.Ae);return Dp(m)&&Dp(l.Ae)?Fw(v):Cg(l.serializer,v)})(r,t)}function V2(r,t,n){return r instanceof du?Zw(r,t):r instanceof mu?Kw(r,t):n}function Gw(r,t){return r instanceof Uf?(function(s){return Dp(s)||(function(h){return!!h&&"doubleValue"in h})(s)})(t)?t:{integerValue:0}:null}class Dc extends rd{}class du extends rd{constructor(t){super(),this.elements=t}}function Zw(r,t){const n=Yw(t);for(const s of r.elements)n.some((l=>hs(l,s)))||n.push(s);return{arrayValue:{values:n}}}class mu extends rd{constructor(t){super(),this.elements=t}}function Kw(r,t){let n=Yw(t);for(const s of r.elements)n=n.filter((l=>!hs(l,s)));return{arrayValue:{values:n}}}class Uf extends rd{constructor(t,n){super(),this.serializer=t,this.Ae=n}}function vE(r){return rn(r.integerValue||r.doubleValue)}function Yw(r){return bg(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ig{constructor(t,n){this.field=t,this.transform=n}}function U2(r,t){return r.field.isEqual(t.field)&&(function(s,l){return s instanceof du&&l instanceof du||s instanceof mu&&l instanceof mu?cu(s.elements,l.elements,hs):s instanceof Uf&&l instanceof Uf?hs(s.Ae,l.Ae):s instanceof Dc&&l instanceof Dc})(r.transform,t.transform)}class z2{constructor(t,n){this.version=t,this.transformResults=n}}class xr{constructor(t,n){this.updateTime=t,this.exists=n}static none(){return new xr}static exists(t){return new xr(void 0,t)}static updateTime(t){return new xr(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Ef(r,t){return r.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(r.updateTime):r.exists===void 0||r.exists===t.isFoundDocument()}class sd{}function Qw(r,t){if(!r.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return r.isNoDocument()?new xg(r.key,xr.none()):new Zc(r.key,r.data,xr.none());{const n=r.data,s=yi.empty();let l=new _n(Ln.comparator);for(let h of t.fields)if(!l.has(h)){let m=n.field(h);m===null&&h.length>1&&(h=h.popLast(),m=n.field(h)),m===null?s.delete(h):s.set(h,m),l=l.add(h)}return new ro(r.key,s,new Ui(l.toArray()),xr.none())}}function B2(r,t,n){r instanceof Zc?(function(l,h,m){const v=l.value.clone(),y=EE(l.fieldTransforms,h,m.transformResults);v.setAll(y),h.convertToFoundDocument(m.version,v).setHasCommittedMutations()})(r,t,n):r instanceof ro?(function(l,h,m){if(!Ef(l.precondition,h))return void h.convertToUnknownDocument(m.version);const v=EE(l.fieldTransforms,h,m.transformResults),y=h.data;y.setAll($w(l)),y.setAll(v),h.convertToFoundDocument(m.version,y).setHasCommittedMutations()})(r,t,n):(function(l,h,m){h.convertToNoDocument(m.version).setHasCommittedMutations()})(0,t,n)}function Ac(r,t,n,s){return r instanceof Zc?(function(h,m,v,y){if(!Ef(h.precondition,m))return v;const T=h.value.clone(),S=wE(h.fieldTransforms,y,m);return T.setAll(S),m.convertToFoundDocument(m.version,T).setHasLocalMutations(),null})(r,t,n,s):r instanceof ro?(function(h,m,v,y){if(!Ef(h.precondition,m))return v;const T=wE(h.fieldTransforms,y,m),S=m.data;return S.setAll($w(h)),S.setAll(T),m.convertToFoundDocument(m.version,S).setHasLocalMutations(),v===null?null:v.unionWith(h.fieldMask.fields).unionWith(h.fieldTransforms.map((R=>R.field)))})(r,t,n,s):(function(h,m,v){return Ef(h.precondition,m)?(m.convertToNoDocument(m.version).setHasLocalMutations(),null):v})(r,t,n)}function j2(r,t){let n=null;for(const s of r.fieldTransforms){const l=t.data.field(s.field),h=Gw(s.transform,l||null);h!=null&&(n===null&&(n=yi.empty()),n.set(s.field,h))}return n||null}function TE(r,t){return r.type===t.type&&!!r.key.isEqual(t.key)&&!!r.precondition.isEqual(t.precondition)&&!!(function(s,l){return s===void 0&&l===void 0||!(!s||!l)&&cu(s,l,((h,m)=>U2(h,m)))})(r.fieldTransforms,t.fieldTransforms)&&(r.type===0?r.value.isEqual(t.value):r.type!==1||r.data.isEqual(t.data)&&r.fieldMask.isEqual(t.fieldMask))}class Zc extends sd{constructor(t,n,s,l=[]){super(),this.key=t,this.value=n,this.precondition=s,this.fieldTransforms=l,this.type=0}getFieldMask(){return null}}class ro extends sd{constructor(t,n,s,l,h=[]){super(),this.key=t,this.data=n,this.fieldMask=s,this.precondition=l,this.fieldTransforms=h,this.type=1}getFieldMask(){return this.fieldMask}}function $w(r){const t=new Map;return r.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const s=r.data.field(n);t.set(n,s)}})),t}function EE(r,t,n){const s=new Map;_e(r.length===n.length,32656,{Re:n.length,Ve:r.length});for(let l=0;l<n.length;l++){const h=r[l],m=h.transform,v=t.data.field(h.field);s.set(h.field,V2(m,v,n[l]))}return s}function wE(r,t,n){const s=new Map;for(const l of r){const h=l.transform,m=n.data.field(l.field);s.set(l.field,k2(h,m,t))}return s}class xg extends sd{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class H2 extends sd{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q2{constructor(t,n,s,l){this.batchId=t,this.localWriteTime=n,this.baseMutations=s,this.mutations=l}applyToRemoteDocument(t,n){const s=n.mutationResults;for(let l=0;l<this.mutations.length;l++){const h=this.mutations[l];h.key.isEqual(t.key)&&B2(h,t,s[l])}}applyToLocalView(t,n){for(const s of this.baseMutations)s.key.isEqual(t.key)&&(n=Ac(s,t,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(t.key)&&(n=Ac(s,t,n,this.localWriteTime));return n}applyToLocalDocumentSet(t,n){const s=qw();return this.mutations.forEach((l=>{const h=t.get(l.key),m=h.overlayedDocument;let v=this.applyToLocalView(m,h.mutatedFields);v=n.has(l.key)?null:v;const y=Qw(m,v);y!==null&&s.set(l.key,y),m.isValidDocument()||m.convertToNoDocument(jt.min())})),s}keys(){return this.mutations.reduce(((t,n)=>t.add(n.key)),ae())}isEqual(t){return this.batchId===t.batchId&&cu(this.mutations,t.mutations,((n,s)=>TE(n,s)))&&cu(this.baseMutations,t.baseMutations,((n,s)=>TE(n,s)))}}class Ng{constructor(t,n,s,l){this.batch=t,this.commitVersion=n,this.mutationResults=s,this.docVersions=l}static from(t,n,s){_e(t.mutations.length===s.length,58842,{me:t.mutations.length,fe:s.length});let l=(function(){return O2})();const h=t.mutations;for(let m=0;m<h.length;m++)l=l.insert(h[m].key,s[m].version);return new Ng(t,n,s,l)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F2{constructor(t,n){this.largestBatchId=t,this.mutation=n}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G2{constructor(t,n){this.count=t,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var hn,ce;function Z2(r){switch(r){case dt.OK:return Ut(64938);case dt.CANCELLED:case dt.UNKNOWN:case dt.DEADLINE_EXCEEDED:case dt.RESOURCE_EXHAUSTED:case dt.INTERNAL:case dt.UNAVAILABLE:case dt.UNAUTHENTICATED:return!1;case dt.INVALID_ARGUMENT:case dt.NOT_FOUND:case dt.ALREADY_EXISTS:case dt.PERMISSION_DENIED:case dt.FAILED_PRECONDITION:case dt.ABORTED:case dt.OUT_OF_RANGE:case dt.UNIMPLEMENTED:case dt.DATA_LOSS:return!0;default:return Ut(15467,{code:r})}}function Xw(r){if(r===void 0)return Qs("GRPC error has no .code"),dt.UNKNOWN;switch(r){case hn.OK:return dt.OK;case hn.CANCELLED:return dt.CANCELLED;case hn.UNKNOWN:return dt.UNKNOWN;case hn.DEADLINE_EXCEEDED:return dt.DEADLINE_EXCEEDED;case hn.RESOURCE_EXHAUSTED:return dt.RESOURCE_EXHAUSTED;case hn.INTERNAL:return dt.INTERNAL;case hn.UNAVAILABLE:return dt.UNAVAILABLE;case hn.UNAUTHENTICATED:return dt.UNAUTHENTICATED;case hn.INVALID_ARGUMENT:return dt.INVALID_ARGUMENT;case hn.NOT_FOUND:return dt.NOT_FOUND;case hn.ALREADY_EXISTS:return dt.ALREADY_EXISTS;case hn.PERMISSION_DENIED:return dt.PERMISSION_DENIED;case hn.FAILED_PRECONDITION:return dt.FAILED_PRECONDITION;case hn.ABORTED:return dt.ABORTED;case hn.OUT_OF_RANGE:return dt.OUT_OF_RANGE;case hn.UNIMPLEMENTED:return dt.UNIMPLEMENTED;case hn.DATA_LOSS:return dt.DATA_LOSS;default:return Ut(39323,{code:r})}}(ce=hn||(hn={}))[ce.OK=0]="OK",ce[ce.CANCELLED=1]="CANCELLED",ce[ce.UNKNOWN=2]="UNKNOWN",ce[ce.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ce[ce.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ce[ce.NOT_FOUND=5]="NOT_FOUND",ce[ce.ALREADY_EXISTS=6]="ALREADY_EXISTS",ce[ce.PERMISSION_DENIED=7]="PERMISSION_DENIED",ce[ce.UNAUTHENTICATED=16]="UNAUTHENTICATED",ce[ce.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ce[ce.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ce[ce.ABORTED=10]="ABORTED",ce[ce.OUT_OF_RANGE=11]="OUT_OF_RANGE",ce[ce.UNIMPLEMENTED=12]="UNIMPLEMENTED",ce[ce.INTERNAL=13]="INTERNAL",ce[ce.UNAVAILABLE=14]="UNAVAILABLE",ce[ce.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function K2(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y2=new Za([4294967295,4294967295],0);function bE(r){const t=K2().encode(r),n=new fw;return n.update(t),new Uint8Array(n.digest())}function SE(r){const t=new DataView(r.buffer),n=t.getUint32(0,!0),s=t.getUint32(4,!0),l=t.getUint32(8,!0),h=t.getUint32(12,!0);return[new Za([n,s],0),new Za([l,h],0)]}class Og{constructor(t,n,s){if(this.bitmap=t,this.padding=n,this.hashCount=s,n<0||n>=8)throw new _c(`Invalid padding: ${n}`);if(s<0)throw new _c(`Invalid hash count: ${s}`);if(t.length>0&&this.hashCount===0)throw new _c(`Invalid hash count: ${s}`);if(t.length===0&&n!==0)throw new _c(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*t.length-n,this.pe=Za.fromNumber(this.ge)}ye(t,n,s){let l=t.add(n.multiply(Za.fromNumber(s)));return l.compare(Y2)===1&&(l=new Za([l.getBits(0),l.getBits(1)],0)),l.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const n=bE(t),[s,l]=SE(n);for(let h=0;h<this.hashCount;h++){const m=this.ye(s,l,h);if(!this.we(m))return!1}return!0}static create(t,n,s){const l=t%8==0?0:8-t%8,h=new Uint8Array(Math.ceil(t/8)),m=new Og(h,l,n);return s.forEach((v=>m.insert(v))),m}insert(t){if(this.ge===0)return;const n=bE(t),[s,l]=SE(n);for(let h=0;h<this.hashCount;h++){const m=this.ye(s,l,h);this.Se(m)}}Se(t){const n=Math.floor(t/8),s=t%8;this.bitmap[n]|=1<<s}}class _c extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ad{constructor(t,n,s,l,h){this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=l,this.resolvedLimboDocuments=h}static createSynthesizedRemoteEventForCurrentChange(t,n,s){const l=new Map;return l.set(t,Kc.createSynthesizedTargetChangeForCurrentChange(t,n,s)),new ad(jt.min(),l,new qe(se),$s(),ae())}}class Kc{constructor(t,n,s,l,h){this.resumeToken=t,this.current=n,this.addedDocuments=s,this.modifiedDocuments=l,this.removedDocuments=h}static createSynthesizedTargetChangeForCurrentChange(t,n,s){return new Kc(s,n,ae(),ae(),ae())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wf{constructor(t,n,s,l){this.be=t,this.removedTargetIds=n,this.key=s,this.De=l}}class Ww{constructor(t,n){this.targetId=t,this.Ce=n}}class Jw{constructor(t,n,s=Pn.EMPTY_BYTE_STRING,l=null){this.state=t,this.targetIds=n,this.resumeToken=s,this.cause=l}}class AE{constructor(){this.ve=0,this.Fe=RE(),this.Me=Pn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=ae(),n=ae(),s=ae();return this.Fe.forEach(((l,h)=>{switch(h){case 0:t=t.add(l);break;case 2:n=n.add(l);break;case 1:s=s.add(l);break;default:Ut(38017,{changeType:h})}})),new Kc(this.Me,this.xe,t,n,s)}qe(){this.Oe=!1,this.Fe=RE()}Qe(t,n){this.Oe=!0,this.Fe=this.Fe.insert(t,n)}$e(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}Ue(){this.ve+=1}Ke(){this.ve-=1,_e(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class Q2{constructor(t){this.Ge=t,this.ze=new Map,this.je=$s(),this.Je=lf(),this.He=lf(),this.Ye=new qe(se)}Ze(t){for(const n of t.be)t.De&&t.De.isFoundDocument()?this.Xe(n,t.De):this.et(n,t.key,t.De);for(const n of t.removedTargetIds)this.et(n,t.key,t.De)}tt(t){this.forEachTarget(t,(n=>{const s=this.nt(n);switch(t.state){case 0:this.rt(n)&&s.Le(t.resumeToken);break;case 1:s.Ke(),s.Ne||s.qe(),s.Le(t.resumeToken);break;case 2:s.Ke(),s.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(s.We(),s.Le(t.resumeToken));break;case 4:this.rt(n)&&(this.it(n),s.Le(t.resumeToken));break;default:Ut(56790,{state:t.state})}}))}forEachTarget(t,n){t.targetIds.length>0?t.targetIds.forEach(n):this.ze.forEach(((s,l)=>{this.rt(l)&&n(l)}))}st(t){const n=t.targetId,s=t.Ce.count,l=this.ot(n);if(l){const h=l.target;if(Vp(h))if(s===0){const m=new Mt(h.path);this.et(n,m,qn.newNoDocument(m,jt.min()))}else _e(s===1,20013,{expectedCount:s});else{const m=this._t(n);if(m!==s){const v=this.ut(t),y=v?this.ct(v,t,m):1;if(y!==0){this.it(n);const T=y===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,T)}}}}}ut(t){const n=t.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:l=0},hashCount:h=0}=n;let m,v;try{m=Wa(s).toUint8Array()}catch(y){if(y instanceof Sw)return uu("Decoding the base64 bloom filter in existence filter failed ("+y.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw y}try{v=new Og(m,l,h)}catch(y){return uu(y instanceof _c?"BloomFilter error: ":"Applying bloom filter failed: ",y),null}return v.ge===0?null:v}ct(t,n,s){return n.Ce.count===s-this.Pt(t,n.targetId)?0:2}Pt(t,n){const s=this.Ge.getRemoteKeysForTarget(n);let l=0;return s.forEach((h=>{const m=this.Ge.ht(),v=`projects/${m.projectId}/databases/${m.database}/documents/${h.path.canonicalString()}`;t.mightContain(v)||(this.et(n,h,null),l++)})),l}Tt(t){const n=new Map;this.ze.forEach(((h,m)=>{const v=this.ot(m);if(v){if(h.current&&Vp(v.target)){const y=new Mt(v.target.path);this.It(y).has(m)||this.Et(m,y)||this.et(m,y,qn.newNoDocument(y,t))}h.Be&&(n.set(m,h.ke()),h.qe())}}));let s=ae();this.He.forEach(((h,m)=>{let v=!0;m.forEachWhile((y=>{const T=this.ot(y);return!T||T.purpose==="TargetPurposeLimboResolution"||(v=!1,!1)})),v&&(s=s.add(h))})),this.je.forEach(((h,m)=>m.setReadTime(t)));const l=new ad(t,n,this.Ye,this.je,s);return this.je=$s(),this.Je=lf(),this.He=lf(),this.Ye=new qe(se),l}Xe(t,n){if(!this.rt(t))return;const s=this.Et(t,n.key)?2:0;this.nt(t).Qe(n.key,s),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(t)),this.He=this.He.insert(n.key,this.dt(n.key).add(t))}et(t,n,s){if(!this.rt(t))return;const l=this.nt(t);this.Et(t,n)?l.Qe(n,1):l.$e(n),this.He=this.He.insert(n,this.dt(n).delete(t)),this.He=this.He.insert(n,this.dt(n).add(t)),s&&(this.je=this.je.insert(n,s))}removeTarget(t){this.ze.delete(t)}_t(t){const n=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+n.addedDocuments.size-n.removedDocuments.size}Ue(t){this.nt(t).Ue()}nt(t){let n=this.ze.get(t);return n||(n=new AE,this.ze.set(t,n)),n}dt(t){let n=this.He.get(t);return n||(n=new _n(se),this.He=this.He.insert(t,n)),n}It(t){let n=this.Je.get(t);return n||(n=new _n(se),this.Je=this.Je.insert(t,n)),n}rt(t){const n=this.ot(t)!==null;return n||Rt("WatchChangeAggregator","Detected inactive target",t),n}ot(t){const n=this.ze.get(t);return n&&n.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new AE),this.Ge.getRemoteKeysForTarget(t).forEach((n=>{this.et(t,n,null)}))}Et(t,n){return this.Ge.getRemoteKeysForTarget(t).has(n)}}function lf(){return new qe(Mt.comparator)}function RE(){return new qe(Mt.comparator)}const $2={asc:"ASCENDING",desc:"DESCENDING"},X2={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},W2={and:"AND",or:"OR"};class J2{constructor(t,n){this.databaseId=t,this.useProto3Json=n}}function Bp(r,t){return r.useProto3Json||td(t)?t:{value:t}}function zf(r,t){return r.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function tb(r,t){return r.useProto3Json?t.toBase64():t.toUint8Array()}function tN(r,t){return zf(r,t.toTimestamp())}function os(r){return _e(!!r,49232),jt.fromTimestamp((function(n){const s=Xa(n);return new De(s.seconds,s.nanos)})(r))}function Lg(r,t){return jp(r,t).canonicalString()}function jp(r,t){const n=(function(l){return new Ne(["projects",l.projectId,"databases",l.database])})(r).child("documents");return t===void 0?n:n.child(t)}function eb(r){const t=Ne.fromString(r);return _e(ab(t),10190,{key:t.toString()}),t}function Hp(r,t){return Lg(r.databaseId,t.path)}function gp(r,t){const n=eb(t);if(n.get(1)!==r.databaseId.projectId)throw new At(dt.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+r.databaseId.projectId);if(n.get(3)!==r.databaseId.database)throw new At(dt.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+r.databaseId.database);return new Mt(ib(n))}function nb(r,t){return Lg(r.databaseId,t)}function eN(r){const t=eb(r);return t.length===4?Ne.emptyPath():ib(t)}function qp(r){return new Ne(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function ib(r){return _e(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function CE(r,t,n){return{name:Hp(r,t),fields:n.value.mapValue.fields}}function nN(r,t){let n;if("targetChange"in t){t.targetChange;const s=(function(T){return T==="NO_CHANGE"?0:T==="ADD"?1:T==="REMOVE"?2:T==="CURRENT"?3:T==="RESET"?4:Ut(39313,{state:T})})(t.targetChange.targetChangeType||"NO_CHANGE"),l=t.targetChange.targetIds||[],h=(function(T,S){return T.useProto3Json?(_e(S===void 0||typeof S=="string",58123),Pn.fromBase64String(S||"")):(_e(S===void 0||S instanceof Buffer||S instanceof Uint8Array,16193),Pn.fromUint8Array(S||new Uint8Array))})(r,t.targetChange.resumeToken),m=t.targetChange.cause,v=m&&(function(T){const S=T.code===void 0?dt.UNKNOWN:Xw(T.code);return new At(S,T.message||"")})(m);n=new Jw(s,l,h,v||null)}else if("documentChange"in t){t.documentChange;const s=t.documentChange;s.document,s.document.name,s.document.updateTime;const l=gp(r,s.document.name),h=os(s.document.updateTime),m=s.document.createTime?os(s.document.createTime):jt.min(),v=new yi({mapValue:{fields:s.document.fields}}),y=qn.newFoundDocument(l,h,m,v),T=s.targetIds||[],S=s.removedTargetIds||[];n=new wf(T,S,y.key,y)}else if("documentDelete"in t){t.documentDelete;const s=t.documentDelete;s.document;const l=gp(r,s.document),h=s.readTime?os(s.readTime):jt.min(),m=qn.newNoDocument(l,h),v=s.removedTargetIds||[];n=new wf([],v,m.key,m)}else if("documentRemove"in t){t.documentRemove;const s=t.documentRemove;s.document;const l=gp(r,s.document),h=s.removedTargetIds||[];n=new wf([],h,l,null)}else{if(!("filter"in t))return Ut(11601,{Rt:t});{t.filter;const s=t.filter;s.targetId;const{count:l=0,unchangedNames:h}=s,m=new G2(l,h),v=s.targetId;n=new Ww(v,m)}}return n}function iN(r,t){let n;if(t instanceof Zc)n={update:CE(r,t.key,t.value)};else if(t instanceof xg)n={delete:Hp(r,t.key)};else if(t instanceof ro)n={update:CE(r,t.key,t.data),updateMask:fN(t.fieldMask)};else{if(!(t instanceof H2))return Ut(16599,{Vt:t.type});n={verify:Hp(r,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((s=>(function(h,m){const v=m.transform;if(v instanceof Dc)return{fieldPath:m.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(v instanceof du)return{fieldPath:m.field.canonicalString(),appendMissingElements:{values:v.elements}};if(v instanceof mu)return{fieldPath:m.field.canonicalString(),removeAllFromArray:{values:v.elements}};if(v instanceof Uf)return{fieldPath:m.field.canonicalString(),increment:v.Ae};throw Ut(20930,{transform:m.transform})})(0,s)))),t.precondition.isNone||(n.currentDocument=(function(l,h){return h.updateTime!==void 0?{updateTime:tN(l,h.updateTime)}:h.exists!==void 0?{exists:h.exists}:Ut(27497)})(r,t.precondition)),n}function rN(r,t){return r&&r.length>0?(_e(t!==void 0,14353),r.map((n=>(function(l,h){let m=l.updateTime?os(l.updateTime):os(h);return m.isEqual(jt.min())&&(m=os(h)),new z2(m,l.transformResults||[])})(n,t)))):[]}function sN(r,t){return{documents:[nb(r,t.path)]}}function aN(r,t){const n={structuredQuery:{}},s=t.path;let l;t.collectionGroup!==null?(l=s,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(l=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=nb(r,l);const h=(function(T){if(T.length!==0)return sb(Or.create(T,"and"))})(t.filters);h&&(n.structuredQuery.where=h);const m=(function(T){if(T.length!==0)return T.map((S=>(function(N){return{field:eu(N.field),direction:uN(N.dir)}})(S)))})(t.orderBy);m&&(n.structuredQuery.orderBy=m);const v=Bp(r,t.limit);return v!==null&&(n.structuredQuery.limit=v),t.startAt&&(n.structuredQuery.startAt=(function(T){return{before:T.inclusive,values:T.position}})(t.startAt)),t.endAt&&(n.structuredQuery.endAt=(function(T){return{before:!T.inclusive,values:T.position}})(t.endAt)),{ft:n,parent:l}}function oN(r){let t=eN(r.parent);const n=r.structuredQuery,s=n.from?n.from.length:0;let l=null;if(s>0){_e(s===1,65062);const S=n.from[0];S.allDescendants?l=S.collectionId:t=t.child(S.collectionId)}let h=[];n.where&&(h=(function(R){const N=rb(R);return N instanceof Or&&Mw(N)?N.getFilters():[N]})(n.where));let m=[];n.orderBy&&(m=(function(R){return R.map((N=>(function(B){return new Mc(nu(B.field),(function(G){switch(G){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(B.direction))})(N)))})(n.orderBy));let v=null;n.limit&&(v=(function(R){let N;return N=typeof R=="object"?R.value:R,td(N)?null:N})(n.limit));let y=null;n.startAt&&(y=(function(R){const N=!!R.before,j=R.values||[];return new Vf(j,N)})(n.startAt));let T=null;return n.endAt&&(T=(function(R){const N=!R.before,j=R.values||[];return new Vf(j,N)})(n.endAt)),R2(t,l,m,h,v,"F",y,T)}function lN(r,t){const n=(function(l){switch(l){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ut(28987,{purpose:l})}})(t.purpose);return n==null?null:{"goog-listen-tags":n}}function rb(r){return r.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=nu(n.unaryFilter.field);return fn.create(s,"==",{doubleValue:NaN});case"IS_NULL":const l=nu(n.unaryFilter.field);return fn.create(l,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const h=nu(n.unaryFilter.field);return fn.create(h,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const m=nu(n.unaryFilter.field);return fn.create(m,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ut(61313);default:return Ut(60726)}})(r):r.fieldFilter!==void 0?(function(n){return fn.create(nu(n.fieldFilter.field),(function(l){switch(l){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ut(58110);default:return Ut(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(r):r.compositeFilter!==void 0?(function(n){return Or.create(n.compositeFilter.filters.map((s=>rb(s))),(function(l){switch(l){case"AND":return"and";case"OR":return"or";default:return Ut(1026)}})(n.compositeFilter.op))})(r):Ut(30097,{filter:r})}function uN(r){return $2[r]}function cN(r){return X2[r]}function hN(r){return W2[r]}function eu(r){return{fieldPath:r.canonicalString()}}function nu(r){return Ln.fromServerFormat(r.fieldPath)}function sb(r){return r instanceof fn?(function(n){if(n.op==="=="){if(mE(n.value))return{unaryFilter:{field:eu(n.field),op:"IS_NAN"}};if(dE(n.value))return{unaryFilter:{field:eu(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(mE(n.value))return{unaryFilter:{field:eu(n.field),op:"IS_NOT_NAN"}};if(dE(n.value))return{unaryFilter:{field:eu(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:eu(n.field),op:cN(n.op),value:n.value}}})(r):r instanceof Or?(function(n){const s=n.getFilters().map((l=>sb(l)));return s.length===1?s[0]:{compositeFilter:{op:hN(n.op),filters:s}}})(r):Ut(54877,{filter:r})}function fN(r){const t=[];return r.fields.forEach((n=>t.push(n.canonicalString()))),{fieldPaths:t}}function ab(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qa{constructor(t,n,s,l,h=jt.min(),m=jt.min(),v=Pn.EMPTY_BYTE_STRING,y=null){this.target=t,this.targetId=n,this.purpose=s,this.sequenceNumber=l,this.snapshotVersion=h,this.lastLimboFreeSnapshotVersion=m,this.resumeToken=v,this.expectedCount=y}withSequenceNumber(t){return new qa(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,n){return new qa(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new qa(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new qa(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dN{constructor(t){this.yt=t}}function mN(r){const t=oN({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?zp(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pN{constructor(){this.Cn=new gN}addToCollectionParentIndex(t,n){return this.Cn.add(n),mt.resolve()}getCollectionParents(t,n){return mt.resolve(this.Cn.getEntries(n))}addFieldIndex(t,n){return mt.resolve()}deleteFieldIndex(t,n){return mt.resolve()}deleteAllFieldIndexes(t){return mt.resolve()}createTargetIndexes(t,n){return mt.resolve()}getDocumentsMatchingTarget(t,n){return mt.resolve(null)}getIndexType(t,n){return mt.resolve(0)}getFieldIndexes(t,n){return mt.resolve([])}getNextCollectionGroupToUpdate(t){return mt.resolve(null)}getMinOffset(t,n){return mt.resolve($a.min())}getMinOffsetFromCollectionGroup(t,n){return mt.resolve($a.min())}updateCollectionGroup(t,n,s){return mt.resolve()}updateIndexEntries(t,n){return mt.resolve()}}class gN{constructor(){this.index={}}add(t){const n=t.lastSegment(),s=t.popLast(),l=this.index[n]||new _n(Ne.comparator),h=!l.has(s);return this.index[n]=l.add(s),h}has(t){const n=t.lastSegment(),s=t.popLast(),l=this.index[n];return l&&l.has(s)}getEntries(t){return(this.index[t]||new _n(Ne.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IE={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},ob=41943040;class _i{static withCacheSize(t){return new _i(t,_i.DEFAULT_COLLECTION_PERCENTILE,_i.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,n,s){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */_i.DEFAULT_COLLECTION_PERCENTILE=10,_i.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,_i.DEFAULT=new _i(ob,_i.DEFAULT_COLLECTION_PERCENTILE,_i.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),_i.DISABLED=new _i(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pu{constructor(t){this.ar=t}next(){return this.ar+=2,this.ar}static ur(){return new pu(0)}static cr(){return new pu(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xE="LruGarbageCollector",_N=1048576;function NE([r,t],[n,s]){const l=se(r,n);return l===0?se(t,s):l}class yN{constructor(t){this.Ir=t,this.buffer=new _n(NE),this.Er=0}dr(){return++this.Er}Ar(t){const n=[t,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();NE(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class vN{constructor(t,n,s){this.garbageCollector=t,this.asyncQueue=n,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(t){Rt(xE,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){wu(n)?Rt(xE,"Ignoring IndexedDB error during garbage collection: ",n):await Eu(n)}await this.Vr(3e5)}))}}class TN{constructor(t,n){this.mr=t,this.params=n}calculateTargetCount(t,n){return this.mr.gr(t).next((s=>Math.floor(n/100*s)))}nthSequenceNumber(t,n){if(n===0)return mt.resolve(Jf.ce);const s=new yN(n);return this.mr.forEachTarget(t,(l=>s.Ar(l.sequenceNumber))).next((()=>this.mr.pr(t,(l=>s.Ar(l))))).next((()=>s.maxValue))}removeTargets(t,n,s){return this.mr.removeTargets(t,n,s)}removeOrphanedDocuments(t,n){return this.mr.removeOrphanedDocuments(t,n)}collect(t,n){return this.params.cacheSizeCollectionThreshold===-1?(Rt("LruGarbageCollector","Garbage collection skipped; disabled"),mt.resolve(IE)):this.getCacheSize(t).next((s=>s<this.params.cacheSizeCollectionThreshold?(Rt("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),IE):this.yr(t,n)))}getCacheSize(t){return this.mr.getCacheSize(t)}yr(t,n){let s,l,h,m,v,y,T;const S=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((R=>(R>this.params.maximumSequenceNumbersToCollect?(Rt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${R}`),l=this.params.maximumSequenceNumbersToCollect):l=R,m=Date.now(),this.nthSequenceNumber(t,l)))).next((R=>(s=R,v=Date.now(),this.removeTargets(t,s,n)))).next((R=>(h=R,y=Date.now(),this.removeOrphanedDocuments(t,s)))).next((R=>(T=Date.now(),Jl()<=re.DEBUG&&Rt("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${m-S}ms
	Determined least recently used ${l} in `+(v-m)+`ms
	Removed ${h} targets in `+(y-v)+`ms
	Removed ${R} documents in `+(T-y)+`ms
Total Duration: ${T-S}ms`),mt.resolve({didRun:!0,sequenceNumbersCollected:l,targetsRemoved:h,documentsRemoved:R}))))}}function EN(r,t){return new TN(r,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wN{constructor(){this.changes=new al((t=>t.toString()),((t,n)=>t.isEqual(n))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,n){this.assertNotApplied(),this.changes.set(t,qn.newInvalidDocument(t).setReadTime(n))}getEntry(t,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?mt.resolve(s):this.getFromCache(t,n)}getEntries(t,n){return this.getAllFromCache(t,n)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bN{constructor(t,n){this.overlayedDocument=t,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SN{constructor(t,n,s,l){this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=l}getDocument(t,n){let s=null;return this.documentOverlayCache.getOverlay(t,n).next((l=>(s=l,this.remoteDocumentCache.getEntry(t,n)))).next((l=>(s!==null&&Ac(s.mutation,l,Ui.empty(),De.now()),l)))}getDocuments(t,n){return this.remoteDocumentCache.getEntries(t,n).next((s=>this.getLocalViewOfDocuments(t,s,ae()).next((()=>s))))}getLocalViewOfDocuments(t,n,s=ae()){const l=Zo();return this.populateOverlays(t,l,n).next((()=>this.computeViews(t,n,l,s).next((h=>{let m=gc();return h.forEach(((v,y)=>{m=m.insert(v,y.overlayedDocument)})),m}))))}getOverlayedDocuments(t,n){const s=Zo();return this.populateOverlays(t,s,n).next((()=>this.computeViews(t,n,s,ae())))}populateOverlays(t,n,s){const l=[];return s.forEach((h=>{n.has(h)||l.push(h)})),this.documentOverlayCache.getOverlays(t,l).next((h=>{h.forEach(((m,v)=>{n.set(m,v)}))}))}computeViews(t,n,s,l){let h=$s();const m=Sc(),v=(function(){return Sc()})();return n.forEach(((y,T)=>{const S=s.get(T.key);l.has(T.key)&&(S===void 0||S.mutation instanceof ro)?h=h.insert(T.key,T):S!==void 0?(m.set(T.key,S.mutation.getFieldMask()),Ac(S.mutation,T,S.mutation.getFieldMask(),De.now())):m.set(T.key,Ui.empty())})),this.recalculateAndSaveOverlays(t,h).next((y=>(y.forEach(((T,S)=>m.set(T,S))),n.forEach(((T,S)=>v.set(T,new bN(S,m.get(T)??null)))),v)))}recalculateAndSaveOverlays(t,n){const s=Sc();let l=new qe(((m,v)=>m-v)),h=ae();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,n).next((m=>{for(const v of m)v.keys().forEach((y=>{const T=n.get(y);if(T===null)return;let S=s.get(y)||Ui.empty();S=v.applyToLocalView(T,S),s.set(y,S);const R=(l.get(v.batchId)||ae()).add(y);l=l.insert(v.batchId,R)}))})).next((()=>{const m=[],v=l.getReverseIterator();for(;v.hasNext();){const y=v.getNext(),T=y.key,S=y.value,R=qw();S.forEach((N=>{if(!h.has(N)){const j=Qw(n.get(N),s.get(N));j!==null&&R.set(N,j),h=h.add(N)}})),m.push(this.documentOverlayCache.saveOverlays(t,T,R))}return mt.waitFor(m)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(t,n){return this.remoteDocumentCache.getEntries(t,n).next((s=>this.recalculateAndSaveOverlays(t,s)))}getDocumentsMatchingQuery(t,n,s,l){return(function(m){return Mt.isDocumentKey(m.path)&&m.collectionGroup===null&&m.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(t,n.path):Uw(n)?this.getDocumentsMatchingCollectionGroupQuery(t,n,s,l):this.getDocumentsMatchingCollectionQuery(t,n,s,l)}getNextDocuments(t,n,s,l){return this.remoteDocumentCache.getAllFromCollectionGroup(t,n,s,l).next((h=>{const m=l-h.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,n,s.largestBatchId,l-h.size):mt.resolve(Zo());let v=Nc,y=h;return m.next((T=>mt.forEach(T,((S,R)=>(v<R.largestBatchId&&(v=R.largestBatchId),h.get(S)?mt.resolve():this.remoteDocumentCache.getEntry(t,S).next((N=>{y=y.insert(S,N)}))))).next((()=>this.populateOverlays(t,T,h))).next((()=>this.computeViews(t,y,T,ae()))).next((S=>({batchId:v,changes:Hw(S)})))))}))}getDocumentsMatchingDocumentQuery(t,n){return this.getDocument(t,new Mt(n)).next((s=>{let l=gc();return s.isFoundDocument()&&(l=l.insert(s.key,s)),l}))}getDocumentsMatchingCollectionGroupQuery(t,n,s,l){const h=n.collectionGroup;let m=gc();return this.indexManager.getCollectionParents(t,h).next((v=>mt.forEach(v,(y=>{const T=(function(R,N){return new bu(N,null,R.explicitOrderBy.slice(),R.filters.slice(),R.limit,R.limitType,R.startAt,R.endAt)})(n,y.child(h));return this.getDocumentsMatchingCollectionQuery(t,T,s,l).next((S=>{S.forEach(((R,N)=>{m=m.insert(R,N)}))}))})).next((()=>m))))}getDocumentsMatchingCollectionQuery(t,n,s,l){let h;return this.documentOverlayCache.getOverlaysForCollection(t,n.path,s.largestBatchId).next((m=>(h=m,this.remoteDocumentCache.getDocumentsMatchingQuery(t,n,s,h,l)))).next((m=>{h.forEach(((y,T)=>{const S=T.getKey();m.get(S)===null&&(m=m.insert(S,qn.newInvalidDocument(S)))}));let v=gc();return m.forEach(((y,T)=>{const S=h.get(y);S!==void 0&&Ac(S.mutation,T,Ui.empty(),De.now()),id(n,T)&&(v=v.insert(y,T))})),v}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AN{constructor(t){this.serializer=t,this.Lr=new Map,this.kr=new Map}getBundleMetadata(t,n){return mt.resolve(this.Lr.get(n))}saveBundleMetadata(t,n){return this.Lr.set(n.id,(function(l){return{id:l.id,version:l.version,createTime:os(l.createTime)}})(n)),mt.resolve()}getNamedQuery(t,n){return mt.resolve(this.kr.get(n))}saveNamedQuery(t,n){return this.kr.set(n.name,(function(l){return{name:l.name,query:mN(l.bundledQuery),readTime:os(l.readTime)}})(n)),mt.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RN{constructor(){this.overlays=new qe(Mt.comparator),this.qr=new Map}getOverlay(t,n){return mt.resolve(this.overlays.get(n))}getOverlays(t,n){const s=Zo();return mt.forEach(n,(l=>this.getOverlay(t,l).next((h=>{h!==null&&s.set(l,h)})))).next((()=>s))}saveOverlays(t,n,s){return s.forEach(((l,h)=>{this.St(t,n,h)})),mt.resolve()}removeOverlaysForBatchId(t,n,s){const l=this.qr.get(s);return l!==void 0&&(l.forEach((h=>this.overlays=this.overlays.remove(h))),this.qr.delete(s)),mt.resolve()}getOverlaysForCollection(t,n,s){const l=Zo(),h=n.length+1,m=new Mt(n.child("")),v=this.overlays.getIteratorFrom(m);for(;v.hasNext();){const y=v.getNext().value,T=y.getKey();if(!n.isPrefixOf(T.path))break;T.path.length===h&&y.largestBatchId>s&&l.set(y.getKey(),y)}return mt.resolve(l)}getOverlaysForCollectionGroup(t,n,s,l){let h=new qe(((T,S)=>T-S));const m=this.overlays.getIterator();for(;m.hasNext();){const T=m.getNext().value;if(T.getKey().getCollectionGroup()===n&&T.largestBatchId>s){let S=h.get(T.largestBatchId);S===null&&(S=Zo(),h=h.insert(T.largestBatchId,S)),S.set(T.getKey(),T)}}const v=Zo(),y=h.getIterator();for(;y.hasNext()&&(y.getNext().value.forEach(((T,S)=>v.set(T,S))),!(v.size()>=l)););return mt.resolve(v)}St(t,n,s){const l=this.overlays.get(s.key);if(l!==null){const m=this.qr.get(l.largestBatchId).delete(s.key);this.qr.set(l.largestBatchId,m)}this.overlays=this.overlays.insert(s.key,new F2(n,s));let h=this.qr.get(n);h===void 0&&(h=ae(),this.qr.set(n,h)),this.qr.set(n,h.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CN{constructor(){this.sessionToken=Pn.EMPTY_BYTE_STRING}getSessionToken(t){return mt.resolve(this.sessionToken)}setSessionToken(t,n){return this.sessionToken=n,mt.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pg{constructor(){this.Qr=new _n(Rn.$r),this.Ur=new _n(Rn.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(t,n){const s=new Rn(t,n);this.Qr=this.Qr.add(s),this.Ur=this.Ur.add(s)}Wr(t,n){t.forEach((s=>this.addReference(s,n)))}removeReference(t,n){this.Gr(new Rn(t,n))}zr(t,n){t.forEach((s=>this.removeReference(s,n)))}jr(t){const n=new Mt(new Ne([])),s=new Rn(n,t),l=new Rn(n,t+1),h=[];return this.Ur.forEachInRange([s,l],(m=>{this.Gr(m),h.push(m.key)})),h}Jr(){this.Qr.forEach((t=>this.Gr(t)))}Gr(t){this.Qr=this.Qr.delete(t),this.Ur=this.Ur.delete(t)}Hr(t){const n=new Mt(new Ne([])),s=new Rn(n,t),l=new Rn(n,t+1);let h=ae();return this.Ur.forEachInRange([s,l],(m=>{h=h.add(m.key)})),h}containsKey(t){const n=new Rn(t,0),s=this.Qr.firstAfterOrEqual(n);return s!==null&&t.isEqual(s.key)}}class Rn{constructor(t,n){this.key=t,this.Yr=n}static $r(t,n){return Mt.comparator(t.key,n.key)||se(t.Yr,n.Yr)}static Kr(t,n){return se(t.Yr,n.Yr)||Mt.comparator(t.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IN{constructor(t,n){this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new _n(Rn.$r)}checkEmpty(t){return mt.resolve(this.mutationQueue.length===0)}addMutationBatch(t,n,s,l){const h=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const m=new q2(h,n,s,l);this.mutationQueue.push(m);for(const v of l)this.Zr=this.Zr.add(new Rn(v.key,h)),this.indexManager.addToCollectionParentIndex(t,v.key.path.popLast());return mt.resolve(m)}lookupMutationBatch(t,n){return mt.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(t,n){const s=n+1,l=this.ei(s),h=l<0?0:l;return mt.resolve(this.mutationQueue.length>h?this.mutationQueue[h]:null)}getHighestUnacknowledgedBatchId(){return mt.resolve(this.mutationQueue.length===0?Eg:this.tr-1)}getAllMutationBatches(t){return mt.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,n){const s=new Rn(n,0),l=new Rn(n,Number.POSITIVE_INFINITY),h=[];return this.Zr.forEachInRange([s,l],(m=>{const v=this.Xr(m.Yr);h.push(v)})),mt.resolve(h)}getAllMutationBatchesAffectingDocumentKeys(t,n){let s=new _n(se);return n.forEach((l=>{const h=new Rn(l,0),m=new Rn(l,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([h,m],(v=>{s=s.add(v.Yr)}))})),mt.resolve(this.ti(s))}getAllMutationBatchesAffectingQuery(t,n){const s=n.path,l=s.length+1;let h=s;Mt.isDocumentKey(h)||(h=h.child(""));const m=new Rn(new Mt(h),0);let v=new _n(se);return this.Zr.forEachWhile((y=>{const T=y.key.path;return!!s.isPrefixOf(T)&&(T.length===l&&(v=v.add(y.Yr)),!0)}),m),mt.resolve(this.ti(v))}ti(t){const n=[];return t.forEach((s=>{const l=this.Xr(s);l!==null&&n.push(l)})),n}removeMutationBatch(t,n){_e(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Zr;return mt.forEach(n.mutations,(l=>{const h=new Rn(l.key,n.batchId);return s=s.delete(h),this.referenceDelegate.markPotentiallyOrphaned(t,l.key)})).next((()=>{this.Zr=s}))}ir(t){}containsKey(t,n){const s=new Rn(n,0),l=this.Zr.firstAfterOrEqual(s);return mt.resolve(n.isEqual(l&&l.key))}performConsistencyCheck(t){return this.mutationQueue.length,mt.resolve()}ni(t,n){return this.ei(t)}ei(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Xr(t){const n=this.ei(t);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xN{constructor(t){this.ri=t,this.docs=(function(){return new qe(Mt.comparator)})(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,n){const s=n.key,l=this.docs.get(s),h=l?l.size:0,m=this.ri(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:m}),this.size+=m-h,this.indexManager.addToCollectionParentIndex(t,s.path.popLast())}removeEntry(t){const n=this.docs.get(t);n&&(this.docs=this.docs.remove(t),this.size-=n.size)}getEntry(t,n){const s=this.docs.get(n);return mt.resolve(s?s.document.mutableCopy():qn.newInvalidDocument(n))}getEntries(t,n){let s=$s();return n.forEach((l=>{const h=this.docs.get(l);s=s.insert(l,h?h.document.mutableCopy():qn.newInvalidDocument(l))})),mt.resolve(s)}getDocumentsMatchingQuery(t,n,s,l){let h=$s();const m=n.path,v=new Mt(m.child("__id-9223372036854775808__")),y=this.docs.getIteratorFrom(v);for(;y.hasNext();){const{key:T,value:{document:S}}=y.getNext();if(!m.isPrefixOf(T.path))break;T.path.length>m.length+1||r2(i2(S),s)<=0||(l.has(S.key)||id(n,S))&&(h=h.insert(S.key,S.mutableCopy()))}return mt.resolve(h)}getAllFromCollectionGroup(t,n,s,l){Ut(9500)}ii(t,n){return mt.forEach(this.docs,(s=>n(s)))}newChangeBuffer(t){return new NN(this)}getSize(t){return mt.resolve(this.size)}}class NN extends wN{constructor(t){super(),this.Nr=t}applyChanges(t){const n=[];return this.changes.forEach(((s,l)=>{l.isValidDocument()?n.push(this.Nr.addEntry(t,l)):this.Nr.removeEntry(s)})),mt.waitFor(n)}getFromCache(t,n){return this.Nr.getEntry(t,n)}getAllFromCache(t,n){return this.Nr.getEntries(t,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ON{constructor(t){this.persistence=t,this.si=new al((n=>Sg(n)),Ag),this.lastRemoteSnapshotVersion=jt.min(),this.highestTargetId=0,this.oi=0,this._i=new Pg,this.targetCount=0,this.ai=pu.ur()}forEachTarget(t,n){return this.si.forEach(((s,l)=>n(l))),mt.resolve()}getLastRemoteSnapshotVersion(t){return mt.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return mt.resolve(this.oi)}allocateTargetId(t){return this.highestTargetId=this.ai.next(),mt.resolve(this.highestTargetId)}setTargetsMetadata(t,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.oi&&(this.oi=n),mt.resolve()}Pr(t){this.si.set(t.target,t);const n=t.targetId;n>this.highestTargetId&&(this.ai=new pu(n),this.highestTargetId=n),t.sequenceNumber>this.oi&&(this.oi=t.sequenceNumber)}addTargetData(t,n){return this.Pr(n),this.targetCount+=1,mt.resolve()}updateTargetData(t,n){return this.Pr(n),mt.resolve()}removeTargetData(t,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,mt.resolve()}removeTargets(t,n,s){let l=0;const h=[];return this.si.forEach(((m,v)=>{v.sequenceNumber<=n&&s.get(v.targetId)===null&&(this.si.delete(m),h.push(this.removeMatchingKeysForTargetId(t,v.targetId)),l++)})),mt.waitFor(h).next((()=>l))}getTargetCount(t){return mt.resolve(this.targetCount)}getTargetData(t,n){const s=this.si.get(n)||null;return mt.resolve(s)}addMatchingKeys(t,n,s){return this._i.Wr(n,s),mt.resolve()}removeMatchingKeys(t,n,s){this._i.zr(n,s);const l=this.persistence.referenceDelegate,h=[];return l&&n.forEach((m=>{h.push(l.markPotentiallyOrphaned(t,m))})),mt.waitFor(h)}removeMatchingKeysForTargetId(t,n){return this._i.jr(n),mt.resolve()}getMatchingKeysForTargetId(t,n){const s=this._i.Hr(n);return mt.resolve(s)}containsKey(t,n){return mt.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lb{constructor(t,n){this.ui={},this.overlays={},this.ci=new Jf(0),this.li=!1,this.li=!0,this.hi=new CN,this.referenceDelegate=t(this),this.Pi=new ON(this),this.indexManager=new pN,this.remoteDocumentCache=(function(l){return new xN(l)})((s=>this.referenceDelegate.Ti(s))),this.serializer=new dN(n),this.Ii=new AN(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let n=this.overlays[t.toKey()];return n||(n=new RN,this.overlays[t.toKey()]=n),n}getMutationQueue(t,n){let s=this.ui[t.toKey()];return s||(s=new IN(n,this.referenceDelegate),this.ui[t.toKey()]=s),s}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(t,n,s){Rt("MemoryPersistence","Starting transaction:",t);const l=new LN(this.ci.next());return this.referenceDelegate.Ei(),s(l).next((h=>this.referenceDelegate.di(l).next((()=>h)))).toPromise().then((h=>(l.raiseOnCommittedEvent(),h)))}Ai(t,n){return mt.or(Object.values(this.ui).map((s=>()=>s.containsKey(t,n))))}}class LN extends a2{constructor(t){super(),this.currentSequenceNumber=t}}class Mg{constructor(t){this.persistence=t,this.Ri=new Pg,this.Vi=null}static mi(t){return new Mg(t)}get fi(){if(this.Vi)return this.Vi;throw Ut(60996)}addReference(t,n,s){return this.Ri.addReference(s,n),this.fi.delete(s.toString()),mt.resolve()}removeReference(t,n,s){return this.Ri.removeReference(s,n),this.fi.add(s.toString()),mt.resolve()}markPotentiallyOrphaned(t,n){return this.fi.add(n.toString()),mt.resolve()}removeTarget(t,n){this.Ri.jr(n.targetId).forEach((l=>this.fi.add(l.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(t,n.targetId).next((l=>{l.forEach((h=>this.fi.add(h.toString())))})).next((()=>s.removeTargetData(t,n)))}Ei(){this.Vi=new Set}di(t){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return mt.forEach(this.fi,(s=>{const l=Mt.fromPath(s);return this.gi(t,l).next((h=>{h||n.removeEntry(l,jt.min())}))})).next((()=>(this.Vi=null,n.apply(t))))}updateLimboDocument(t,n){return this.gi(t,n).next((s=>{s?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(t){return 0}gi(t,n){return mt.or([()=>mt.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(t,n),()=>this.persistence.Ai(t,n)])}}class Bf{constructor(t,n){this.persistence=t,this.pi=new al((s=>u2(s.path)),((s,l)=>s.isEqual(l))),this.garbageCollector=EN(this,n)}static mi(t,n){return new Bf(t,n)}Ei(){}di(t){return mt.resolve()}forEachTarget(t,n){return this.persistence.getTargetCache().forEachTarget(t,n)}gr(t){const n=this.wr(t);return this.persistence.getTargetCache().getTargetCount(t).next((s=>n.next((l=>s+l))))}wr(t){let n=0;return this.pr(t,(s=>{n++})).next((()=>n))}pr(t,n){return mt.forEach(this.pi,((s,l)=>this.br(t,s,l).next((h=>h?mt.resolve():n(l)))))}removeTargets(t,n,s){return this.persistence.getTargetCache().removeTargets(t,n,s)}removeOrphanedDocuments(t,n){let s=0;const l=this.persistence.getRemoteDocumentCache(),h=l.newChangeBuffer();return l.ii(t,(m=>this.br(t,m,n).next((v=>{v||(s++,h.removeEntry(m,jt.min()))})))).next((()=>h.apply(t))).next((()=>s))}markPotentiallyOrphaned(t,n){return this.pi.set(n,t.currentSequenceNumber),mt.resolve()}removeTarget(t,n){const s=n.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,s)}addReference(t,n,s){return this.pi.set(s,t.currentSequenceNumber),mt.resolve()}removeReference(t,n,s){return this.pi.set(s,t.currentSequenceNumber),mt.resolve()}updateLimboDocument(t,n){return this.pi.set(n,t.currentSequenceNumber),mt.resolve()}Ti(t){let n=t.key.toString().length;return t.isFoundDocument()&&(n+=vf(t.data.value)),n}br(t,n,s){return mt.or([()=>this.persistence.Ai(t,n),()=>this.persistence.getTargetCache().containsKey(t,n),()=>{const l=this.pi.get(n);return mt.resolve(l!==void 0&&l>s)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dg{constructor(t,n,s,l){this.targetId=t,this.fromCache=n,this.Es=s,this.ds=l}static As(t,n){let s=ae(),l=ae();for(const h of n.docChanges)switch(h.type){case 0:s=s.add(h.doc.key);break;case 1:l=l.add(h.doc.key)}return new Dg(t,n.fromCache,s,l)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PN{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MN{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return SR()?8:o2(Fn())>0?6:4})()}initialize(t,n){this.ps=t,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(t,n,s,l){const h={result:null};return this.ys(t,n).next((m=>{h.result=m})).next((()=>{if(!h.result)return this.ws(t,n,l,s).next((m=>{h.result=m}))})).next((()=>{if(h.result)return;const m=new PN;return this.Ss(t,n,m).next((v=>{if(h.result=v,this.Vs)return this.bs(t,n,m,v.size)}))})).next((()=>h.result))}bs(t,n,s,l){return s.documentReadCount<this.fs?(Jl()<=re.DEBUG&&Rt("QueryEngine","SDK will not create cache indexes for query:",tu(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),mt.resolve()):(Jl()<=re.DEBUG&&Rt("QueryEngine","Query:",tu(n),"scans",s.documentReadCount,"local documents and returns",l,"documents as results."),s.documentReadCount>this.gs*l?(Jl()<=re.DEBUG&&Rt("QueryEngine","The SDK decides to create cache indexes for query:",tu(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,as(n))):mt.resolve())}ys(t,n){if(yE(n))return mt.resolve(null);let s=as(n);return this.indexManager.getIndexType(t,s).next((l=>l===0?null:(n.limit!==null&&l===1&&(n=zp(n,null,"F"),s=as(n)),this.indexManager.getDocumentsMatchingTarget(t,s).next((h=>{const m=ae(...h);return this.ps.getDocuments(t,m).next((v=>this.indexManager.getMinOffset(t,s).next((y=>{const T=this.Ds(n,v);return this.Cs(n,T,m,y.readTime)?this.ys(t,zp(n,null,"F")):this.vs(t,T,n,y)}))))})))))}ws(t,n,s,l){return yE(n)||l.isEqual(jt.min())?mt.resolve(null):this.ps.getDocuments(t,s).next((h=>{const m=this.Ds(n,h);return this.Cs(n,m,s,l)?mt.resolve(null):(Jl()<=re.DEBUG&&Rt("QueryEngine","Re-using previous result from %s to execute query: %s",l.toString(),tu(n)),this.vs(t,m,n,n2(l,Nc)).next((v=>v)))}))}Ds(t,n){let s=new _n(Bw(t));return n.forEach(((l,h)=>{id(t,h)&&(s=s.add(h))})),s}Cs(t,n,s,l){if(t.limit===null)return!1;if(s.size!==n.size)return!0;const h=t.limitType==="F"?n.last():n.first();return!!h&&(h.hasPendingWrites||h.version.compareTo(l)>0)}Ss(t,n,s){return Jl()<=re.DEBUG&&Rt("QueryEngine","Using full collection scan to execute query:",tu(n)),this.ps.getDocumentsMatchingQuery(t,n,$a.min(),s)}vs(t,n,s,l){return this.ps.getDocumentsMatchingQuery(t,s,l).next((h=>(n.forEach((m=>{h=h.insert(m.key,m)})),h)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kg="LocalStore",DN=3e8;class kN{constructor(t,n,s,l){this.persistence=t,this.Fs=n,this.serializer=l,this.Ms=new qe(se),this.xs=new al((h=>Sg(h)),Ag),this.Os=new Map,this.Ns=t.getRemoteDocumentCache(),this.Pi=t.getTargetCache(),this.Ii=t.getBundleCache(),this.Bs(s)}Bs(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new SN(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>t.collect(n,this.Ms)))}}function VN(r,t,n,s){return new kN(r,t,n,s)}async function ub(r,t){const n=Ft(r);return await n.persistence.runTransaction("Handle user change","readonly",(s=>{let l;return n.mutationQueue.getAllMutationBatches(s).next((h=>(l=h,n.Bs(t),n.mutationQueue.getAllMutationBatches(s)))).next((h=>{const m=[],v=[];let y=ae();for(const T of l){m.push(T.batchId);for(const S of T.mutations)y=y.add(S.key)}for(const T of h){v.push(T.batchId);for(const S of T.mutations)y=y.add(S.key)}return n.localDocuments.getDocuments(s,y).next((T=>({Ls:T,removedBatchIds:m,addedBatchIds:v})))}))}))}function UN(r,t){const n=Ft(r);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const l=t.batch.keys(),h=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(v,y,T,S){const R=T.batch,N=R.keys();let j=mt.resolve();return N.forEach((B=>{j=j.next((()=>S.getEntry(y,B))).next((K=>{const G=T.docVersions.get(B);_e(G!==null,48541),K.version.compareTo(G)<0&&(R.applyToRemoteDocument(K,T),K.isValidDocument()&&(K.setReadTime(T.commitVersion),S.addEntry(K)))}))})),j.next((()=>v.mutationQueue.removeMutationBatch(y,R)))})(n,s,t,h).next((()=>h.apply(s))).next((()=>n.mutationQueue.performConsistencyCheck(s))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(s,l,t.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(v){let y=ae();for(let T=0;T<v.mutationResults.length;++T)v.mutationResults[T].transformResults.length>0&&(y=y.add(v.batch.mutations[T].key));return y})(t)))).next((()=>n.localDocuments.getDocuments(s,l)))}))}function cb(r){const t=Ft(r);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>t.Pi.getLastRemoteSnapshotVersion(n)))}function zN(r,t){const n=Ft(r),s=t.snapshotVersion;let l=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(h=>{const m=n.Ns.newChangeBuffer({trackRemovals:!0});l=n.Ms;const v=[];t.targetChanges.forEach(((S,R)=>{const N=l.get(R);if(!N)return;v.push(n.Pi.removeMatchingKeys(h,S.removedDocuments,R).next((()=>n.Pi.addMatchingKeys(h,S.addedDocuments,R))));let j=N.withSequenceNumber(h.currentSequenceNumber);t.targetMismatches.get(R)!==null?j=j.withResumeToken(Pn.EMPTY_BYTE_STRING,jt.min()).withLastLimboFreeSnapshotVersion(jt.min()):S.resumeToken.approximateByteSize()>0&&(j=j.withResumeToken(S.resumeToken,s)),l=l.insert(R,j),(function(K,G,it){return K.resumeToken.approximateByteSize()===0||G.snapshotVersion.toMicroseconds()-K.snapshotVersion.toMicroseconds()>=DN?!0:it.addedDocuments.size+it.modifiedDocuments.size+it.removedDocuments.size>0})(N,j,S)&&v.push(n.Pi.updateTargetData(h,j))}));let y=$s(),T=ae();if(t.documentUpdates.forEach((S=>{t.resolvedLimboDocuments.has(S)&&v.push(n.persistence.referenceDelegate.updateLimboDocument(h,S))})),v.push(BN(h,m,t.documentUpdates).next((S=>{y=S.ks,T=S.qs}))),!s.isEqual(jt.min())){const S=n.Pi.getLastRemoteSnapshotVersion(h).next((R=>n.Pi.setTargetsMetadata(h,h.currentSequenceNumber,s)));v.push(S)}return mt.waitFor(v).next((()=>m.apply(h))).next((()=>n.localDocuments.getLocalViewOfDocuments(h,y,T))).next((()=>y))})).then((h=>(n.Ms=l,h)))}function BN(r,t,n){let s=ae(),l=ae();return n.forEach((h=>s=s.add(h))),t.getEntries(r,s).next((h=>{let m=$s();return n.forEach(((v,y)=>{const T=h.get(v);y.isFoundDocument()!==T.isFoundDocument()&&(l=l.add(v)),y.isNoDocument()&&y.version.isEqual(jt.min())?(t.removeEntry(v,y.readTime),m=m.insert(v,y)):!T.isValidDocument()||y.version.compareTo(T.version)>0||y.version.compareTo(T.version)===0&&T.hasPendingWrites?(t.addEntry(y),m=m.insert(v,y)):Rt(kg,"Ignoring outdated watch update for ",v,". Current version:",T.version," Watch version:",y.version)})),{ks:m,qs:l}}))}function jN(r,t){const n=Ft(r);return n.persistence.runTransaction("Get next mutation batch","readonly",(s=>(t===void 0&&(t=Eg),n.mutationQueue.getNextMutationBatchAfterBatchId(s,t))))}function HN(r,t){const n=Ft(r);return n.persistence.runTransaction("Allocate target","readwrite",(s=>{let l;return n.Pi.getTargetData(s,t).next((h=>h?(l=h,mt.resolve(l)):n.Pi.allocateTargetId(s).next((m=>(l=new qa(t,m,"TargetPurposeListen",s.currentSequenceNumber),n.Pi.addTargetData(s,l).next((()=>l)))))))})).then((s=>{const l=n.Ms.get(s.targetId);return(l===null||s.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(s.targetId,s),n.xs.set(t,s.targetId)),s}))}async function Fp(r,t,n){const s=Ft(r),l=s.Ms.get(t),h=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",h,(m=>s.persistence.referenceDelegate.removeTarget(m,l)))}catch(m){if(!wu(m))throw m;Rt(kg,`Failed to update sequence numbers for target ${t}: ${m}`)}s.Ms=s.Ms.remove(t),s.xs.delete(l.target)}function OE(r,t,n){const s=Ft(r);let l=jt.min(),h=ae();return s.persistence.runTransaction("Execute query","readwrite",(m=>(function(y,T,S){const R=Ft(y),N=R.xs.get(S);return N!==void 0?mt.resolve(R.Ms.get(N)):R.Pi.getTargetData(T,S)})(s,m,as(t)).next((v=>{if(v)return l=v.lastLimboFreeSnapshotVersion,s.Pi.getMatchingKeysForTargetId(m,v.targetId).next((y=>{h=y}))})).next((()=>s.Fs.getDocumentsMatchingQuery(m,t,n?l:jt.min(),n?h:ae()))).next((v=>(qN(s,I2(t),v),{documents:v,Qs:h})))))}function qN(r,t,n){let s=r.Os.get(t)||jt.min();n.forEach(((l,h)=>{h.readTime.compareTo(s)>0&&(s=h.readTime)})),r.Os.set(t,s)}class LE{constructor(){this.activeTargetIds=M2()}zs(t){this.activeTargetIds=this.activeTargetIds.add(t)}js(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Gs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class FN{constructor(){this.Mo=new LE,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,n,s){}addLocalQueryTarget(t,n=!0){return n&&this.Mo.zs(t),this.xo[t]||"not-current"}updateQueryState(t,n,s){this.xo[t]=n}removeLocalQueryTarget(t){this.Mo.js(t)}isLocalQueryTarget(t){return this.Mo.activeTargetIds.has(t)}clearQueryState(t){delete this.xo[t]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(t){return this.Mo.activeTargetIds.has(t)}start(){return this.Mo=new LE,Promise.resolve()}handleUserChange(t,n,s){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GN{Oo(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PE="ConnectivityMonitor";class ME{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(t){this.qo.push(t)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){Rt(PE,"Network connectivity changed: AVAILABLE");for(const t of this.qo)t(0)}ko(){Rt(PE,"Network connectivity changed: UNAVAILABLE");for(const t of this.qo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let uf=null;function Gp(){return uf===null?uf=(function(){return 268435456+Math.round(2147483648*Math.random())})():uf++,"0x"+uf.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _p="RestConnection",ZN={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class KN{get $o(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const n=t.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+t.host,this.Ko=`projects/${s}/databases/${l}`,this.Wo=this.databaseId.database===Df?`project_id=${s}`:`project_id=${s}&database_id=${l}`}Go(t,n,s,l,h){const m=Gp(),v=this.zo(t,n.toUriEncodedString());Rt(_p,`Sending RPC '${t}' ${m}:`,v,s);const y={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(y,l,h);const{host:T}=new URL(v),S=no(T);return this.Jo(t,v,y,s,S).then((R=>(Rt(_p,`Received RPC '${t}' ${m}: `,R),R)),(R=>{throw uu(_p,`RPC '${t}' ${m} failed with error: `,R,"url: ",v,"request:",s),R}))}Ho(t,n,s,l,h,m){return this.Go(t,n,s,l,h)}jo(t,n,s){t["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Tu})(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((l,h)=>t[h]=l)),s&&s.headers.forEach(((l,h)=>t[h]=l))}zo(t,n){const s=ZN[t];return`${this.Uo}/v1/${n}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YN{constructor(t){this.Yo=t.Yo,this.Zo=t.Zo}Xo(t){this.e_=t}t_(t){this.n_=t}r_(t){this.i_=t}onMessage(t){this.s_=t}close(){this.Zo()}send(t){this.Yo(t)}o_(){this.e_()}__(){this.n_()}a_(t){this.i_(t)}u_(t){this.s_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jn="WebChannelConnection";class QN extends KN{constructor(t){super(t),this.c_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Jo(t,n,s,l,h){const m=Gp();return new Promise(((v,y)=>{const T=new dw;T.setWithCredentials(!0),T.listenOnce(mw.COMPLETE,(()=>{try{switch(T.getLastErrorCode()){case yf.NO_ERROR:const R=T.getResponseJson();Rt(jn,`XHR for RPC '${t}' ${m} received:`,JSON.stringify(R)),v(R);break;case yf.TIMEOUT:Rt(jn,`RPC '${t}' ${m} timed out`),y(new At(dt.DEADLINE_EXCEEDED,"Request time out"));break;case yf.HTTP_ERROR:const N=T.getStatus();if(Rt(jn,`RPC '${t}' ${m} failed with status:`,N,"response text:",T.getResponseText()),N>0){let j=T.getResponseJson();Array.isArray(j)&&(j=j[0]);const B=j?.error;if(B&&B.status&&B.message){const K=(function(it){const rt=it.toLowerCase().replace(/_/g,"-");return Object.values(dt).indexOf(rt)>=0?rt:dt.UNKNOWN})(B.status);y(new At(K,B.message))}else y(new At(dt.UNKNOWN,"Server responded with status "+T.getStatus()))}else y(new At(dt.UNAVAILABLE,"Connection failed."));break;default:Ut(9055,{l_:t,streamId:m,h_:T.getLastErrorCode(),P_:T.getLastError()})}}finally{Rt(jn,`RPC '${t}' ${m} completed.`)}}));const S=JSON.stringify(l);Rt(jn,`RPC '${t}' ${m} sending request:`,l),T.send(n,"POST",S,s,15)}))}T_(t,n,s){const l=Gp(),h=[this.Uo,"/","google.firestore.v1.Firestore","/",t,"/channel"],m=_w(),v=gw(),y={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},T=this.longPollingOptions.timeoutSeconds;T!==void 0&&(y.longPollingTimeout=Math.round(1e3*T)),this.useFetchStreams&&(y.useFetchStreams=!0),this.jo(y.initMessageHeaders,n,s),y.encodeInitMessageHeaders=!0;const S=h.join("");Rt(jn,`Creating RPC '${t}' stream ${l}: ${S}`,y);const R=m.createWebChannel(S,y);this.I_(R);let N=!1,j=!1;const B=new YN({Yo:G=>{j?Rt(jn,`Not sending because RPC '${t}' stream ${l} is closed:`,G):(N||(Rt(jn,`Opening RPC '${t}' stream ${l} transport.`),R.open(),N=!0),Rt(jn,`RPC '${t}' stream ${l} sending:`,G),R.send(G))},Zo:()=>R.close()}),K=(G,it,rt)=>{G.listen(it,(ct=>{try{rt(ct)}catch(Ct){setTimeout((()=>{throw Ct}),0)}}))};return K(R,pc.EventType.OPEN,(()=>{j||(Rt(jn,`RPC '${t}' stream ${l} transport opened.`),B.o_())})),K(R,pc.EventType.CLOSE,(()=>{j||(j=!0,Rt(jn,`RPC '${t}' stream ${l} transport closed`),B.a_(),this.E_(R))})),K(R,pc.EventType.ERROR,(G=>{j||(j=!0,uu(jn,`RPC '${t}' stream ${l} transport errored. Name:`,G.name,"Message:",G.message),B.a_(new At(dt.UNAVAILABLE,"The operation could not be completed")))})),K(R,pc.EventType.MESSAGE,(G=>{if(!j){const it=G.data[0];_e(!!it,16349);const rt=it,ct=rt?.error||rt[0]?.error;if(ct){Rt(jn,`RPC '${t}' stream ${l} received error:`,ct);const Ct=ct.status;let Lt=(function(O){const P=hn[O];if(P!==void 0)return Xw(P)})(Ct),kt=ct.message;Lt===void 0&&(Lt=dt.INTERNAL,kt="Unknown error status: "+Ct+" with message "+ct.message),j=!0,B.a_(new At(Lt,kt)),R.close()}else Rt(jn,`RPC '${t}' stream ${l} received:`,it),B.u_(it)}})),K(v,pw.STAT_EVENT,(G=>{G.stat===Lp.PROXY?Rt(jn,`RPC '${t}' stream ${l} detected buffering proxy`):G.stat===Lp.NOPROXY&&Rt(jn,`RPC '${t}' stream ${l} detected no buffering proxy`)})),setTimeout((()=>{B.__()}),0),B}terminate(){this.c_.forEach((t=>t.close())),this.c_=[]}I_(t){this.c_.push(t)}E_(t){this.c_=this.c_.filter((n=>n===t))}}function yp(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function od(r){return new J2(r,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hb{constructor(t,n,s=1e3,l=1.5,h=6e4){this.Mi=t,this.timerId=n,this.d_=s,this.A_=l,this.R_=h,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(t){this.cancel();const n=Math.floor(this.V_+this.y_()),s=Math.max(0,Date.now()-this.f_),l=Math.max(0,n-s);l>0&&Rt("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,l,(()=>(this.f_=Date.now(),t()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DE="PersistentStream";class fb{constructor(t,n,s,l,h,m,v,y){this.Mi=t,this.S_=s,this.b_=l,this.connection=h,this.authCredentialsProvider=m,this.appCheckCredentialsProvider=v,this.listener=y,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new hb(t,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(t){this.Q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():n&&n.code===dt.RESOURCE_EXHAUSTED?(Qs(n.toString()),Qs("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===dt.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.r_(n)}K_(){}auth(){this.state=1;const t=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,l])=>{this.D_===n&&this.G_(s,l)}),(s=>{t((()=>{const l=new At(dt.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(l)}))}))}G_(t,n){const s=this.W_(this.D_);this.stream=this.j_(t,n),this.stream.Xo((()=>{s((()=>this.listener.Xo()))})),this.stream.t_((()=>{s((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((l=>{s((()=>this.z_(l)))})),this.stream.onMessage((l=>{s((()=>++this.F_==1?this.J_(l):this.onNext(l)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(t){return Rt(DE,`close with error: ${t}`),this.stream=null,this.close(4,t)}W_(t){return n=>{this.Mi.enqueueAndForget((()=>this.D_===t?n():(Rt(DE,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class $N extends fb{constructor(t,n,s,l,h,m){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,l,m),this.serializer=h}j_(t,n){return this.connection.T_("Listen",t,n)}J_(t){return this.onNext(t)}onNext(t){this.M_.reset();const n=nN(this.serializer,t),s=(function(h){if(!("targetChange"in h))return jt.min();const m=h.targetChange;return m.targetIds&&m.targetIds.length?jt.min():m.readTime?os(m.readTime):jt.min()})(t);return this.listener.H_(n,s)}Y_(t){const n={};n.database=qp(this.serializer),n.addTarget=(function(h,m){let v;const y=m.target;if(v=Vp(y)?{documents:sN(h,y)}:{query:aN(h,y).ft},v.targetId=m.targetId,m.resumeToken.approximateByteSize()>0){v.resumeToken=tb(h,m.resumeToken);const T=Bp(h,m.expectedCount);T!==null&&(v.expectedCount=T)}else if(m.snapshotVersion.compareTo(jt.min())>0){v.readTime=zf(h,m.snapshotVersion.toTimestamp());const T=Bp(h,m.expectedCount);T!==null&&(v.expectedCount=T)}return v})(this.serializer,t);const s=lN(this.serializer,t);s&&(n.labels=s),this.q_(n)}Z_(t){const n={};n.database=qp(this.serializer),n.removeTarget=t,this.q_(n)}}class XN extends fb{constructor(t,n,s,l,h,m){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,l,m),this.serializer=h}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(t,n){return this.connection.T_("Write",t,n)}J_(t){return _e(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,_e(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){_e(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const n=rN(t.writeResults,t.commitTime),s=os(t.commitTime);return this.listener.na(s,n)}ra(){const t={};t.database=qp(this.serializer),this.q_(t)}ea(t){const n={streamToken:this.lastStreamToken,writes:t.map((s=>iN(this.serializer,s)))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WN{}class JN extends WN{constructor(t,n,s,l){super(),this.authCredentials=t,this.appCheckCredentials=n,this.connection=s,this.serializer=l,this.ia=!1}sa(){if(this.ia)throw new At(dt.FAILED_PRECONDITION,"The client has already been terminated.")}Go(t,n,s,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([h,m])=>this.connection.Go(t,jp(n,s),l,h,m))).catch((h=>{throw h.name==="FirebaseError"?(h.code===dt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new At(dt.UNKNOWN,h.toString())}))}Ho(t,n,s,l,h){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([m,v])=>this.connection.Ho(t,jp(n,s),l,m,v,h))).catch((m=>{throw m.name==="FirebaseError"?(m.code===dt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),m):new At(dt.UNKNOWN,m.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class tO{constructor(t,n){this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const n=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Qs(n),this.aa=!1):Rt("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const el="RemoteStore";class eO{constructor(t,n,s,l,h){this.localStore=t,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=h,this.Aa.Oo((m=>{s.enqueueAndForget((async()=>{ol(this)&&(Rt(el,"Restarting streams for network reachability change."),await(async function(y){const T=Ft(y);T.Ea.add(4),await Yc(T),T.Ra.set("Unknown"),T.Ea.delete(4),await ld(T)})(this))}))})),this.Ra=new tO(s,l)}}async function ld(r){if(ol(r))for(const t of r.da)await t(!0)}async function Yc(r){for(const t of r.da)await t(!1)}function db(r,t){const n=Ft(r);n.Ia.has(t.targetId)||(n.Ia.set(t.targetId,t),Bg(n)?zg(n):Su(n).O_()&&Ug(n,t))}function Vg(r,t){const n=Ft(r),s=Su(n);n.Ia.delete(t),s.O_()&&mb(n,t),n.Ia.size===0&&(s.O_()?s.L_():ol(n)&&n.Ra.set("Unknown"))}function Ug(r,t){if(r.Va.Ue(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(jt.min())>0){const n=r.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}Su(r).Y_(t)}function mb(r,t){r.Va.Ue(t),Su(r).Z_(t)}function zg(r){r.Va=new Q2({getRemoteKeysForTarget:t=>r.remoteSyncer.getRemoteKeysForTarget(t),At:t=>r.Ia.get(t)||null,ht:()=>r.datastore.serializer.databaseId}),Su(r).start(),r.Ra.ua()}function Bg(r){return ol(r)&&!Su(r).x_()&&r.Ia.size>0}function ol(r){return Ft(r).Ea.size===0}function pb(r){r.Va=void 0}async function nO(r){r.Ra.set("Online")}async function iO(r){r.Ia.forEach(((t,n)=>{Ug(r,t)}))}async function rO(r,t){pb(r),Bg(r)?(r.Ra.ha(t),zg(r)):r.Ra.set("Unknown")}async function sO(r,t,n){if(r.Ra.set("Online"),t instanceof Jw&&t.state===2&&t.cause)try{await(async function(l,h){const m=h.cause;for(const v of h.targetIds)l.Ia.has(v)&&(await l.remoteSyncer.rejectListen(v,m),l.Ia.delete(v),l.Va.removeTarget(v))})(r,t)}catch(s){Rt(el,"Failed to remove targets %s: %s ",t.targetIds.join(","),s),await jf(r,s)}else if(t instanceof wf?r.Va.Ze(t):t instanceof Ww?r.Va.st(t):r.Va.tt(t),!n.isEqual(jt.min()))try{const s=await cb(r.localStore);n.compareTo(s)>=0&&await(function(h,m){const v=h.Va.Tt(m);return v.targetChanges.forEach(((y,T)=>{if(y.resumeToken.approximateByteSize()>0){const S=h.Ia.get(T);S&&h.Ia.set(T,S.withResumeToken(y.resumeToken,m))}})),v.targetMismatches.forEach(((y,T)=>{const S=h.Ia.get(y);if(!S)return;h.Ia.set(y,S.withResumeToken(Pn.EMPTY_BYTE_STRING,S.snapshotVersion)),mb(h,y);const R=new qa(S.target,y,T,S.sequenceNumber);Ug(h,R)})),h.remoteSyncer.applyRemoteEvent(v)})(r,n)}catch(s){Rt(el,"Failed to raise snapshot:",s),await jf(r,s)}}async function jf(r,t,n){if(!wu(t))throw t;r.Ea.add(1),await Yc(r),r.Ra.set("Offline"),n||(n=()=>cb(r.localStore)),r.asyncQueue.enqueueRetryable((async()=>{Rt(el,"Retrying IndexedDB access"),await n(),r.Ea.delete(1),await ld(r)}))}function gb(r,t){return t().catch((n=>jf(r,n,t)))}async function ud(r){const t=Ft(r),n=to(t);let s=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:Eg;for(;aO(t);)try{const l=await jN(t.localStore,s);if(l===null){t.Ta.length===0&&n.L_();break}s=l.batchId,oO(t,l)}catch(l){await jf(t,l)}_b(t)&&yb(t)}function aO(r){return ol(r)&&r.Ta.length<10}function oO(r,t){r.Ta.push(t);const n=to(r);n.O_()&&n.X_&&n.ea(t.mutations)}function _b(r){return ol(r)&&!to(r).x_()&&r.Ta.length>0}function yb(r){to(r).start()}async function lO(r){to(r).ra()}async function uO(r){const t=to(r);for(const n of r.Ta)t.ea(n.mutations)}async function cO(r,t,n){const s=r.Ta.shift(),l=Ng.from(s,t,n);await gb(r,(()=>r.remoteSyncer.applySuccessfulWrite(l))),await ud(r)}async function hO(r,t){t&&to(r).X_&&await(async function(s,l){if((function(m){return Z2(m)&&m!==dt.ABORTED})(l.code)){const h=s.Ta.shift();to(s).B_(),await gb(s,(()=>s.remoteSyncer.rejectFailedWrite(h.batchId,l))),await ud(s)}})(r,t),_b(r)&&yb(r)}async function kE(r,t){const n=Ft(r);n.asyncQueue.verifyOperationInProgress(),Rt(el,"RemoteStore received new credentials");const s=ol(n);n.Ea.add(3),await Yc(n),s&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.Ea.delete(3),await ld(n)}async function fO(r,t){const n=Ft(r);t?(n.Ea.delete(2),await ld(n)):t||(n.Ea.add(2),await Yc(n),n.Ra.set("Unknown"))}function Su(r){return r.ma||(r.ma=(function(n,s,l){const h=Ft(n);return h.sa(),new $N(s,h.connection,h.authCredentials,h.appCheckCredentials,h.serializer,l)})(r.datastore,r.asyncQueue,{Xo:nO.bind(null,r),t_:iO.bind(null,r),r_:rO.bind(null,r),H_:sO.bind(null,r)}),r.da.push((async t=>{t?(r.ma.B_(),Bg(r)?zg(r):r.Ra.set("Unknown")):(await r.ma.stop(),pb(r))}))),r.ma}function to(r){return r.fa||(r.fa=(function(n,s,l){const h=Ft(n);return h.sa(),new XN(s,h.connection,h.authCredentials,h.appCheckCredentials,h.serializer,l)})(r.datastore,r.asyncQueue,{Xo:()=>Promise.resolve(),t_:lO.bind(null,r),r_:hO.bind(null,r),ta:uO.bind(null,r),na:cO.bind(null,r)}),r.da.push((async t=>{t?(r.fa.B_(),await ud(r)):(await r.fa.stop(),r.Ta.length>0&&(Rt(el,`Stopping write stream with ${r.Ta.length} pending writes`),r.Ta=[]))}))),r.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jg{constructor(t,n,s,l,h){this.asyncQueue=t,this.timerId=n,this.targetTimeMs=s,this.op=l,this.removalCallback=h,this.deferred=new Yo,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((m=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,n,s,l,h){const m=Date.now()+s,v=new jg(t,n,m,l,h);return v.start(s),v}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new At(dt.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Hg(r,t){if(Qs("AsyncQueue",`${t}: ${r}`),wu(r))return new At(dt.UNAVAILABLE,`${t}: ${r}`);throw r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class au{static emptySet(t){return new au(t.comparator)}constructor(t){this.comparator=t?(n,s)=>t(n,s)||Mt.comparator(n.key,s.key):(n,s)=>Mt.comparator(n.key,s.key),this.keyedMap=gc(),this.sortedSet=new qe(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const n=this.keyedMap.get(t);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((n,s)=>(t(n),!1)))}add(t){const n=this.delete(t.key);return n.copy(n.keyedMap.insert(t.key,t),n.sortedSet.insert(t,null))}delete(t){const n=this.get(t);return n?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(n)):this}isEqual(t){if(!(t instanceof au)||this.size!==t.size)return!1;const n=this.sortedSet.getIterator(),s=t.sortedSet.getIterator();for(;n.hasNext();){const l=n.getNext().key,h=s.getNext().key;if(!l.isEqual(h))return!1}return!0}toString(){const t=[];return this.forEach((n=>{t.push(n.toString())})),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,n){const s=new au;return s.comparator=this.comparator,s.keyedMap=t,s.sortedSet=n,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VE{constructor(){this.ga=new qe(Mt.comparator)}track(t){const n=t.doc.key,s=this.ga.get(n);s?t.type!==0&&s.type===3?this.ga=this.ga.insert(n,t):t.type===3&&s.type!==1?this.ga=this.ga.insert(n,{type:s.type,doc:t.doc}):t.type===2&&s.type===2?this.ga=this.ga.insert(n,{type:2,doc:t.doc}):t.type===2&&s.type===0?this.ga=this.ga.insert(n,{type:0,doc:t.doc}):t.type===1&&s.type===0?this.ga=this.ga.remove(n):t.type===1&&s.type===2?this.ga=this.ga.insert(n,{type:1,doc:s.doc}):t.type===0&&s.type===1?this.ga=this.ga.insert(n,{type:2,doc:t.doc}):Ut(63341,{Rt:t,pa:s}):this.ga=this.ga.insert(n,t)}ya(){const t=[];return this.ga.inorderTraversal(((n,s)=>{t.push(s)})),t}}class gu{constructor(t,n,s,l,h,m,v,y,T){this.query=t,this.docs=n,this.oldDocs=s,this.docChanges=l,this.mutatedKeys=h,this.fromCache=m,this.syncStateChanged=v,this.excludesMetadataChanges=y,this.hasCachedResults=T}static fromInitialDocuments(t,n,s,l,h){const m=[];return n.forEach((v=>{m.push({type:0,doc:v})})),new gu(t,n,au.emptySet(n),m,s,l,!0,!1,h)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&nd(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const n=this.docChanges,s=t.docChanges;if(n.length!==s.length)return!1;for(let l=0;l<n.length;l++)if(n[l].type!==s[l].type||!n[l].doc.isEqual(s[l].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dO{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((t=>t.Da()))}}class mO{constructor(){this.queries=UE(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,s){const l=Ft(n),h=l.queries;l.queries=UE(),h.forEach(((m,v)=>{for(const y of v.Sa)y.onError(s)}))})(this,new At(dt.ABORTED,"Firestore shutting down"))}}function UE(){return new al((r=>zw(r)),nd)}async function pO(r,t){const n=Ft(r);let s=3;const l=t.query;let h=n.queries.get(l);h?!h.ba()&&t.Da()&&(s=2):(h=new dO,s=t.Da()?0:1);try{switch(s){case 0:h.wa=await n.onListen(l,!0);break;case 1:h.wa=await n.onListen(l,!1);break;case 2:await n.onFirstRemoteStoreListen(l)}}catch(m){const v=Hg(m,`Initialization of query '${tu(t.query)}' failed`);return void t.onError(v)}n.queries.set(l,h),h.Sa.push(t),t.va(n.onlineState),h.wa&&t.Fa(h.wa)&&qg(n)}async function gO(r,t){const n=Ft(r),s=t.query;let l=3;const h=n.queries.get(s);if(h){const m=h.Sa.indexOf(t);m>=0&&(h.Sa.splice(m,1),h.Sa.length===0?l=t.Da()?0:1:!h.ba()&&t.Da()&&(l=2))}switch(l){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function _O(r,t){const n=Ft(r);let s=!1;for(const l of t){const h=l.query,m=n.queries.get(h);if(m){for(const v of m.Sa)v.Fa(l)&&(s=!0);m.wa=l}}s&&qg(n)}function yO(r,t,n){const s=Ft(r),l=s.queries.get(t);if(l)for(const h of l.Sa)h.onError(n);s.queries.delete(t)}function qg(r){r.Ca.forEach((t=>{t.next()}))}var Zp,zE;(zE=Zp||(Zp={})).Ma="default",zE.Cache="cache";class vO{constructor(t,n,s){this.query=t,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(t){if(!this.options.includeMetadataChanges){const s=[];for(const l of t.docChanges)l.type!==3&&s.push(l);t=new gu(t.query,t.docs,t.oldDocs,s,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let n=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),n=!0):this.La(t,this.onlineState)&&(this.ka(t),n=!0),this.Na=t,n}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),n=!0),n}La(t,n){if(!t.fromCache||!this.Da())return!0;const s=n!=="Offline";return(!this.options.qa||!s)&&(!t.docs.isEmpty()||t.hasCachedResults||n==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(t){t=gu.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==Zp.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vb{constructor(t){this.key=t}}class Tb{constructor(t){this.key=t}}class TO{constructor(t,n){this.query=t,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=ae(),this.mutatedKeys=ae(),this.eu=Bw(t),this.tu=new au(this.eu)}get nu(){return this.Ya}ru(t,n){const s=n?n.iu:new VE,l=n?n.tu:this.tu;let h=n?n.mutatedKeys:this.mutatedKeys,m=l,v=!1;const y=this.query.limitType==="F"&&l.size===this.query.limit?l.last():null,T=this.query.limitType==="L"&&l.size===this.query.limit?l.first():null;if(t.inorderTraversal(((S,R)=>{const N=l.get(S),j=id(this.query,R)?R:null,B=!!N&&this.mutatedKeys.has(N.key),K=!!j&&(j.hasLocalMutations||this.mutatedKeys.has(j.key)&&j.hasCommittedMutations);let G=!1;N&&j?N.data.isEqual(j.data)?B!==K&&(s.track({type:3,doc:j}),G=!0):this.su(N,j)||(s.track({type:2,doc:j}),G=!0,(y&&this.eu(j,y)>0||T&&this.eu(j,T)<0)&&(v=!0)):!N&&j?(s.track({type:0,doc:j}),G=!0):N&&!j&&(s.track({type:1,doc:N}),G=!0,(y||T)&&(v=!0)),G&&(j?(m=m.add(j),h=K?h.add(S):h.delete(S)):(m=m.delete(S),h=h.delete(S)))})),this.query.limit!==null)for(;m.size>this.query.limit;){const S=this.query.limitType==="F"?m.last():m.first();m=m.delete(S.key),h=h.delete(S.key),s.track({type:1,doc:S})}return{tu:m,iu:s,Cs:v,mutatedKeys:h}}su(t,n){return t.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(t,n,s,l){const h=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const m=t.iu.ya();m.sort(((S,R)=>(function(j,B){const K=G=>{switch(G){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ut(20277,{Rt:G})}};return K(j)-K(B)})(S.type,R.type)||this.eu(S.doc,R.doc))),this.ou(s),l=l??!1;const v=n&&!l?this._u():[],y=this.Xa.size===0&&this.current&&!l?1:0,T=y!==this.Za;return this.Za=y,m.length!==0||T?{snapshot:new gu(this.query,t.tu,h,m,t.mutatedKeys,y===0,T,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:v}:{au:v}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new VE,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(t){return!this.Ya.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),t.modifiedDocuments.forEach((n=>{})),t.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Xa;this.Xa=ae(),this.tu.forEach((s=>{this.uu(s.key)&&(this.Xa=this.Xa.add(s.key))}));const n=[];return t.forEach((s=>{this.Xa.has(s)||n.push(new Tb(s))})),this.Xa.forEach((s=>{t.has(s)||n.push(new vb(s))})),n}cu(t){this.Ya=t.Qs,this.Xa=ae();const n=this.ru(t.documents);return this.applyChanges(n,!0)}lu(){return gu.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Fg="SyncEngine";class EO{constructor(t,n,s){this.query=t,this.targetId=n,this.view=s}}class wO{constructor(t){this.key=t,this.hu=!1}}class bO{constructor(t,n,s,l,h,m){this.localStore=t,this.remoteStore=n,this.eventManager=s,this.sharedClientState=l,this.currentUser=h,this.maxConcurrentLimboResolutions=m,this.Pu={},this.Tu=new al((v=>zw(v)),nd),this.Iu=new Map,this.Eu=new Set,this.du=new qe(Mt.comparator),this.Au=new Map,this.Ru=new Pg,this.Vu={},this.mu=new Map,this.fu=pu.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function SO(r,t,n=!0){const s=Rb(r);let l;const h=s.Tu.get(t);return h?(s.sharedClientState.addLocalQueryTarget(h.targetId),l=h.view.lu()):l=await Eb(s,t,n,!0),l}async function AO(r,t){const n=Rb(r);await Eb(n,t,!0,!1)}async function Eb(r,t,n,s){const l=await HN(r.localStore,as(t)),h=l.targetId,m=r.sharedClientState.addLocalQueryTarget(h,n);let v;return s&&(v=await RO(r,t,h,m==="current",l.resumeToken)),r.isPrimaryClient&&n&&db(r.remoteStore,l),v}async function RO(r,t,n,s,l){r.pu=(R,N,j)=>(async function(K,G,it,rt){let ct=G.view.ru(it);ct.Cs&&(ct=await OE(K.localStore,G.query,!1).then((({documents:D})=>G.view.ru(D,ct))));const Ct=rt&&rt.targetChanges.get(G.targetId),Lt=rt&&rt.targetMismatches.get(G.targetId)!=null,kt=G.view.applyChanges(ct,K.isPrimaryClient,Ct,Lt);return jE(K,G.targetId,kt.au),kt.snapshot})(r,R,N,j);const h=await OE(r.localStore,t,!0),m=new TO(t,h.Qs),v=m.ru(h.documents),y=Kc.createSynthesizedTargetChangeForCurrentChange(n,s&&r.onlineState!=="Offline",l),T=m.applyChanges(v,r.isPrimaryClient,y);jE(r,n,T.au);const S=new EO(t,n,m);return r.Tu.set(t,S),r.Iu.has(n)?r.Iu.get(n).push(t):r.Iu.set(n,[t]),T.snapshot}async function CO(r,t,n){const s=Ft(r),l=s.Tu.get(t),h=s.Iu.get(l.targetId);if(h.length>1)return s.Iu.set(l.targetId,h.filter((m=>!nd(m,t)))),void s.Tu.delete(t);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(l.targetId),s.sharedClientState.isActiveQueryTarget(l.targetId)||await Fp(s.localStore,l.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(l.targetId),n&&Vg(s.remoteStore,l.targetId),Kp(s,l.targetId)})).catch(Eu)):(Kp(s,l.targetId),await Fp(s.localStore,l.targetId,!0))}async function IO(r,t){const n=Ft(r),s=n.Tu.get(t),l=n.Iu.get(s.targetId);n.isPrimaryClient&&l.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),Vg(n.remoteStore,s.targetId))}async function xO(r,t,n){const s=kO(r);try{const l=await(function(m,v){const y=Ft(m),T=De.now(),S=v.reduce(((j,B)=>j.add(B.key)),ae());let R,N;return y.persistence.runTransaction("Locally write mutations","readwrite",(j=>{let B=$s(),K=ae();return y.Ns.getEntries(j,S).next((G=>{B=G,B.forEach(((it,rt)=>{rt.isValidDocument()||(K=K.add(it))}))})).next((()=>y.localDocuments.getOverlayedDocuments(j,B))).next((G=>{R=G;const it=[];for(const rt of v){const ct=j2(rt,R.get(rt.key).overlayedDocument);ct!=null&&it.push(new ro(rt.key,ct,Ow(ct.value.mapValue),xr.exists(!0)))}return y.mutationQueue.addMutationBatch(j,T,it,v)})).next((G=>{N=G;const it=G.applyToLocalDocumentSet(R,K);return y.documentOverlayCache.saveOverlays(j,G.batchId,it)}))})).then((()=>({batchId:N.batchId,changes:Hw(R)})))})(s.localStore,t);s.sharedClientState.addPendingMutation(l.batchId),(function(m,v,y){let T=m.Vu[m.currentUser.toKey()];T||(T=new qe(se)),T=T.insert(v,y),m.Vu[m.currentUser.toKey()]=T})(s,l.batchId,n),await Qc(s,l.changes),await ud(s.remoteStore)}catch(l){const h=Hg(l,"Failed to persist write");n.reject(h)}}async function wb(r,t){const n=Ft(r);try{const s=await zN(n.localStore,t);t.targetChanges.forEach(((l,h)=>{const m=n.Au.get(h);m&&(_e(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1,22616),l.addedDocuments.size>0?m.hu=!0:l.modifiedDocuments.size>0?_e(m.hu,14607):l.removedDocuments.size>0&&(_e(m.hu,42227),m.hu=!1))})),await Qc(n,s,t)}catch(s){await Eu(s)}}function BE(r,t,n){const s=Ft(r);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const l=[];s.Tu.forEach(((h,m)=>{const v=m.view.va(t);v.snapshot&&l.push(v.snapshot)})),(function(m,v){const y=Ft(m);y.onlineState=v;let T=!1;y.queries.forEach(((S,R)=>{for(const N of R.Sa)N.va(v)&&(T=!0)})),T&&qg(y)})(s.eventManager,t),l.length&&s.Pu.H_(l),s.onlineState=t,s.isPrimaryClient&&s.sharedClientState.setOnlineState(t)}}async function NO(r,t,n){const s=Ft(r);s.sharedClientState.updateQueryState(t,"rejected",n);const l=s.Au.get(t),h=l&&l.key;if(h){let m=new qe(Mt.comparator);m=m.insert(h,qn.newNoDocument(h,jt.min()));const v=ae().add(h),y=new ad(jt.min(),new Map,new qe(se),m,v);await wb(s,y),s.du=s.du.remove(h),s.Au.delete(t),Gg(s)}else await Fp(s.localStore,t,!1).then((()=>Kp(s,t,n))).catch(Eu)}async function OO(r,t){const n=Ft(r),s=t.batch.batchId;try{const l=await UN(n.localStore,t);Sb(n,s,null),bb(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await Qc(n,l)}catch(l){await Eu(l)}}async function LO(r,t,n){const s=Ft(r);try{const l=await(function(m,v){const y=Ft(m);return y.persistence.runTransaction("Reject batch","readwrite-primary",(T=>{let S;return y.mutationQueue.lookupMutationBatch(T,v).next((R=>(_e(R!==null,37113),S=R.keys(),y.mutationQueue.removeMutationBatch(T,R)))).next((()=>y.mutationQueue.performConsistencyCheck(T))).next((()=>y.documentOverlayCache.removeOverlaysForBatchId(T,S,v))).next((()=>y.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(T,S))).next((()=>y.localDocuments.getDocuments(T,S)))}))})(s.localStore,t);Sb(s,t,n),bb(s,t),s.sharedClientState.updateMutationState(t,"rejected",n),await Qc(s,l)}catch(l){await Eu(l)}}function bb(r,t){(r.mu.get(t)||[]).forEach((n=>{n.resolve()})),r.mu.delete(t)}function Sb(r,t,n){const s=Ft(r);let l=s.Vu[s.currentUser.toKey()];if(l){const h=l.get(t);h&&(n?h.reject(n):h.resolve(),l=l.remove(t)),s.Vu[s.currentUser.toKey()]=l}}function Kp(r,t,n=null){r.sharedClientState.removeLocalQueryTarget(t);for(const s of r.Iu.get(t))r.Tu.delete(s),n&&r.Pu.yu(s,n);r.Iu.delete(t),r.isPrimaryClient&&r.Ru.jr(t).forEach((s=>{r.Ru.containsKey(s)||Ab(r,s)}))}function Ab(r,t){r.Eu.delete(t.path.canonicalString());const n=r.du.get(t);n!==null&&(Vg(r.remoteStore,n),r.du=r.du.remove(t),r.Au.delete(n),Gg(r))}function jE(r,t,n){for(const s of n)s instanceof vb?(r.Ru.addReference(s.key,t),PO(r,s)):s instanceof Tb?(Rt(Fg,"Document no longer in limbo: "+s.key),r.Ru.removeReference(s.key,t),r.Ru.containsKey(s.key)||Ab(r,s.key)):Ut(19791,{wu:s})}function PO(r,t){const n=t.key,s=n.path.canonicalString();r.du.get(n)||r.Eu.has(s)||(Rt(Fg,"New document in limbo: "+n),r.Eu.add(s),Gg(r))}function Gg(r){for(;r.Eu.size>0&&r.du.size<r.maxConcurrentLimboResolutions;){const t=r.Eu.values().next().value;r.Eu.delete(t);const n=new Mt(Ne.fromString(t)),s=r.fu.next();r.Au.set(s,new wO(n)),r.du=r.du.insert(n,s),db(r.remoteStore,new qa(as(Rg(n.path)),s,"TargetPurposeLimboResolution",Jf.ce))}}async function Qc(r,t,n){const s=Ft(r),l=[],h=[],m=[];s.Tu.isEmpty()||(s.Tu.forEach(((v,y)=>{m.push(s.pu(y,t,n).then((T=>{if((T||n)&&s.isPrimaryClient){const S=T?!T.fromCache:n?.targetChanges.get(y.targetId)?.current;s.sharedClientState.updateQueryState(y.targetId,S?"current":"not-current")}if(T){l.push(T);const S=Dg.As(y.targetId,T);h.push(S)}})))})),await Promise.all(m),s.Pu.H_(l),await(async function(y,T){const S=Ft(y);try{await S.persistence.runTransaction("notifyLocalViewChanges","readwrite",(R=>mt.forEach(T,(N=>mt.forEach(N.Es,(j=>S.persistence.referenceDelegate.addReference(R,N.targetId,j))).next((()=>mt.forEach(N.ds,(j=>S.persistence.referenceDelegate.removeReference(R,N.targetId,j)))))))))}catch(R){if(!wu(R))throw R;Rt(kg,"Failed to update sequence numbers: "+R)}for(const R of T){const N=R.targetId;if(!R.fromCache){const j=S.Ms.get(N),B=j.snapshotVersion,K=j.withLastLimboFreeSnapshotVersion(B);S.Ms=S.Ms.insert(N,K)}}})(s.localStore,h))}async function MO(r,t){const n=Ft(r);if(!n.currentUser.isEqual(t)){Rt(Fg,"User change. New user:",t.toKey());const s=await ub(n.localStore,t);n.currentUser=t,(function(h,m){h.mu.forEach((v=>{v.forEach((y=>{y.reject(new At(dt.CANCELLED,m))}))})),h.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,s.removedBatchIds,s.addedBatchIds),await Qc(n,s.Ls)}}function DO(r,t){const n=Ft(r),s=n.Au.get(t);if(s&&s.hu)return ae().add(s.key);{let l=ae();const h=n.Iu.get(t);if(!h)return l;for(const m of h){const v=n.Tu.get(m);l=l.unionWith(v.view.nu)}return l}}function Rb(r){const t=Ft(r);return t.remoteStore.remoteSyncer.applyRemoteEvent=wb.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=DO.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=NO.bind(null,t),t.Pu.H_=_O.bind(null,t.eventManager),t.Pu.yu=yO.bind(null,t.eventManager),t}function kO(r){const t=Ft(r);return t.remoteStore.remoteSyncer.applySuccessfulWrite=OO.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=LO.bind(null,t),t}class Hf{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=od(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,n){return null}Mu(t,n){return null}vu(t){return VN(this.persistence,new MN,t.initialUser,this.serializer)}Cu(t){return new lb(Mg.mi,this.serializer)}Du(t){return new FN}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Hf.provider={build:()=>new Hf};class VO extends Hf{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,n){_e(this.persistence.referenceDelegate instanceof Bf,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new vN(s,t.asyncQueue,n)}Cu(t){const n=this.cacheSizeBytes!==void 0?_i.withCacheSize(this.cacheSizeBytes):_i.DEFAULT;return new lb((s=>Bf.mi(s,n)),this.serializer)}}class Yp{async initialize(t,n){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>BE(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=MO.bind(null,this.syncEngine),await fO(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new mO})()}createDatastore(t){const n=od(t.databaseInfo.databaseId),s=(function(h){return new QN(h)})(t.databaseInfo);return(function(h,m,v,y){return new JN(h,m,v,y)})(t.authCredentials,t.appCheckCredentials,s,n)}createRemoteStore(t){return(function(s,l,h,m,v){return new eO(s,l,h,m,v)})(this.localStore,this.datastore,t.asyncQueue,(n=>BE(this.syncEngine,n,0)),(function(){return ME.v()?new ME:new GN})())}createSyncEngine(t,n){return(function(l,h,m,v,y,T,S){const R=new bO(l,h,m,v,y,T);return S&&(R.gu=!0),R})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const s=Ft(n);Rt(el,"RemoteStore shutting down."),s.Ea.add(5),await Yc(s),s.Aa.shutdown(),s.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Yp.provider={build:()=>new Yp};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UO{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):Qs("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,n){setTimeout((()=>{this.muted||t(n)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eo="FirestoreClient";class zO{constructor(t,n,s,l,h){this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=l,this.user=Hn.UNAUTHENTICATED,this.clientId=Tg.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=h,this.authCredentials.start(s,(async m=>{Rt(eo,"Received user=",m.uid),await this.authCredentialListener(m),this.user=m})),this.appCheckCredentials.start(s,(m=>(Rt(eo,"Received new app check token=",m),this.appCheckCredentialListener(m,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new Yo;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(n){const s=Hg(n,"Failed to shutdown persistence");t.reject(s)}})),t.promise}}async function vp(r,t){r.asyncQueue.verifyOperationInProgress(),Rt(eo,"Initializing OfflineComponentProvider");const n=r.configuration;await t.initialize(n);let s=n.initialUser;r.setCredentialChangeListener((async l=>{s.isEqual(l)||(await ub(t.localStore,l),s=l)})),t.persistence.setDatabaseDeletedListener((()=>r.terminate())),r._offlineComponents=t}async function HE(r,t){r.asyncQueue.verifyOperationInProgress();const n=await BO(r);Rt(eo,"Initializing OnlineComponentProvider"),await t.initialize(n,r.configuration),r.setCredentialChangeListener((s=>kE(t.remoteStore,s))),r.setAppCheckTokenChangeListener(((s,l)=>kE(t.remoteStore,l))),r._onlineComponents=t}async function BO(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){Rt(eo,"Using user provided OfflineComponentProvider");try{await vp(r,r._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!(function(l){return l.name==="FirebaseError"?l.code===dt.FAILED_PRECONDITION||l.code===dt.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||l.code===22||l.code===20||l.code===11})(n))throw n;uu("Error using user provided cache. Falling back to memory cache: "+n),await vp(r,new Hf)}}else Rt(eo,"Using default OfflineComponentProvider"),await vp(r,new VO(void 0));return r._offlineComponents}async function Cb(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(Rt(eo,"Using user provided OnlineComponentProvider"),await HE(r,r._uninitializedComponentsProvider._online)):(Rt(eo,"Using default OnlineComponentProvider"),await HE(r,new Yp))),r._onlineComponents}function jO(r){return Cb(r).then((t=>t.syncEngine))}async function qE(r){const t=await Cb(r),n=t.eventManager;return n.onListen=SO.bind(null,t.syncEngine),n.onUnlisten=CO.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=AO.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=IO.bind(null,t.syncEngine),n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ib(r){const t={};return r.timeoutSeconds!==void 0&&(t.timeoutSeconds=r.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FE=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xb="firestore.googleapis.com",GE=!0;class ZE{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new At(dt.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=xb,this.ssl=GE}else this.host=t.host,this.ssl=t.ssl??GE;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=ob;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<_N)throw new At(dt.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}e2("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Ib(t.experimentalLongPollingOptions??{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new At(dt.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new At(dt.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new At(dt.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(function(s,l){return s.timeoutSeconds===l.timeoutSeconds})(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class cd{constructor(t,n,s,l){this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=s,this._app=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new ZE({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new At(dt.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new At(dt.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new ZE(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new Gx;switch(s.type){case"firstParty":return new Qx(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new At(dt.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const s=FE.get(n);s&&(Rt("ComponentProvider","Removing Datastore"),FE.delete(n),s.terminate())})(this),Promise.resolve()}}function HO(r,t,n,s={}){r=Ka(r,cd);const l=no(t),h=r._getSettings(),m={...h,emulatorOptions:r._getEmulatorOptions()},v=`${t}:${n}`;l&&(rg(`https://${v}`),sg("Firestore",!0)),h.host!==xb&&h.host!==v&&uu("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const y={...h,host:v,ssl:l,emulatorOptions:s};if(!Zs(y,m)&&(r._setSettings(y),s.mockUserToken)){let T,S;if(typeof s.mockUserToken=="string")T=s.mockUserToken,S=Hn.MOCK_USER;else{T=N0(s.mockUserToken,r._app?.options.projectId);const R=s.mockUserToken.sub||s.mockUserToken.user_id;if(!R)throw new At(dt.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");S=new Hn(R)}r._authCredentials=new Zx(new vw(T,S))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ll{constructor(t,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=t}withConverter(t){return new ll(this.firestore,t,this._query)}}class mn{constructor(t,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ya(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new mn(this.firestore,t,this._key)}toJSON(){return{type:mn._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,n,s){if(Gc(n,mn._jsonSchema))return new mn(t,s||null,new Mt(Ne.fromString(n.referencePath)))}}mn._jsonSchemaVersion="firestore/documentReference/1.0",mn._jsonSchema={type:dn("string",mn._jsonSchemaVersion),referencePath:dn("string")};class Ya extends ll{constructor(t,n,s){super(t,n,Rg(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new mn(this.firestore,null,new Mt(t))}withConverter(t){return new Ya(this.firestore,t,this._path)}}function hd(r,t,...n){if(r=He(r),Tw("collection","path",t),r instanceof cd){const s=Ne.fromString(t,...n);return rE(s),new Ya(r,null,s)}{if(!(r instanceof mn||r instanceof Ya))throw new At(dt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(Ne.fromString(t,...n));return rE(s),new Ya(r.firestore,null,s)}}function Qo(r,t,...n){if(r=He(r),arguments.length===1&&(t=Tg.newId()),Tw("doc","path",t),r instanceof cd){const s=Ne.fromString(t,...n);return iE(s),new mn(r,null,new Mt(s))}{if(!(r instanceof mn||r instanceof Ya))throw new At(dt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(Ne.fromString(t,...n));return iE(s),new mn(r.firestore,r instanceof Ya?r.converter:null,new Mt(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KE="AsyncQueue";class YE{constructor(t=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new hb(this,"async_queue_retry"),this._c=()=>{const s=yp();s&&Rt(KE,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=t;const n=yp();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const n=yp();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new Yo;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(t().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Xu.push(t),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(t){if(!wu(t))throw t;Rt(KE,"Operation failed with retryable error: "+t)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(t){const n=this.ac.then((()=>(this.rc=!0,t().catch((s=>{throw this.nc=s,this.rc=!1,Qs("INTERNAL UNHANDLED ERROR: ",QE(s)),s})).then((s=>(this.rc=!1,s))))));return this.ac=n,n}enqueueAfterDelay(t,n,s){this.uc(),this.oc.indexOf(t)>-1&&(n=0);const l=jg.createAndSchedule(this,t,n,s,(h=>this.hc(h)));return this.tc.push(l),l}uc(){this.nc&&Ut(47125,{Pc:QE(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const n of this.tc)if(n.timerId===t)return!0;return!1}Ec(t){return this.Tc().then((()=>{this.tc.sort(((n,s)=>n.targetTimeMs-s.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),t!=="all"&&n.timerId===t)break;return this.Tc()}))}dc(t){this.oc.push(t)}hc(t){const n=this.tc.indexOf(t);this.tc.splice(n,1)}}function QE(r){let t=r.message||"";return r.stack&&(t=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $E(r){return(function(n,s){if(typeof n!="object"||n===null)return!1;const l=n;for(const h of s)if(h in l&&typeof l[h]=="function")return!0;return!1})(r,["next","error","complete"])}class _u extends cd{constructor(t,n,s,l){super(t,n,s,l),this.type="firestore",this._queue=new YE,this._persistenceKey=l?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new YE(t),this._firestoreClient=void 0,await t}}}function qO(r,t){const n=typeof r=="object"?r:lg(),s=typeof r=="string"?r:Df,l=Yf(n,"firestore").getImmediate({identifier:s});if(!l._initialized){const h=C0("firestore");h&&HO(l,...h)}return l}function Nb(r){if(r._terminated)throw new At(dt.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||FO(r),r._firestoreClient}function FO(r){const t=r._freezeSettings(),n=(function(l,h,m,v){return new f2(l,h,m,v.host,v.ssl,v.experimentalForceLongPolling,v.experimentalAutoDetectLongPolling,Ib(v.experimentalLongPollingOptions),v.useFetchStreams,v.isUsingEmulator)})(r._databaseId,r._app?.options.appId||"",r._persistenceKey,t);r._componentsProvider||t.localCache?._offlineComponentProvider&&t.localCache?._onlineComponentProvider&&(r._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),r._firestoreClient=new zO(r._authCredentials,r._appCheckCredentials,r._queue,n,r._componentsProvider&&(function(l){const h=l?._online.build();return{_offline:l?._offline.build(h),_online:h}})(r._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ur{constructor(t){this._byteString=t}static fromBase64String(t){try{return new ur(Pn.fromBase64String(t))}catch(n){throw new At(dt.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(t){return new ur(Pn.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:ur._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(Gc(t,ur._jsonSchema))return ur.fromBase64String(t.bytes)}}ur._jsonSchemaVersion="firestore/bytes/1.0",ur._jsonSchema={type:dn("string",ur._jsonSchemaVersion),bytes:dn("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fd{constructor(...t){for(let n=0;n<t.length;++n)if(t[n].length===0)throw new At(dt.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ln(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Au{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ls{constructor(t,n){if(!isFinite(t)||t<-90||t>90)throw new At(dt.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new At(dt.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return se(this._lat,t._lat)||se(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:ls._jsonSchemaVersion}}static fromJSON(t){if(Gc(t,ls._jsonSchema))return new ls(t.latitude,t.longitude)}}ls._jsonSchemaVersion="firestore/geoPoint/1.0",ls._jsonSchema={type:dn("string",ls._jsonSchemaVersion),latitude:dn("number"),longitude:dn("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class us{constructor(t){this._values=(t||[]).map((n=>n))}toArray(){return this._values.map((t=>t))}isEqual(t){return(function(s,l){if(s.length!==l.length)return!1;for(let h=0;h<s.length;++h)if(s[h]!==l[h])return!1;return!0})(this._values,t._values)}toJSON(){return{type:us._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(Gc(t,us._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every((n=>typeof n=="number")))return new us(t.vectorValues);throw new At(dt.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}us._jsonSchemaVersion="firestore/vectorValue/1.0",us._jsonSchema={type:dn("string",us._jsonSchemaVersion),vectorValues:dn("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GO=/^__.*__$/;class ZO{constructor(t,n,s){this.data=t,this.fieldMask=n,this.fieldTransforms=s}toMutation(t,n){return this.fieldMask!==null?new ro(t,this.data,this.fieldMask,n,this.fieldTransforms):new Zc(t,this.data,n,this.fieldTransforms)}}class Ob{constructor(t,n,s){this.data=t,this.fieldMask=n,this.fieldTransforms=s}toMutation(t,n){return new ro(t,this.data,this.fieldMask,n,this.fieldTransforms)}}function Lb(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ut(40011,{Ac:r})}}class dd{constructor(t,n,s,l,h,m){this.settings=t,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=l,h===void 0&&this.Rc(),this.fieldTransforms=h||[],this.fieldMask=m||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(t){return new dd({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(t){const n=this.path?.child(t),s=this.Vc({path:n,fc:!1});return s.gc(t),s}yc(t){const n=this.path?.child(t),s=this.Vc({path:n,fc:!1});return s.Rc(),s}wc(t){return this.Vc({path:void 0,fc:!0})}Sc(t){return qf(t,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(t){return this.fieldMask.find((n=>t.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>t.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let t=0;t<this.path.length;t++)this.gc(this.path.get(t))}gc(t){if(t.length===0)throw this.Sc("Document fields must not be empty");if(Lb(this.Ac)&&GO.test(t))throw this.Sc('Document fields cannot begin and end with "__"')}}class KO{constructor(t,n,s){this.databaseId=t,this.ignoreUndefinedProperties=n,this.serializer=s||od(t)}Cc(t,n,s,l=!1){return new dd({Ac:t,methodName:n,Dc:s,path:Ln.emptyPath(),fc:!1,bc:l},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Zg(r){const t=r._freezeSettings(),n=od(r._databaseId);return new KO(r._databaseId,!!t.ignoreUndefinedProperties,n)}function YO(r,t,n,s,l,h={}){const m=r.Cc(h.merge||h.mergeFields?2:0,t,n,l);$g("Data must be an object, but it was:",m,s);const v=Mb(s,m);let y,T;if(h.merge)y=new Ui(m.fieldMask),T=m.fieldTransforms;else if(h.mergeFields){const S=[];for(const R of h.mergeFields){const N=Qp(t,R,n);if(!m.contains(N))throw new At(dt.INVALID_ARGUMENT,`Field '${N}' is specified in your field mask but missing from your input data.`);kb(S,N)||S.push(N)}y=new Ui(S),T=m.fieldTransforms.filter((R=>y.covers(R.field)))}else y=null,T=m.fieldTransforms;return new ZO(new yi(v),y,T)}class md extends Au{_toFieldTransform(t){if(t.Ac!==2)throw t.Ac===1?t.Sc(`${this._methodName}() can only appear at the top level of your update data`):t.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof md}}function Pb(r,t,n){return new dd({Ac:3,Dc:t.settings.Dc,methodName:r._methodName,fc:n},t.databaseId,t.serializer,t.ignoreUndefinedProperties)}class Kg extends Au{_toFieldTransform(t){return new Ig(t.path,new Dc)}isEqual(t){return t instanceof Kg}}class Yg extends Au{constructor(t,n){super(t),this.vc=n}_toFieldTransform(t){const n=Pb(this,t,!0),s=this.vc.map((h=>ul(h,n))),l=new du(s);return new Ig(t.path,l)}isEqual(t){return t instanceof Yg&&Zs(this.vc,t.vc)}}class Qg extends Au{constructor(t,n){super(t),this.vc=n}_toFieldTransform(t){const n=Pb(this,t,!0),s=this.vc.map((h=>ul(h,n))),l=new mu(s);return new Ig(t.path,l)}isEqual(t){return t instanceof Qg&&Zs(this.vc,t.vc)}}function QO(r,t,n,s){const l=r.Cc(1,t,n);$g("Data must be an object, but it was:",l,s);const h=[],m=yi.empty();io(s,((y,T)=>{const S=Xg(t,y,n);T=He(T);const R=l.yc(S);if(T instanceof md)h.push(S);else{const N=ul(T,R);N!=null&&(h.push(S),m.set(S,N))}}));const v=new Ui(h);return new Ob(m,v,l.fieldTransforms)}function $O(r,t,n,s,l,h){const m=r.Cc(1,t,n),v=[Qp(t,s,n)],y=[l];if(h.length%2!=0)throw new At(dt.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let N=0;N<h.length;N+=2)v.push(Qp(t,h[N])),y.push(h[N+1]);const T=[],S=yi.empty();for(let N=v.length-1;N>=0;--N)if(!kb(T,v[N])){const j=v[N];let B=y[N];B=He(B);const K=m.yc(j);if(B instanceof md)T.push(j);else{const G=ul(B,K);G!=null&&(T.push(j),S.set(j,G))}}const R=new Ui(T);return new Ob(S,R,m.fieldTransforms)}function XO(r,t,n,s=!1){return ul(n,r.Cc(s?4:3,t))}function ul(r,t){if(Db(r=He(r)))return $g("Unsupported field value:",t,r),Mb(r,t);if(r instanceof Au)return(function(s,l){if(!Lb(l.Ac))throw l.Sc(`${s._methodName}() can only be used with update() and set()`);if(!l.path)throw l.Sc(`${s._methodName}() is not currently supported inside arrays`);const h=s._toFieldTransform(l);h&&l.fieldTransforms.push(h)})(r,t),null;if(r===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),r instanceof Array){if(t.settings.fc&&t.Ac!==4)throw t.Sc("Nested arrays are not supported");return(function(s,l){const h=[];let m=0;for(const v of s){let y=ul(v,l.wc(m));y==null&&(y={nullValue:"NULL_VALUE"}),h.push(y),m++}return{arrayValue:{values:h}}})(r,t)}return(function(s,l){if((s=He(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return D2(l.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const h=De.fromDate(s);return{timestampValue:zf(l.serializer,h)}}if(s instanceof De){const h=new De(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:zf(l.serializer,h)}}if(s instanceof ls)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof ur)return{bytesValue:tb(l.serializer,s._byteString)};if(s instanceof mn){const h=l.databaseId,m=s.firestore._databaseId;if(!m.isEqual(h))throw l.Sc(`Document reference is for database ${m.projectId}/${m.database} but should be for database ${h.projectId}/${h.database}`);return{referenceValue:Lg(s.firestore._databaseId||l.databaseId,s._key.path)}}if(s instanceof us)return(function(m,v){return{mapValue:{fields:{[xw]:{stringValue:Nw},[kf]:{arrayValue:{values:m.toArray().map((T=>{if(typeof T!="number")throw v.Sc("VectorValues must only contain numeric values.");return Cg(v.serializer,T)}))}}}}}})(s,l);throw l.Sc(`Unsupported field value: ${Wf(s)}`)})(r,t)}function Mb(r,t){const n={};return bw(r)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):io(r,((s,l)=>{const h=ul(l,t.mc(s));h!=null&&(n[s]=h)})),{mapValue:{fields:n}}}function Db(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof De||r instanceof ls||r instanceof ur||r instanceof mn||r instanceof Au||r instanceof us)}function $g(r,t,n){if(!Db(n)||!Ew(n)){const s=Wf(n);throw s==="an object"?t.Sc(r+" a custom object"):t.Sc(r+" "+s)}}function Qp(r,t,n){if((t=He(t))instanceof fd)return t._internalPath;if(typeof t=="string")return Xg(r,t);throw qf("Field path arguments must be of type string or ",r,!1,void 0,n)}const WO=new RegExp("[~\\*/\\[\\]]");function Xg(r,t,n){if(t.search(WO)>=0)throw qf(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,n);try{return new fd(...t.split("."))._internalPath}catch{throw qf(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,n)}}function qf(r,t,n,s,l){const h=s&&!s.isEmpty(),m=l!==void 0;let v=`Function ${t}() called with invalid data`;n&&(v+=" (via `toFirestore()`)"),v+=". ";let y="";return(h||m)&&(y+=" (found",h&&(y+=` in field ${s}`),m&&(y+=` in document ${l}`),y+=")"),new At(dt.INVALID_ARGUMENT,v+r+y)}function kb(r,t){return r.some((n=>n.isEqual(t)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vb{constructor(t,n,s,l,h){this._firestore=t,this._userDataWriter=n,this._key=s,this._document=l,this._converter=h}get id(){return this._key.path.lastSegment()}get ref(){return new mn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new JO(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const n=this._document.data.field(pd("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n)}}}class JO extends Vb{data(){return super.data()}}function pd(r,t){return typeof t=="string"?Xg(r,t):t instanceof fd?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tL(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new At(dt.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Wg{}class Ub extends Wg{}function Jg(r,t,...n){let s=[];t instanceof Wg&&s.push(t),s=s.concat(n),(function(h){const m=h.filter((y=>y instanceof t_)).length,v=h.filter((y=>y instanceof gd)).length;if(m>1||m>0&&v>0)throw new At(dt.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(s);for(const l of s)r=l._apply(r);return r}class gd extends Ub{constructor(t,n,s){super(),this._field=t,this._op=n,this._value=s,this.type="where"}static _create(t,n,s){return new gd(t,n,s)}_apply(t){const n=this._parse(t);return Bb(t._query,n),new ll(t.firestore,t.converter,Up(t._query,n))}_parse(t){const n=Zg(t.firestore);return(function(h,m,v,y,T,S,R){let N;if(T.isKeyField()){if(S==="array-contains"||S==="array-contains-any")throw new At(dt.INVALID_ARGUMENT,`Invalid Query. You can't perform '${S}' queries on documentId().`);if(S==="in"||S==="not-in"){WE(R,S);const B=[];for(const K of R)B.push(XE(y,h,K));N={arrayValue:{values:B}}}else N=XE(y,h,R)}else S!=="in"&&S!=="not-in"&&S!=="array-contains-any"||WE(R,S),N=XO(v,m,R,S==="in"||S==="not-in");return fn.create(T,S,N)})(t._query,"where",n,t.firestore._databaseId,this._field,this._op,this._value)}}function zb(r,t,n){const s=t,l=pd("where",r);return gd._create(l,s,n)}class t_ extends Wg{constructor(t,n){super(),this.type=t,this._queryConstraints=n}static _create(t,n){return new t_(t,n)}_parse(t){const n=this._queryConstraints.map((s=>s._parse(t))).filter((s=>s.getFilters().length>0));return n.length===1?n[0]:Or.create(n,this._getOperator())}_apply(t){const n=this._parse(t);return n.getFilters().length===0?t:((function(l,h){let m=l;const v=h.getFlattenedFilters();for(const y of v)Bb(m,y),m=Up(m,y)})(t._query,n),new ll(t.firestore,t.converter,Up(t._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class e_ extends Ub{constructor(t,n){super(),this._field=t,this._direction=n,this.type="orderBy"}static _create(t,n){return new e_(t,n)}_apply(t){const n=(function(l,h,m){if(l.startAt!==null)throw new At(dt.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(l.endAt!==null)throw new At(dt.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Mc(h,m)})(t._query,this._field,this._direction);return new ll(t.firestore,t.converter,(function(l,h){const m=l.explicitOrderBy.concat([h]);return new bu(l.path,l.collectionGroup,m,l.filters.slice(),l.limit,l.limitType,l.startAt,l.endAt)})(t._query,n))}}function eL(r,t="asc"){const n=t,s=pd("orderBy",r);return e_._create(s,n)}function XE(r,t,n){if(typeof(n=He(n))=="string"){if(n==="")throw new At(dt.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Uw(t)&&n.indexOf("/")!==-1)throw new At(dt.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const s=t.path.child(Ne.fromString(n));if(!Mt.isDocumentKey(s))throw new At(dt.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return fE(r,new Mt(s))}if(n instanceof mn)return fE(r,n._key);throw new At(dt.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Wf(n)}.`)}function WE(r,t){if(!Array.isArray(r)||r.length===0)throw new At(dt.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function Bb(r,t){const n=(function(l,h){for(const m of l)for(const v of m.getFlattenedFilters())if(h.indexOf(v.op)>=0)return v.op;return null})(r.filters,(function(l){switch(l){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(t.op));if(n!==null)throw n===t.op?new At(dt.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new At(dt.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${n.toString()}' filters.`)}class nL{convertValue(t,n="none"){switch(Ja(t)){case 0:return null;case 1:return t.booleanValue;case 2:return rn(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,n);case 5:return t.stringValue;case 6:return this.convertBytes(Wa(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,n);case 11:return this.convertObject(t.mapValue,n);case 10:return this.convertVectorValue(t.mapValue);default:throw Ut(62114,{value:t})}}convertObject(t,n){return this.convertObjectMap(t.fields,n)}convertObjectMap(t,n="none"){const s={};return io(t,((l,h)=>{s[l]=this.convertValue(h,n)})),s}convertVectorValue(t){const n=t.fields?.[kf].arrayValue?.values?.map((s=>rn(s.doubleValue)));return new us(n)}convertGeoPoint(t){return new ls(rn(t.latitude),rn(t.longitude))}convertArray(t,n){return(t.values||[]).map((s=>this.convertValue(s,n)))}convertServerTimestamp(t,n){switch(n){case"previous":const s=ed(t);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(Oc(t));default:return null}}convertTimestamp(t){const n=Xa(t);return new De(n.seconds,n.nanos)}convertDocumentKey(t,n){const s=Ne.fromString(t);_e(ab(s),9688,{name:t});const l=new Lc(s.get(1),s.get(3)),h=new Mt(s.popFirst(5));return l.isEqual(n)||Qs(`Document ${h} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),h}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iL(r,t,n){let s;return s=r?r.toFirestore(t):t,s}class yc{constructor(t,n){this.hasPendingWrites=t,this.fromCache=n}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class $o extends Vb{constructor(t,n,s,l,h,m){super(t,n,s,l,m),this._firestore=t,this._firestoreImpl=t,this.metadata=h}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const n=new bf(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,n={}){if(this._document){const s=this._document.data.field(pd("DocumentSnapshot.get",t));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new At(dt.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,n={};return n.type=$o._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}$o._jsonSchemaVersion="firestore/documentSnapshot/1.0",$o._jsonSchema={type:dn("string",$o._jsonSchemaVersion),bundleSource:dn("string","DocumentSnapshot"),bundleName:dn("string"),bundle:dn("string")};class bf extends $o{data(t={}){return super.data(t)}}class ou{constructor(t,n,s,l){this._firestore=t,this._userDataWriter=n,this._snapshot=l,this.metadata=new yc(l.hasPendingWrites,l.fromCache),this.query=s}get docs(){const t=[];return this.forEach((n=>t.push(n))),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,n){this._snapshot.docs.forEach((s=>{t.call(n,new bf(this._firestore,this._userDataWriter,s.key,s,new yc(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const n=!!t.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new At(dt.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(l,h){if(l._snapshot.oldDocs.isEmpty()){let m=0;return l._snapshot.docChanges.map((v=>{const y=new bf(l._firestore,l._userDataWriter,v.doc.key,v.doc,new yc(l._snapshot.mutatedKeys.has(v.doc.key),l._snapshot.fromCache),l.query.converter);return v.doc,{type:"added",doc:y,oldIndex:-1,newIndex:m++}}))}{let m=l._snapshot.oldDocs;return l._snapshot.docChanges.filter((v=>h||v.type!==3)).map((v=>{const y=new bf(l._firestore,l._userDataWriter,v.doc.key,v.doc,new yc(l._snapshot.mutatedKeys.has(v.doc.key),l._snapshot.fromCache),l.query.converter);let T=-1,S=-1;return v.type!==0&&(T=m.indexOf(v.doc.key),m=m.delete(v.doc.key)),v.type!==1&&(m=m.add(v.doc),S=m.indexOf(v.doc.key)),{type:rL(v.type),doc:y,oldIndex:T,newIndex:S}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new At(dt.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=ou._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=Tg.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],s=[],l=[];return this.docs.forEach((h=>{h._document!==null&&(n.push(h._document),s.push(this._userDataWriter.convertObjectMap(h._document.data.value.mapValue.fields,"previous")),l.push(h.ref.path))})),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function rL(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ut(61501,{type:r})}}ou._jsonSchemaVersion="firestore/querySnapshot/1.0",ou._jsonSchema={type:dn("string",ou._jsonSchemaVersion),bundleSource:dn("string","QuerySnapshot"),bundleName:dn("string"),bundle:dn("string")};class jb extends nL{constructor(t){super(),this.firestore=t}convertBytes(t){return new ur(t)}convertReference(t){const n=this.convertDocumentKey(t,this.firestore._databaseId);return new mn(this.firestore,null,n)}}function kc(r,t,n,...s){r=Ka(r,mn);const l=Ka(r.firestore,_u),h=Zg(l);let m;return m=typeof(t=He(t))=="string"||t instanceof fd?$O(h,"updateDoc",r._key,t,n,s):QO(h,"updateDoc",r._key,t),i_(l,[m.toMutation(r._key,xr.exists(!0))])}function sL(r){return i_(Ka(r.firestore,_u),[new xg(r._key,xr.none())])}function aL(r,t){const n=Ka(r.firestore,_u),s=Qo(r),l=iL(r.converter,t);return i_(n,[YO(Zg(r.firestore),"addDoc",s._key,l,r.converter!==null,{}).toMutation(s._key,xr.exists(!1))]).then((()=>s))}function n_(r,...t){r=He(r);let n={includeMetadataChanges:!1,source:"default"},s=0;typeof t[s]!="object"||$E(t[s])||(n=t[s++]);const l={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if($E(t[s])){const y=t[s];t[s]=y.next?.bind(y),t[s+1]=y.error?.bind(y),t[s+2]=y.complete?.bind(y)}let h,m,v;if(r instanceof mn)m=Ka(r.firestore,_u),v=Rg(r._key.path),h={next:y=>{t[s]&&t[s](oL(m,r,y))},error:t[s+1],complete:t[s+2]};else{const y=Ka(r,ll);m=Ka(y.firestore,_u),v=y._query;const T=new jb(m);h={next:S=>{t[s]&&t[s](new ou(m,T,y,S))},error:t[s+1],complete:t[s+2]},tL(r._query)}return(function(T,S,R,N){const j=new UO(N),B=new vO(S,j,R);return T.asyncQueue.enqueueAndForget((async()=>pO(await qE(T),B))),()=>{j.Nu(),T.asyncQueue.enqueueAndForget((async()=>gO(await qE(T),B)))}})(Nb(m),v,l,h)}function i_(r,t){return(function(s,l){const h=new Yo;return s.asyncQueue.enqueueAndForget((async()=>xO(await jO(s),l,h))),h.promise})(Nb(r),t)}function oL(r,t,n){const s=n.docs.get(t._key),l=new jb(r);return new $o(r,l,t._key,s,new yc(n.hasPendingWrites,n.fromCache),t.converter)}function lL(){return new Kg("serverTimestamp")}function Ff(...r){return new Yg("arrayUnion",r)}function Hb(...r){return new Qg("arrayRemove",r)}(function(t,n=!0){(function(l){Tu=l})(sl),Wo(new Qa("firestore",((s,{instanceIdentifier:l,options:h})=>{const m=s.getProvider("app").getImmediate(),v=new _u(new Kx(s.getProvider("auth-internal")),new $x(m,s.getProvider("app-check-internal")),(function(T,S){if(!Object.prototype.hasOwnProperty.apply(T.options,["projectId"]))throw new At(dt.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Lc(T.options.projectId,S)})(m,l),m);return h={useFetchStreams:n,...h},v._setSettings(h),v}),"PUBLIC").setMultipleInstances(!0)),rs(JT,tE,t),rs(JT,tE,"esm2020")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qb="firebasestorage.googleapis.com",Fb="storageBucket",uL=120*1e3,cL=600*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class We extends ds{constructor(t,n,s=0){super(Tp(t),`Firebase Storage: ${n} (${Tp(t)})`),this.status_=s,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,We.prototype)}get status(){return this.status_}set status(t){this.status_=t}_codeEquals(t){return Tp(t)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(t){this.customData.serverResponse=t,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Xe;(function(r){r.UNKNOWN="unknown",r.OBJECT_NOT_FOUND="object-not-found",r.BUCKET_NOT_FOUND="bucket-not-found",r.PROJECT_NOT_FOUND="project-not-found",r.QUOTA_EXCEEDED="quota-exceeded",r.UNAUTHENTICATED="unauthenticated",r.UNAUTHORIZED="unauthorized",r.UNAUTHORIZED_APP="unauthorized-app",r.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",r.INVALID_CHECKSUM="invalid-checksum",r.CANCELED="canceled",r.INVALID_EVENT_NAME="invalid-event-name",r.INVALID_URL="invalid-url",r.INVALID_DEFAULT_BUCKET="invalid-default-bucket",r.NO_DEFAULT_BUCKET="no-default-bucket",r.CANNOT_SLICE_BLOB="cannot-slice-blob",r.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",r.NO_DOWNLOAD_URL="no-download-url",r.INVALID_ARGUMENT="invalid-argument",r.INVALID_ARGUMENT_COUNT="invalid-argument-count",r.APP_DELETED="app-deleted",r.INVALID_ROOT_OPERATION="invalid-root-operation",r.INVALID_FORMAT="invalid-format",r.INTERNAL_ERROR="internal-error",r.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Xe||(Xe={}));function Tp(r){return"storage/"+r}function r_(){const r="An unknown error occurred, please check the error payload for server response.";return new We(Xe.UNKNOWN,r)}function hL(r){return new We(Xe.OBJECT_NOT_FOUND,"Object '"+r+"' does not exist.")}function fL(r){return new We(Xe.QUOTA_EXCEEDED,"Quota for bucket '"+r+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function dL(){const r="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new We(Xe.UNAUTHENTICATED,r)}function mL(){return new We(Xe.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function pL(r){return new We(Xe.UNAUTHORIZED,"User does not have permission to access '"+r+"'.")}function gL(){return new We(Xe.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function _L(){return new We(Xe.CANCELED,"User canceled the upload/download.")}function yL(r){return new We(Xe.INVALID_URL,"Invalid URL '"+r+"'.")}function vL(r){return new We(Xe.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+r+"'.")}function TL(){return new We(Xe.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+Fb+"' property when initializing the app?")}function EL(){return new We(Xe.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function wL(){return new We(Xe.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function bL(r){return new We(Xe.UNSUPPORTED_ENVIRONMENT,`${r} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function $p(r){return new We(Xe.INVALID_ARGUMENT,r)}function Gb(){return new We(Xe.APP_DELETED,"The Firebase app was deleted.")}function SL(r){return new We(Xe.INVALID_ROOT_OPERATION,"The operation '"+r+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Rc(r,t){return new We(Xe.INVALID_FORMAT,"String does not match format '"+r+"': "+t)}function mc(r){throw new We(Xe.INTERNAL_ERROR,"Internal error: "+r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zi{constructor(t,n){this.bucket=t,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o/"+t(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(t,n){let s;try{s=zi.makeFromUrl(t,n)}catch{return new zi(t,"")}if(s.path==="")return s;throw vL(t)}static makeFromUrl(t,n){let s=null;const l="([A-Za-z0-9.\\-_]+)";function h(Ct){Ct.path.charAt(Ct.path.length-1)==="/"&&(Ct.path_=Ct.path_.slice(0,-1))}const m="(/(.*))?$",v=new RegExp("^gs://"+l+m,"i"),y={bucket:1,path:3};function T(Ct){Ct.path_=decodeURIComponent(Ct.path)}const S="v[A-Za-z0-9_]+",R=n.replace(/[.]/g,"\\."),N="(/([^?#]*).*)?$",j=new RegExp(`^https?://${R}/${S}/b/${l}/o${N}`,"i"),B={bucket:1,path:3},K=n===qb?"(?:storage.googleapis.com|storage.cloud.google.com)":n,G="([^?#]*)",it=new RegExp(`^https?://${K}/${l}/${G}`,"i"),ct=[{regex:v,indices:y,postModify:h},{regex:j,indices:B,postModify:T},{regex:it,indices:{bucket:1,path:2},postModify:T}];for(let Ct=0;Ct<ct.length;Ct++){const Lt=ct[Ct],kt=Lt.regex.exec(t);if(kt){const D=kt[Lt.indices.bucket];let O=kt[Lt.indices.path];O||(O=""),s=new zi(D,O),Lt.postModify(s);break}}if(s==null)throw yL(t);return s}}class AL{constructor(t){this.promise_=Promise.reject(t)}getPromise(){return this.promise_}cancel(t=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RL(r,t,n){let s=1,l=null,h=null,m=!1,v=0;function y(){return v===2}let T=!1;function S(...G){T||(T=!0,t.apply(null,G))}function R(G){l=setTimeout(()=>{l=null,r(j,y())},G)}function N(){h&&clearTimeout(h)}function j(G,...it){if(T){N();return}if(G){N(),S.call(null,G,...it);return}if(y()||m){N(),S.call(null,G,...it);return}s<64&&(s*=2);let ct;v===1?(v=2,ct=0):ct=(s+Math.random())*1e3,R(ct)}let B=!1;function K(G){B||(B=!0,N(),!T&&(l!==null?(G||(v=2),clearTimeout(l),R(0)):G||(v=1)))}return R(0),h=setTimeout(()=>{m=!0,K(!0)},n),K}function CL(r){r(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IL(r){return r!==void 0}function xL(r){return typeof r=="object"&&!Array.isArray(r)}function s_(r){return typeof r=="string"||r instanceof String}function JE(r){return a_()&&r instanceof Blob}function a_(){return typeof Blob<"u"}function t0(r,t,n,s){if(s<t)throw $p(`Invalid value for '${r}'. Expected ${t} or greater.`);if(s>n)throw $p(`Invalid value for '${r}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _d(r,t,n){let s=t;return n==null&&(s=`https://${t}`),`${n}://${s}/v0${r}`}function Zb(r){const t=encodeURIComponent;let n="?";for(const s in r)if(r.hasOwnProperty(s)){const l=t(s)+"="+t(r[s]);n=n+l+"&"}return n=n.slice(0,-1),n}var Xo;(function(r){r[r.NO_ERROR=0]="NO_ERROR",r[r.NETWORK_ERROR=1]="NETWORK_ERROR",r[r.ABORT=2]="ABORT"})(Xo||(Xo={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NL(r,t){const n=r>=500&&r<600,l=[408,429].indexOf(r)!==-1,h=t.indexOf(r)!==-1;return n||l||h}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OL{constructor(t,n,s,l,h,m,v,y,T,S,R,N=!0,j=!1){this.url_=t,this.method_=n,this.headers_=s,this.body_=l,this.successCodes_=h,this.additionalRetryCodes_=m,this.callback_=v,this.errorCallback_=y,this.timeout_=T,this.progressCallback_=S,this.connectionFactory_=R,this.retry=N,this.isUsingEmulator=j,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((B,K)=>{this.resolve_=B,this.reject_=K,this.start_()})}start_(){const t=(s,l)=>{if(l){s(!1,new cf(!1,null,!0));return}const h=this.connectionFactory_();this.pendingConnection_=h;const m=v=>{const y=v.loaded,T=v.lengthComputable?v.total:-1;this.progressCallback_!==null&&this.progressCallback_(y,T)};this.progressCallback_!==null&&h.addUploadProgressListener(m),h.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&h.removeUploadProgressListener(m),this.pendingConnection_=null;const v=h.getErrorCode()===Xo.NO_ERROR,y=h.getStatus();if(!v||NL(y,this.additionalRetryCodes_)&&this.retry){const S=h.getErrorCode()===Xo.ABORT;s(!1,new cf(!1,null,S));return}const T=this.successCodes_.indexOf(y)!==-1;s(!0,new cf(T,h))})},n=(s,l)=>{const h=this.resolve_,m=this.reject_,v=l.connection;if(l.wasSuccessCode)try{const y=this.callback_(v,v.getResponse());IL(y)?h(y):h()}catch(y){m(y)}else if(v!==null){const y=r_();y.serverResponse=v.getErrorText(),this.errorCallback_?m(this.errorCallback_(v,y)):m(y)}else if(l.canceled){const y=this.appDelete_?Gb():_L();m(y)}else{const y=gL();m(y)}};this.canceled_?n(!1,new cf(!1,null,!0)):this.backoffId_=RL(t,n,this.timeout_)}getPromise(){return this.promise_}cancel(t){this.canceled_=!0,this.appDelete_=t||!1,this.backoffId_!==null&&CL(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class cf{constructor(t,n,s){this.wasSuccessCode=t,this.connection=n,this.canceled=!!s}}function LL(r,t){t!==null&&t.length>0&&(r.Authorization="Firebase "+t)}function PL(r,t){r["X-Firebase-Storage-Version"]="webjs/"+(t??"AppManager")}function ML(r,t){t&&(r["X-Firebase-GMPID"]=t)}function DL(r,t){t!==null&&(r["X-Firebase-AppCheck"]=t)}function kL(r,t,n,s,l,h,m=!0,v=!1){const y=Zb(r.urlParams),T=r.url+y,S=Object.assign({},r.headers);return ML(S,t),LL(S,n),PL(S,h),DL(S,s),new OL(T,r.method,S,r.body,r.successCodes,r.additionalRetryCodes,r.handler,r.errorHandler,r.timeout,r.progressCallback,l,m,v)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VL(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function UL(...r){const t=VL();if(t!==void 0){const n=new t;for(let s=0;s<r.length;s++)n.append(r[s]);return n.getBlob()}else{if(a_())return new Blob(r);throw new We(Xe.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function zL(r,t,n){return r.webkitSlice?r.webkitSlice(t,n):r.mozSlice?r.mozSlice(t,n):r.slice?r.slice(t,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BL(r){if(typeof atob>"u")throw bL("base-64");return atob(r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ns={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class Ep{constructor(t,n){this.data=t,this.contentType=n||null}}function jL(r,t){switch(r){case ns.RAW:return new Ep(Kb(t));case ns.BASE64:case ns.BASE64URL:return new Ep(Yb(r,t));case ns.DATA_URL:return new Ep(qL(t),FL(t))}throw r_()}function Kb(r){const t=[];for(let n=0;n<r.length;n++){let s=r.charCodeAt(n);if(s<=127)t.push(s);else if(s<=2047)t.push(192|s>>6,128|s&63);else if((s&64512)===55296)if(!(n<r.length-1&&(r.charCodeAt(n+1)&64512)===56320))t.push(239,191,189);else{const h=s,m=r.charCodeAt(++n);s=65536|(h&1023)<<10|m&1023,t.push(240|s>>18,128|s>>12&63,128|s>>6&63,128|s&63)}else(s&64512)===56320?t.push(239,191,189):t.push(224|s>>12,128|s>>6&63,128|s&63)}return new Uint8Array(t)}function HL(r){let t;try{t=decodeURIComponent(r)}catch{throw Rc(ns.DATA_URL,"Malformed data URL.")}return Kb(t)}function Yb(r,t){switch(r){case ns.BASE64:{const l=t.indexOf("-")!==-1,h=t.indexOf("_")!==-1;if(l||h)throw Rc(r,"Invalid character '"+(l?"-":"_")+"' found: is it base64url encoded?");break}case ns.BASE64URL:{const l=t.indexOf("+")!==-1,h=t.indexOf("/")!==-1;if(l||h)throw Rc(r,"Invalid character '"+(l?"+":"/")+"' found: is it base64 encoded?");t=t.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=BL(t)}catch(l){throw l.message.includes("polyfill")?l:Rc(r,"Invalid character found")}const s=new Uint8Array(n.length);for(let l=0;l<n.length;l++)s[l]=n.charCodeAt(l);return s}class Qb{constructor(t){this.base64=!1,this.contentType=null;const n=t.match(/^data:([^,]+)?,/);if(n===null)throw Rc(ns.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const s=n[1]||null;s!=null&&(this.base64=GL(s,";base64"),this.contentType=this.base64?s.substring(0,s.length-7):s),this.rest=t.substring(t.indexOf(",")+1)}}function qL(r){const t=new Qb(r);return t.base64?Yb(ns.BASE64,t.rest):HL(t.rest)}function FL(r){return new Qb(r).contentType}function GL(r,t){return r.length>=t.length?r.substring(r.length-t.length)===t:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ha{constructor(t,n){let s=0,l="";JE(t)?(this.data_=t,s=t.size,l=t.type):t instanceof ArrayBuffer?(n?this.data_=new Uint8Array(t):(this.data_=new Uint8Array(t.byteLength),this.data_.set(new Uint8Array(t))),s=this.data_.length):t instanceof Uint8Array&&(n?this.data_=t:(this.data_=new Uint8Array(t.length),this.data_.set(t)),s=t.length),this.size_=s,this.type_=l}size(){return this.size_}type(){return this.type_}slice(t,n){if(JE(this.data_)){const s=this.data_,l=zL(s,t,n);return l===null?null:new Ha(l)}else{const s=new Uint8Array(this.data_.buffer,t,n-t);return new Ha(s,!0)}}static getBlob(...t){if(a_()){const n=t.map(s=>s instanceof Ha?s.data_:s);return new Ha(UL.apply(null,n))}else{const n=t.map(m=>s_(m)?jL(ns.RAW,m).data:m.data_);let s=0;n.forEach(m=>{s+=m.byteLength});const l=new Uint8Array(s);let h=0;return n.forEach(m=>{for(let v=0;v<m.length;v++)l[h++]=m[v]}),new Ha(l,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $b(r){let t;try{t=JSON.parse(r)}catch{return null}return xL(t)?t:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZL(r){if(r.length===0)return null;const t=r.lastIndexOf("/");return t===-1?"":r.slice(0,t)}function KL(r,t){const n=t.split("/").filter(s=>s.length>0).join("/");return r.length===0?n:r+"/"+n}function Xb(r){const t=r.lastIndexOf("/",r.length-2);return t===-1?r:r.slice(t+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YL(r,t){return t}class Wn{constructor(t,n,s,l){this.server=t,this.local=n||t,this.writable=!!s,this.xform=l||YL}}let hf=null;function QL(r){return!s_(r)||r.length<2?r:Xb(r)}function Wb(){if(hf)return hf;const r=[];r.push(new Wn("bucket")),r.push(new Wn("generation")),r.push(new Wn("metageneration")),r.push(new Wn("name","fullPath",!0));function t(h,m){return QL(m)}const n=new Wn("name");n.xform=t,r.push(n);function s(h,m){return m!==void 0?Number(m):m}const l=new Wn("size");return l.xform=s,r.push(l),r.push(new Wn("timeCreated")),r.push(new Wn("updated")),r.push(new Wn("md5Hash",null,!0)),r.push(new Wn("cacheControl",null,!0)),r.push(new Wn("contentDisposition",null,!0)),r.push(new Wn("contentEncoding",null,!0)),r.push(new Wn("contentLanguage",null,!0)),r.push(new Wn("contentType",null,!0)),r.push(new Wn("metadata","customMetadata",!0)),hf=r,hf}function $L(r,t){function n(){const s=r.bucket,l=r.fullPath,h=new zi(s,l);return t._makeStorageReference(h)}Object.defineProperty(r,"ref",{get:n})}function XL(r,t,n){const s={};s.type="file";const l=n.length;for(let h=0;h<l;h++){const m=n[h];s[m.local]=m.xform(s,t[m.server])}return $L(s,r),s}function Jb(r,t,n){const s=$b(t);return s===null?null:XL(r,s,n)}function WL(r,t,n,s){const l=$b(t);if(l===null||!s_(l.downloadTokens))return null;const h=l.downloadTokens;if(h.length===0)return null;const m=encodeURIComponent;return h.split(",").map(T=>{const S=r.bucket,R=r.fullPath,N="/b/"+m(S)+"/o/"+m(R),j=_d(N,n,s),B=Zb({alt:"media",token:T});return j+B})[0]}function JL(r,t){const n={},s=t.length;for(let l=0;l<s;l++){const h=t[l];h.writable&&(n[h.server]=r[h.local])}return JSON.stringify(n)}class o_{constructor(t,n,s,l){this.url=t,this.method=n,this.handler=s,this.timeout=l,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tS(r){if(!r)throw r_()}function tP(r,t){function n(s,l){const h=Jb(r,l,t);return tS(h!==null),h}return n}function eP(r,t){function n(s,l){const h=Jb(r,l,t);return tS(h!==null),WL(h,l,r.host,r._protocol)}return n}function eS(r){function t(n,s){let l;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?l=mL():l=dL():n.getStatus()===402?l=fL(r.bucket):n.getStatus()===403?l=pL(r.path):l=s,l.status=n.getStatus(),l.serverResponse=s.serverResponse,l}return t}function nS(r){const t=eS(r);function n(s,l){let h=t(s,l);return s.getStatus()===404&&(h=hL(r.path)),h.serverResponse=l.serverResponse,h}return n}function nP(r,t,n){const s=t.fullServerUrl(),l=_d(s,r.host,r._protocol),h="GET",m=r.maxOperationRetryTime,v=new o_(l,h,eP(r,n),m);return v.errorHandler=nS(t),v}function iP(r,t){const n=t.fullServerUrl(),s=_d(n,r.host,r._protocol),l="DELETE",h=r.maxOperationRetryTime;function m(y,T){}const v=new o_(s,l,m,h);return v.successCodes=[200,204],v.errorHandler=nS(t),v}function rP(r,t){return r&&r.contentType||t&&t.type()||"application/octet-stream"}function sP(r,t,n){const s=Object.assign({},n);return s.fullPath=r.path,s.size=t.size(),s.contentType||(s.contentType=rP(null,t)),s}function aP(r,t,n,s,l){const h=t.bucketOnlyServerUrl(),m={"X-Goog-Upload-Protocol":"multipart"};function v(){let ct="";for(let Ct=0;Ct<2;Ct++)ct=ct+Math.random().toString().slice(2);return ct}const y=v();m["Content-Type"]="multipart/related; boundary="+y;const T=sP(t,s,l),S=JL(T,n),R="--"+y+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+S+`\r
--`+y+`\r
Content-Type: `+T.contentType+`\r
\r
`,N=`\r
--`+y+"--",j=Ha.getBlob(R,s,N);if(j===null)throw EL();const B={name:T.fullPath},K=_d(h,r.host,r._protocol),G="POST",it=r.maxUploadRetryTime,rt=new o_(K,G,tP(r,n),it);return rt.urlParams=B,rt.headers=m,rt.body=j.uploadData(),rt.errorHandler=eS(t),rt}class oP{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Xo.NO_ERROR,this.sendPromise_=new Promise(t=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Xo.ABORT,t()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Xo.NETWORK_ERROR,t()}),this.xhr_.addEventListener("load",()=>{t()})})}send(t,n,s,l,h){if(this.sent_)throw mc("cannot .send() more than once");if(no(t)&&s&&(this.xhr_.withCredentials=!0),this.sent_=!0,this.xhr_.open(n,t,!0),h!==void 0)for(const m in h)h.hasOwnProperty(m)&&this.xhr_.setRequestHeader(m,h[m].toString());return l!==void 0?this.xhr_.send(l):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw mc("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw mc("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw mc("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw mc("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(t){return this.xhr_.getResponseHeader(t)}addUploadProgressListener(t){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",t)}removeUploadProgressListener(t){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",t)}}class lP extends oP{initXhr(){this.xhr_.responseType="text"}}function l_(){return new lP}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nl{constructor(t,n){this._service=t,n instanceof zi?this._location=n:this._location=zi.makeFromUrl(n,t.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(t,n){return new nl(t,n)}get root(){const t=new zi(this._location.bucket,"");return this._newRef(this._service,t)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return Xb(this._location.path)}get storage(){return this._service}get parent(){const t=ZL(this._location.path);if(t===null)return null;const n=new zi(this._location.bucket,t);return new nl(this._service,n)}_throwIfRoot(t){if(this._location.path==="")throw SL(t)}}function uP(r,t,n){r._throwIfRoot("uploadBytes");const s=aP(r.storage,r._location,Wb(),new Ha(t,!0),n);return r.storage.makeRequestWithTokens(s,l_).then(l=>({metadata:l,ref:r}))}function cP(r){r._throwIfRoot("getDownloadURL");const t=nP(r.storage,r._location,Wb());return r.storage.makeRequestWithTokens(t,l_).then(n=>{if(n===null)throw wL();return n})}function hP(r){r._throwIfRoot("deleteObject");const t=iP(r.storage,r._location);return r.storage.makeRequestWithTokens(t,l_)}function fP(r,t){const n=KL(r._location.path,t),s=new zi(r._location.bucket,n);return new nl(r.storage,s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dP(r){return/^[A-Za-z]+:\/\//.test(r)}function mP(r,t){return new nl(r,t)}function iS(r,t){if(r instanceof u_){const n=r;if(n._bucket==null)throw TL();const s=new nl(n,n._bucket);return t!=null?iS(s,t):s}else return t!==void 0?fP(r,t):r}function pP(r,t){if(t&&dP(t)){if(r instanceof u_)return mP(r,t);throw $p("To use ref(service, url), the first argument must be a Storage instance.")}else return iS(r,t)}function e0(r,t){const n=t?.[Fb];return n==null?null:zi.makeFromBucketSpec(n,r)}function gP(r,t,n,s={}){r.host=`${t}:${n}`;const l=no(t);l&&(rg(`https://${r.host}/b`),sg("Storage",!0)),r._isUsingEmulator=!0,r._protocol=l?"https":"http";const{mockUserToken:h}=s;h&&(r._overrideAuthToken=typeof h=="string"?h:N0(h,r.app.options.projectId))}class u_{constructor(t,n,s,l,h,m=!1){this.app=t,this._authProvider=n,this._appCheckProvider=s,this._url=l,this._firebaseVersion=h,this._isUsingEmulator=m,this._bucket=null,this._host=qb,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=uL,this._maxUploadRetryTime=cL,this._requests=new Set,l!=null?this._bucket=zi.makeFromBucketSpec(l,this._host):this._bucket=e0(this._host,this.app.options)}get host(){return this._host}set host(t){this._host=t,this._url!=null?this._bucket=zi.makeFromBucketSpec(this._url,t):this._bucket=e0(t,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(t){t0("time",0,Number.POSITIVE_INFINITY,t),this._maxUploadRetryTime=t}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(t){t0("time",0,Number.POSITIVE_INFINITY,t),this._maxOperationRetryTime=t}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const t=this._authProvider.getImmediate({optional:!0});if(t){const n=await t.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(lr(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=this._appCheckProvider.getImmediate({optional:!0});return t?(await t.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(t=>t.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(t){return new nl(this,t)}_makeRequest(t,n,s,l,h=!0){if(this._deleted)return new AL(Gb());{const m=kL(t,this._appId,s,l,n,this._firebaseVersion,h,this._isUsingEmulator);return this._requests.add(m),m.getPromise().then(()=>this._requests.delete(m),()=>this._requests.delete(m)),m}}async makeRequestWithTokens(t,n){const[s,l]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(t,n,s,l).getPromise()}}const n0="@firebase/storage",i0="0.14.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rS="storage";function _P(r,t,n){return r=He(r),uP(r,t,n)}function yP(r){return r=He(r),cP(r)}function vP(r){return r=He(r),hP(r)}function sS(r,t){return r=He(r),pP(r,t)}function TP(r=lg(),t){r=He(r);const s=Yf(r,rS).getImmediate({identifier:t}),l=C0("storage");return l&&EP(s,...l),s}function EP(r,t,n,s={}){gP(r,t,n,s)}function wP(r,{instanceIdentifier:t}){const n=r.getProvider("app").getImmediate(),s=r.getProvider("auth-internal"),l=r.getProvider("app-check-internal");return new u_(n,s,l,t,sl)}function bP(){Wo(new Qa(rS,wP,"PUBLIC").setMultipleInstances(!0)),rs(n0,i0,""),rs(n0,i0,"esm2020")}bP();const SP={apiKey:"AIzaSyBl383OOfL8kRB1_ml5coLputoS1YxTUpE",authDomain:"varsharaksha-c1bda.firebaseapp.com",projectId:"varsharaksha-c1bda",storageBucket:"varsharaksha-c1bda.firebasestorage.app",messagingSenderId:"800822204961",appId:"1:800822204961:web:03ae804121ba272d90a160"},c_=P0(SP),Vi=qx(c_),AP=new js,is=qO(c_),aS=TP(c_),oS="/Varsha-Raksha/assets/logo-CjB11B-h.png",RP=()=>{const r=async()=>{try{await WI(Vi,AP)}catch(t){console.error("Error signing in with Google: ",t)}};return q.jsxs("div",{className:"auth-container",children:[q.jsx("img",{src:oS,alt:"VarshaRaksha Logo",className:"login-logo"}),q.jsx("p",{children:"Your Community's Monsoon Lifeline"}),q.jsxs("button",{onClick:r,className:"auth-button sign-in",children:[q.jsx("img",{src:"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/google.svg",alt:"Google logo"}),"Sign in with Google"]})]})},CP=()=>{const[r,t]=$.useState(""),[n,s]=$.useState(null),[l,h]=$.useState(!1),[m,v]=$.useState(""),[y,T]=$.useState(null),[S,R]=$.useState(""),[N,j]=$.useState(""),B=it=>{it.target.files[0]&&s(it.target.files[0])},K=()=>{if(!navigator.geolocation){R("Geolocation is not supported by your browser.");return}R("Getting location..."),navigator.geolocation.getCurrentPosition(async it=>{R("Fetching address...");const{latitude:rt,longitude:ct}=it.coords,Lt=`https://api.openweathermap.org/geo/1.0/reverse?lat=${rt}&lon=${ct}&limit=1&appid=a869b4cc6862229b89555a3dab69440a`;try{const kt=await fetch(Lt);if(!kt.ok)throw new Error("Failed to fetch address.");const D=await kt.json(),O=D[0]?`${D[0].name}, ${D[0].state}`:"Unknown Location";T({lat:rt,lon:ct,name:O}),j(O),R(`Location attached: ${O}`)}catch{R("Could not fetch address. Coordinates saved."),T({lat:rt,lon:ct,name:"Coordinates Only"})}},()=>{R("Unable to retrieve location.")})},G=async(it,rt)=>{if(it.preventDefault(),!r.trim()||!Vi.currentUser)return;h(!0),v("");let ct=null;if(N.trim()&&(!y||N.trim()!==y.name)){R(`Geocoding "${N.trim()}"...`);const P=`https://api.openweathermap.org/geo/1.0/direct?q=${encodeURIComponent(N.trim())}&limit=1&appid=a869b4cc6862229b89555a3dab69440a`;try{const F=await fetch(P);if(!F.ok)throw new Error("API request failed");const U=await F.json();U&&U.length>0?ct={name:U[0].name,lat:U[0].lat,lon:U[0].lon}:ct={name:N.trim(),lat:null,lon:null}}catch(F){console.error("Geocoding failed:",F),ct={name:N.trim(),lat:null,lon:null}}}else ct=y;const{uid:Ct,displayName:Lt,photoURL:kt}=Vi.currentUser;let D="";try{if(n){const O=sS(aS,`posts/${Date.now()}_${n.name}`),P=await _P(O,n);D=await yP(P.ref)}await aL(hd(is,"posts"),{authorId:Ct,authorName:Lt,authorPhotoURL:kt,content:r.trim(),category:rt,imageUrl:D,location:ct,createdAt:lL()}),t(""),s(null),T(null),R(""),j(""),document.getElementById("fileInput")&&(document.getElementById("fileInput").value="")}catch(O){console.error("Error creating post: ",O),v("Failed to create post. Please try again.")}finally{h(!1),R("")}};return q.jsxs("form",{className:"post-form",children:[m&&q.jsx("p",{className:"error-message",children:m}),q.jsx("textarea",{value:r,onChange:it=>t(it.target.value),placeholder:"What's happening in your area?",rows:"3",disabled:l}),q.jsxs("div",{className:"form-footer",children:[q.jsxs("div",{className:"form-attachments",children:[q.jsx("input",{type:"file",id:"fileInput",onChange:B,accept:"image/*",disabled:l}),q.jsx("input",{type:"text",className:"location-input",placeholder:"Or type area name...",value:N,onChange:it=>j(it.target.value),disabled:l}),q.jsx("button",{type:"button",onClick:K,className:"location-btn",disabled:l,children:"📍 Current Location"})]}),q.jsxs("div",{className:"form-actions",children:[q.jsx("button",{type:"submit",onClick:it=>G(it,"Alert"),className:"btn alert",disabled:!r.trim()||l,children:l?"Posting...":"Post Alert"}),q.jsx("button",{type:"submit",onClick:it=>G(it,"Request"),className:"btn request",disabled:!r.trim()||l,children:l?"Posting...":"Post Request"}),q.jsx("button",{type:"submit",onClick:it=>G(it,"Offer"),className:"btn offer",disabled:!r.trim()||l,children:l?"Posting...":"Post Offer"})]})]}),S&&q.jsx("p",{className:"location-status",children:S})]})},IP=()=>{const[r,t]=$.useState([]),[n,s]=$.useState(!0),[l,h]=$.useState({}),m=async(S,R)=>{const N=Vi.currentUser.uid,j=Qo(is,"posts",S),B=R?.includes(N);await kc(j,{likes:B?Hb(N):Ff(N)})},v=async(S,R)=>{S.preventDefault();const N=l[R]?.trim();if(!N)return;const{uid:j,displayName:B}=Vi.currentUser,K=Qo(is,"posts",R);await kc(K,{responses:Ff({responderId:j,responderName:B,text:N,createdAt:new Date})}),h(it=>({...it,[R]:""}))},y=S=>{if(!S)return"Just now";const R=S.toDate(),j=Math.round((new Date-R)/1e3);if(j<60)return`${j}s ago`;const B=Math.round(j/60);if(B<60)return`${B}m ago`;const K=Math.round(B/60);if(K<24)return`${K}h ago`;const G={hour:"numeric",minute:"numeric"},it={month:"short",day:"numeric"};return`${R.toLocaleDateString([],it)} at ${R.toLocaleTimeString([],G)}`};$.useEffect(()=>{const S=new Date(Date.now()-864e5),R=Jg(hd(is,"posts"),zb("createdAt",">=",S),eL("createdAt","desc")),N=n_(R,j=>{const B=[];j.forEach(K=>B.push({...K.data(),id:K.id})),t(B),s(!1)});return()=>N()},[]);const T=S=>{switch(S){case"Alert":return"category-alert";case"Request":return"category-request";case"Offer":return"category-offer";default:return""}};return n?q.jsx("div",{className:"loading-spinner"}):q.jsx("div",{className:"feed-container",children:r.length===0?q.jsxs("div",{className:"empty-feed-message",children:[q.jsx("h3",{children:"No community posts in the last 24 hours."}),q.jsx("p",{children:"Be the first to share an update!"})]}):r.map(S=>{const R=Vi.currentUser.uid,N=S.likes?.includes(R);return q.jsxs("div",{className:"post-card",children:[q.jsxs("div",{className:"post-header",children:[q.jsx("img",{src:S.authorPhotoURL,alt:S.authorName,className:"profile-pic-small"}),q.jsxs("div",{className:"author-details",children:[q.jsx("span",{className:"author-name",children:S.authorName}),q.jsx("span",{className:"post-timestamp",children:y(S.createdAt)})]})]}),S.imageUrl&&q.jsx("img",{src:S.imageUrl,alt:"User upload",className:"post-image"}),q.jsx("p",{className:"post-content",children:S.content}),q.jsxs("div",{className:"post-footer",children:[q.jsx("div",{className:`post-category ${T(S.category)}`,children:S.category}),S.location&&q.jsxs("div",{className:"location-display",children:[q.jsx("span",{className:"location-icon",children:"📍"}),q.jsx("span",{className:"location-name",children:S.location.name}),S.location.lat&&S.location.lon&&q.jsx("a",{href:`https://www.google.com/maps?q=${S.location.lat},${S.location.lon}`,target:"_blank",rel:"noopener noreferrer",className:"location-link",children:"(View on Map)"})]})]}),q.jsxs("div",{className:"interactive-section",children:[S.category==="Alert"&&q.jsxs("div",{className:"likes-section",children:[q.jsx("button",{onClick:()=>m(S.id,S.likes),className:`like-btn ${N?"liked":""}`,children:"👍 Agree"}),q.jsxs("span",{className:"like-count",children:[S.likes?.length||0," people agree"]})]}),(S.category==="Request"||S.category==="Offer")&&q.jsxs("div",{className:"responses-section",children:[q.jsx("h4",{children:"Responses"}),q.jsx("div",{className:"response-list",children:S.responses?.length>0?S.responses.map((j,B)=>q.jsxs("div",{className:"response-item",children:[q.jsxs("strong",{children:[j.responderName,":"]})," ",j.text]},B)):q.jsx("p",{className:"no-responses",children:"No responses yet."})}),q.jsxs("form",{onSubmit:j=>v(j,S.id),className:"response-form",children:[q.jsx("input",{type:"text",placeholder:"Write a response...",value:l[S.id]||"",onChange:j=>h(B=>({...B,[S.id]:j.target.value}))}),q.jsx("button",{type:"submit",children:"Reply"})]})]})]})]},S.id)})})},xP=[{title:"Hyderabad Rains: City on Yellow Alert, IMD Predicts More Showers",summary:"The IMD has issued a yellow alert for Hyderabad, forecasting continued rainfall and potential thunderstorms over the next 24 hours.",link:"https://timesofindia.indiatimes.com/city/hyderabad/hyderabad-rains-city-on-yellow-alert-imd-predicts-more-showers/articleshow/104169554.cms",imageUrl:"https://static.toiimg.com/thumb/msid-104169555,width-1280,height-720,resizemode-75/104169555.jpg"},{title:"Waterlogging in Several Areas After Overnight Rain, GHMC Teams on Ground",summary:"Low-lying areas in Kukatpally, Miyapur, and LB Nagar have reported significant waterlogging, prompting GHMC to deploy disaster response teams.",link:"https://www.thehindu.com/news/cities/Hyderabad/waterlogging-in-several-areas-of-hyderabad-after-overnight-rain/article6738437.ece",imageUrl:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQYi5hrMM16aHVrEfKD_ifUKGUKm1ejQmoXYA&s"},{title:"Traffic Slows Down in Hyderabad Amidst Incessant Rains",summary:"Major junctions and IT corridors are facing traffic snarls due to waterlogging and ongoing showers, with traffic police issuing advisories.",link:"https://www.deccanchronicle.com/nation/in-other-news/051025/hyderabad-traffic-slows-down-amidst-incessant-rains.html",imageUrl:"https://www.hindustantimes.com/ht-img/img/2025/08/04/1600x900/hyderabad_rains_1754309673971_1754309677685.png"}],NP=()=>{const[r,t]=$.useState(null),[n,s]=$.useState(!0),[l,h]=$.useState(null),[m,v]=$.useState(""),[y,T]=$.useState(!0),[S,R]=$.useState(null);return $.useEffect(()=>{const N=(B,K)=>{const it=`https://api.openweathermap.org/data/2.5/weather?lat=${B}&lon=${K}&appid=a869b4cc6862229b89555a3dab69440a&units=metric`;fetch(it).then(rt=>{if(!rt.ok)throw new Error("Failed to fetch weather data.");return rt.json()}).then(rt=>t(rt)).catch(rt=>h(rt.message)).finally(()=>s(!1))};navigator.geolocation?navigator.geolocation.getCurrentPosition(B=>N(B.coords.latitude,B.coords.longitude),B=>{h(`Error getting location: ${B.message}`),s(!1)}):(h("Geolocation is not supported by your browser."),s(!1)),(async()=>{const K="https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-preview-05-20:generateContent?key=AIzaSyARkZCLlUIfoau22rQ98VkncCBhme7q-lU",G="You are a helpful local news assistant. Provide a clear, concise, factual summary of the latest weather-related news in India. Use markdown for formatting, with bolding for headings (e.g., **Affected Areas:**).",it="Summarize the latest news regarding heavy rains, waterlogging, or flooding in Hyderabad, Telangana, India for today.";try{const rt=await fetch(K,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({contents:[{parts:[{text:it}]}],tools:[{google_search:{}}],systemInstruction:{parts:[{text:G}]}})});if(!rt.ok)throw new Error(`API responded with status ${rt.status}`);const Ct=(await rt.json()).candidates?.[0]?.content?.parts?.[0]?.text;if(Ct){const Lt=Ct.replace(/\*\*(.*?)\*\*/g,"<h3>$1</h3>").replace(/\*/g,"").replace(/\n/g,"<br />");v(Lt)}else throw new Error("No summary was generated.")}catch{R("Could not fetch the latest news summary.")}finally{T(!1)}})()},[]),q.jsxs("div",{className:"page-container",children:[q.jsx("h2",{children:"Official Info & Alerts"}),q.jsxs("div",{className:"weather-section",children:[n&&q.jsx("div",{className:"loading-spinner"}),l&&q.jsx("p",{className:"error-message",children:l}),r&&q.jsxs("div",{className:"weather-card",children:[q.jsxs("h3",{children:["Current Weather in ",r.name]}),q.jsxs("div",{className:"weather-main",children:[q.jsx("img",{src:`https://openweathermap.org/img/wn/${r.weather[0].icon}@2x.png`,alt:r.weather[0].description,className:"weather-icon"}),q.jsxs("div",{className:"weather-temp",children:[Math.round(r.main.temp),"°C"]}),q.jsx("div",{className:"weather-desc",children:r.weather[0].description})]}),q.jsxs("div",{className:"weather-details",children:[q.jsxs("p",{children:["Feels like: ",Math.round(r.main.feels_like),"°C"]}),q.jsxs("p",{children:["Humidity: ",r.main.humidity,"%"]}),q.jsxs("p",{children:["Wind: ",r.wind.speed," m/s"]})]})]})]}),q.jsxs("div",{className:"news-summary-section",children:[q.jsx("h3",{children:"Today's Live Weather News"}),y&&q.jsx("p",{children:"Generating news summary with AI..."}),S&&q.jsx("p",{className:"error-message",children:S}),m&&q.jsx("div",{className:"news-summary-card",children:q.jsx("div",{dangerouslySetInnerHTML:{__html:m}})})]}),q.jsxs("div",{className:"news-articles-section",children:[q.jsx("h3",{children:"In-Depth Articles"}),q.jsx("div",{className:"news-grid",children:xP.map((N,j)=>q.jsxs("a",{href:N.link,target:"_blank",rel:"noopener noreferrer",className:"news-card",children:[q.jsx("img",{src:N.imageUrl,alt:N.title,className:"news-card-image",onError:B=>{B.target.onerror=null,B.target.src="https://placehold.co/600x400/ecf0f1/7f8c8d?text=Image+Not+Found"}}),q.jsxs("div",{className:"news-card-content",children:[q.jsx("h4",{children:N.title}),q.jsx("p",{children:N.summary})]})]},j))})]})]})},OP=()=>{const r=[{name:"National Emergency Number",number:"112",emoji:"🚨"},{name:"Police",number:"100",emoji:"🚓"},{name:"Fire",number:"101",emoji:"🔥"},{name:"Ambulance",number:"108",emoji:"🚑"},{name:"Disaster Management (GHMC)",number:"040-21111111",emoji:"🏛️"},{name:"Women Helpline",number:"1091",emoji:"👩"}];return q.jsxs("div",{className:"page-container",children:[q.jsx("h2",{children:"Emergency Help & Contacts"}),q.jsx("p",{children:"Tap a number to call. Stay safe."}),q.jsx("div",{className:"contact-list",children:r.map(t=>q.jsxs("a",{href:`tel:${t.number}`,className:"contact-card",children:[q.jsx("div",{className:"contact-emoji",children:t.emoji}),q.jsxs("div",{className:"contact-details",children:[q.jsx("span",{className:"contact-name",children:t.name}),q.jsx("span",{className:"contact-number",children:t.number})]})]},t.name))})]})},LP=({post:r,onClose:t})=>{const[n,s]=$.useState(r.content),[l,h]=$.useState(!1),m=async v=>{if(v.preventDefault(),!n.trim()){alert("Post content cannot be empty.");return}h(!0);const y=Qo(is,"posts",r.id);try{await kc(y,{content:n.trim()}),t()}catch(T){console.error("Error updating post:",T),alert("Failed to save changes. Please try again.")}finally{h(!1)}};return q.jsx("div",{className:"modal-overlay",onClick:t,children:q.jsxs("div",{className:"modal-content",onClick:v=>v.stopPropagation(),children:[q.jsx("h3",{children:"Edit Post"}),q.jsxs("form",{onSubmit:m,children:[q.jsx("textarea",{value:n,onChange:v=>s(v.target.value),rows:"5"}),q.jsxs("div",{className:"modal-actions",children:[q.jsx("button",{type:"button",onClick:t,className:"cancel-btn",children:"Cancel"}),q.jsx("button",{type:"submit",className:"save-btn",disabled:l,children:l?"Saving...":"Save Changes"})]})]})]})})},PP=()=>{const[r,t]=$.useState([]),[n,s]=$.useState(!0),[l,h]=$.useState(""),[m,v]=$.useState(null),[y,T]=$.useState({}),S=async(B,K)=>{const G=Vi.currentUser.uid,it=Qo(is,"posts",B),rt=K?.includes(G);await kc(it,{likes:rt?Hb(G):Ff(G)})},R=async(B,K)=>{B.preventDefault();const G=y[K]?.trim();if(!G)return;const{uid:it,displayName:rt}=Vi.currentUser,ct=Qo(is,"posts",K);await kc(ct,{responses:Ff({responderId:it,responderName:rt,text:G,createdAt:new Date})}),T(Lt=>({...Lt,[K]:""}))},N=B=>{if(!B)return"";const K=B.toDate(),G={hour:"numeric",minute:"numeric"},it={year:"numeric",month:"short",day:"numeric"};return`${K.toLocaleDateString([],it)} at ${K.toLocaleTimeString([],G)}`},j=async(B,K)=>{if(window.confirm("Are you sure you want to delete this post?"))try{if(K){const G=sS(aS,K);await vP(G)}await sL(Qo(is,"posts",B))}catch(G){console.error("Error deleting post:",G),alert("Failed to delete post.")}};return $.useEffect(()=>{if(!Vi.currentUser)return;const B=Jg(hd(is,"posts"),zb("authorId","==",Vi.currentUser.uid),orderBy("createdAt","desc")),K=n_(B,G=>{const it=[];G.forEach(rt=>it.push({...rt.data(),id:rt.id})),t(it),s(!1)},G=>{h("Failed to load your posts."),s(!1)});return()=>K()},[]),n?q.jsx("div",{className:"loading-spinner"}):l?q.jsx("p",{className:"error-message",children:l}):q.jsxs("div",{className:"page-container",children:[q.jsx("h2",{children:"My Posts"}),r.length===0?q.jsx("p",{children:"You haven't made any posts yet."}):q.jsx("div",{className:"feed-container",children:r.map(B=>{const K=Vi.currentUser.uid,G=B.likes?.includes(K);return q.jsxs("div",{className:"post-card",children:[q.jsxs("div",{className:"post-header",children:[q.jsx("img",{src:B.authorPhotoURL,alt:B.authorName,className:"profile-pic-small"}),q.jsxs("div",{className:"author-details",children:[q.jsx("span",{className:"author-name",children:B.authorName}),q.jsx("span",{className:"post-timestamp",children:N(B.createdAt)})]})]}),B.imageUrl&&q.jsx("img",{src:B.imageUrl,alt:"User upload",className:"post-image"}),q.jsx("p",{className:"post-content",children:B.content}),q.jsxs("div",{className:"post-footer",children:[q.jsx("div",{className:`post-category ${B.category?.toLowerCase()}`,children:B.category}),B.location&&q.jsxs("div",{className:"location-display",children:[q.jsx("span",{className:"location-icon",children:"📍"}),q.jsx("span",{className:"location-name",children:B.location.name}),B.location.lat&&B.location.lon&&q.jsx("a",{href:`https://www.google.com/maps?q=${B.location.lat},${B.location.lon}`,target:"_blank",rel:"noopener noreferrer",className:"location-link",children:"(View on Map)"})]})]}),q.jsxs("div",{className:"post-actions",children:[q.jsx("button",{onClick:()=>v(B),className:"edit-btn",children:"Edit"}),q.jsx("button",{onClick:()=>j(B.id,B.imageUrl),className:"delete-btn",children:"Delete"})]}),q.jsxs("div",{className:"interactive-section",children:[B.category==="Alert"&&q.jsxs("div",{className:"likes-section",children:[q.jsx("button",{onClick:()=>S(B.id,B.likes),className:`like-btn ${G?"liked":""}`,children:"👍 Agree"}),q.jsxs("span",{className:"like-count",children:[B.likes?.length||0," people agree"]})]}),(B.category==="Request"||B.category==="Offer")&&q.jsxs("div",{className:"responses-section",children:[q.jsx("h4",{children:"Responses"}),q.jsx("div",{className:"response-list",children:B.responses?.length>0?B.responses.map((it,rt)=>q.jsxs("div",{className:"response-item",children:[q.jsxs("strong",{children:[it.responderName,":"]})," ",it.text]},rt)):q.jsx("p",{className:"no-responses",children:"No responses yet."})}),q.jsxs("form",{onSubmit:it=>R(it,B.id),className:"response-form",children:[q.jsx("input",{type:"text",placeholder:"Write a response...",value:y[B.id]||"",onChange:it=>T(rt=>({...rt,[B.id]:it.target.value}))}),q.jsx("button",{type:"submit",children:"Reply"})]})]})]})]},B.id)})}),m&&q.jsx(LP,{post:m,onClose:()=>v(null)})]})};function lS(r,t){const n=$.useRef(t);$.useEffect(function(){t!==n.current&&r.attributionControl!=null&&(n.current!=null&&r.attributionControl.removeAttribution(n.current),t!=null&&r.attributionControl.addAttribution(t)),n.current=t},[r,t])}const MP=1;function DP(r){return Object.freeze({__version:MP,map:r})}function kP(r,t){return Object.freeze({...r,...t})}const h_=$.createContext(null);function uS(){const r=$.use(h_);if(r==null)throw new Error("No context provided: useLeafletContext() can only be used in a descendant of <MapContainer>");return r}function VP(r){function t(n,s){const{instance:l,context:h}=r(n).current;$.useImperativeHandle(s,()=>l);const{children:m}=n;return m==null?null:Sf.createElement(h_,{value:h},m)}return $.forwardRef(t)}function UP(r){function t(n,s){const[l,h]=$.useState(!1),{instance:m}=r(n,h).current;$.useImperativeHandle(s,()=>m),$.useEffect(function(){l&&m.update()},[m,l,n.children]);const v=m._contentNode;return v?aR.createPortal(n.children,v):null}return $.forwardRef(t)}function zP(r){function t(n,s){const{instance:l}=r(n).current;return $.useImperativeHandle(s,()=>l),null}return $.forwardRef(t)}function cS(r,t){const n=$.useRef(void 0);$.useEffect(function(){return t!=null&&r.instance.on(t),n.current=t,function(){n.current!=null&&r.instance.off(n.current),n.current=null}},[r,t])}function f_(r,t){const n=r.pane??t.pane;return n?{...r,pane:n}:r}function BP(r,t){return function(s,l){const h=uS(),m=r(f_(s,h),h);return lS(h.map,s.attribution),cS(m.current,s.eventHandlers),t(m.current,h,s,l),m}}var vc={exports:{}};/* @preserve
 * Leaflet 1.9.4, a JS library for interactive maps. https://leafletjs.com
 * (c) 2010-2023 Vladimir Agafonkin, (c) 2010-2011 CloudMade
 */var jP=vc.exports,r0;function HP(){return r0||(r0=1,(function(r,t){(function(n,s){s(t)})(jP,(function(n){var s="1.9.4";function l(a){var u,d,_,w;for(d=1,_=arguments.length;d<_;d++){w=arguments[d];for(u in w)a[u]=w[u]}return a}var h=Object.create||(function(){function a(){}return function(u){return a.prototype=u,new a}})();function m(a,u){var d=Array.prototype.slice;if(a.bind)return a.bind.apply(a,d.call(arguments,1));var _=d.call(arguments,2);return function(){return a.apply(u,_.length?_.concat(d.call(arguments)):arguments)}}var v=0;function y(a){return"_leaflet_id"in a||(a._leaflet_id=++v),a._leaflet_id}function T(a,u,d){var _,w,C,M;return M=function(){_=!1,w&&(C.apply(d,w),w=!1)},C=function(){_?w=arguments:(a.apply(d,arguments),setTimeout(M,u),_=!0)},C}function S(a,u,d){var _=u[1],w=u[0],C=_-w;return a===_&&d?a:((a-w)%C+C)%C+w}function R(){return!1}function N(a,u){if(u===!1)return a;var d=Math.pow(10,u===void 0?6:u);return Math.round(a*d)/d}function j(a){return a.trim?a.trim():a.replace(/^\s+|\s+$/g,"")}function B(a){return j(a).split(/\s+/)}function K(a,u){Object.prototype.hasOwnProperty.call(a,"options")||(a.options=a.options?h(a.options):{});for(var d in u)a.options[d]=u[d];return a.options}function G(a,u,d){var _=[];for(var w in a)_.push(encodeURIComponent(d?w.toUpperCase():w)+"="+encodeURIComponent(a[w]));return(!u||u.indexOf("?")===-1?"?":"&")+_.join("&")}var it=/\{ *([\w_ -]+) *\}/g;function rt(a,u){return a.replace(it,function(d,_){var w=u[_];if(w===void 0)throw new Error("No value provided for variable "+d);return typeof w=="function"&&(w=w(u)),w})}var ct=Array.isArray||function(a){return Object.prototype.toString.call(a)==="[object Array]"};function Ct(a,u){for(var d=0;d<a.length;d++)if(a[d]===u)return d;return-1}var Lt="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function kt(a){return window["webkit"+a]||window["moz"+a]||window["ms"+a]}var D=0;function O(a){var u=+new Date,d=Math.max(0,16-(u-D));return D=u+d,window.setTimeout(a,d)}var P=window.requestAnimationFrame||kt("RequestAnimationFrame")||O,F=window.cancelAnimationFrame||kt("CancelAnimationFrame")||kt("CancelRequestAnimationFrame")||function(a){window.clearTimeout(a)};function U(a,u,d){if(d&&P===O)a.call(u);else return P.call(window,m(a,u))}function Z(a){a&&F.call(window,a)}var k={__proto__:null,extend:l,create:h,bind:m,get lastId(){return v},stamp:y,throttle:T,wrapNum:S,falseFn:R,formatNum:N,trim:j,splitWords:B,setOptions:K,getParamString:G,template:rt,isArray:ct,indexOf:Ct,emptyImageUrl:Lt,requestFn:P,cancelFn:F,requestAnimFrame:U,cancelAnimFrame:Z};function oe(){}oe.extend=function(a){var u=function(){K(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},d=u.__super__=this.prototype,_=h(d);_.constructor=u,u.prototype=_;for(var w in this)Object.prototype.hasOwnProperty.call(this,w)&&w!=="prototype"&&w!=="__super__"&&(u[w]=this[w]);return a.statics&&l(u,a.statics),a.includes&&(Je(a.includes),l.apply(null,[_].concat(a.includes))),l(_,a),delete _.statics,delete _.includes,_.options&&(_.options=d.options?h(d.options):{},l(_.options,a.options)),_._initHooks=[],_.callInitHooks=function(){if(!this._initHooksCalled){d.callInitHooks&&d.callInitHooks.call(this),this._initHooksCalled=!0;for(var C=0,M=_._initHooks.length;C<M;C++)_._initHooks[C].call(this)}},u},oe.include=function(a){var u=this.prototype.options;return l(this.prototype,a),a.options&&(this.prototype.options=u,this.mergeOptions(a.options)),this},oe.mergeOptions=function(a){return l(this.prototype.options,a),this},oe.addInitHook=function(a){var u=Array.prototype.slice.call(arguments,1),d=typeof a=="function"?a:function(){this[a].apply(this,u)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(d),this};function Je(a){if(!(typeof L>"u"||!L||!L.Mixin)){a=ct(a)?a:[a];for(var u=0;u<a.length;u++)a[u]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var at={on:function(a,u,d){if(typeof a=="object")for(var _ in a)this._on(_,a[_],u);else{a=B(a);for(var w=0,C=a.length;w<C;w++)this._on(a[w],u,d)}return this},off:function(a,u,d){if(!arguments.length)delete this._events;else if(typeof a=="object")for(var _ in a)this._off(_,a[_],u);else{a=B(a);for(var w=arguments.length===1,C=0,M=a.length;C<M;C++)w?this._off(a[C]):this._off(a[C],u,d)}return this},_on:function(a,u,d,_){if(typeof u!="function"){console.warn("wrong listener type: "+typeof u);return}if(this._listens(a,u,d)===!1){d===this&&(d=void 0);var w={fn:u,ctx:d};_&&(w.once=!0),this._events=this._events||{},this._events[a]=this._events[a]||[],this._events[a].push(w)}},_off:function(a,u,d){var _,w,C;if(this._events&&(_=this._events[a],!!_)){if(arguments.length===1){if(this._firingCount)for(w=0,C=_.length;w<C;w++)_[w].fn=R;delete this._events[a];return}if(typeof u!="function"){console.warn("wrong listener type: "+typeof u);return}var M=this._listens(a,u,d);if(M!==!1){var Q=_[M];this._firingCount&&(Q.fn=R,this._events[a]=_=_.slice()),_.splice(M,1)}}},fire:function(a,u,d){if(!this.listens(a,d))return this;var _=l({},u,{type:a,target:this,sourceTarget:u&&u.sourceTarget||this});if(this._events){var w=this._events[a];if(w){this._firingCount=this._firingCount+1||1;for(var C=0,M=w.length;C<M;C++){var Q=w[C],tt=Q.fn;Q.once&&this.off(a,tt,Q.ctx),tt.call(Q.ctx||this,_)}this._firingCount--}}return d&&this._propagateEvent(_),this},listens:function(a,u,d,_){typeof a!="string"&&console.warn('"string" type argument expected');var w=u;typeof u!="function"&&(_=!!u,w=void 0,d=void 0);var C=this._events&&this._events[a];if(C&&C.length&&this._listens(a,w,d)!==!1)return!0;if(_){for(var M in this._eventParents)if(this._eventParents[M].listens(a,u,d,_))return!0}return!1},_listens:function(a,u,d){if(!this._events)return!1;var _=this._events[a]||[];if(!u)return!!_.length;d===this&&(d=void 0);for(var w=0,C=_.length;w<C;w++)if(_[w].fn===u&&_[w].ctx===d)return w;return!1},once:function(a,u,d){if(typeof a=="object")for(var _ in a)this._on(_,a[_],u,!0);else{a=B(a);for(var w=0,C=a.length;w<C;w++)this._on(a[w],u,d,!0)}return this},addEventParent:function(a){return this._eventParents=this._eventParents||{},this._eventParents[y(a)]=a,this},removeEventParent:function(a){return this._eventParents&&delete this._eventParents[y(a)],this},_propagateEvent:function(a){for(var u in this._eventParents)this._eventParents[u].fire(a.type,l({layer:a.target,propagatedFrom:a.target},a),!0)}};at.addEventListener=at.on,at.removeEventListener=at.clearAllEventListeners=at.off,at.addOneTimeEventListener=at.once,at.fireEvent=at.fire,at.hasEventListeners=at.listens;var vt=oe.extend(at);function pt(a,u,d){this.x=d?Math.round(a):a,this.y=d?Math.round(u):u}var te=Math.trunc||function(a){return a>0?Math.floor(a):Math.ceil(a)};pt.prototype={clone:function(){return new pt(this.x,this.y)},add:function(a){return this.clone()._add(bt(a))},_add:function(a){return this.x+=a.x,this.y+=a.y,this},subtract:function(a){return this.clone()._subtract(bt(a))},_subtract:function(a){return this.x-=a.x,this.y-=a.y,this},divideBy:function(a){return this.clone()._divideBy(a)},_divideBy:function(a){return this.x/=a,this.y/=a,this},multiplyBy:function(a){return this.clone()._multiplyBy(a)},_multiplyBy:function(a){return this.x*=a,this.y*=a,this},scaleBy:function(a){return new pt(this.x*a.x,this.y*a.y)},unscaleBy:function(a){return new pt(this.x/a.x,this.y/a.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=te(this.x),this.y=te(this.y),this},distanceTo:function(a){a=bt(a);var u=a.x-this.x,d=a.y-this.y;return Math.sqrt(u*u+d*d)},equals:function(a){return a=bt(a),a.x===this.x&&a.y===this.y},contains:function(a){return a=bt(a),Math.abs(a.x)<=Math.abs(this.x)&&Math.abs(a.y)<=Math.abs(this.y)},toString:function(){return"Point("+N(this.x)+", "+N(this.y)+")"}};function bt(a,u,d){return a instanceof pt?a:ct(a)?new pt(a[0],a[1]):a==null?a:typeof a=="object"&&"x"in a&&"y"in a?new pt(a.x,a.y):new pt(a,u,d)}function z(a,u){if(a)for(var d=u?[a,u]:a,_=0,w=d.length;_<w;_++)this.extend(d[_])}z.prototype={extend:function(a){var u,d;if(!a)return this;if(a instanceof pt||typeof a[0]=="number"||"x"in a)u=d=bt(a);else if(a=ot(a),u=a.min,d=a.max,!u||!d)return this;return!this.min&&!this.max?(this.min=u.clone(),this.max=d.clone()):(this.min.x=Math.min(u.x,this.min.x),this.max.x=Math.max(d.x,this.max.x),this.min.y=Math.min(u.y,this.min.y),this.max.y=Math.max(d.y,this.max.y)),this},getCenter:function(a){return bt((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,a)},getBottomLeft:function(){return bt(this.min.x,this.max.y)},getTopRight:function(){return bt(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(a){var u,d;return typeof a[0]=="number"||a instanceof pt?a=bt(a):a=ot(a),a instanceof z?(u=a.min,d=a.max):u=d=a,u.x>=this.min.x&&d.x<=this.max.x&&u.y>=this.min.y&&d.y<=this.max.y},intersects:function(a){a=ot(a);var u=this.min,d=this.max,_=a.min,w=a.max,C=w.x>=u.x&&_.x<=d.x,M=w.y>=u.y&&_.y<=d.y;return C&&M},overlaps:function(a){a=ot(a);var u=this.min,d=this.max,_=a.min,w=a.max,C=w.x>u.x&&_.x<d.x,M=w.y>u.y&&_.y<d.y;return C&&M},isValid:function(){return!!(this.min&&this.max)},pad:function(a){var u=this.min,d=this.max,_=Math.abs(u.x-d.x)*a,w=Math.abs(u.y-d.y)*a;return ot(bt(u.x-_,u.y-w),bt(d.x+_,d.y+w))},equals:function(a){return a?(a=ot(a),this.min.equals(a.getTopLeft())&&this.max.equals(a.getBottomRight())):!1}};function ot(a,u){return!a||a instanceof z?a:new z(a,u)}function gt(a,u){if(a)for(var d=u?[a,u]:a,_=0,w=d.length;_<w;_++)this.extend(d[_])}gt.prototype={extend:function(a){var u=this._southWest,d=this._northEast,_,w;if(a instanceof wt)_=a,w=a;else if(a instanceof gt){if(_=a._southWest,w=a._northEast,!_||!w)return this}else return a?this.extend(Et(a)||_t(a)):this;return!u&&!d?(this._southWest=new wt(_.lat,_.lng),this._northEast=new wt(w.lat,w.lng)):(u.lat=Math.min(_.lat,u.lat),u.lng=Math.min(_.lng,u.lng),d.lat=Math.max(w.lat,d.lat),d.lng=Math.max(w.lng,d.lng)),this},pad:function(a){var u=this._southWest,d=this._northEast,_=Math.abs(u.lat-d.lat)*a,w=Math.abs(u.lng-d.lng)*a;return new gt(new wt(u.lat-_,u.lng-w),new wt(d.lat+_,d.lng+w))},getCenter:function(){return new wt((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new wt(this.getNorth(),this.getWest())},getSouthEast:function(){return new wt(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(a){typeof a[0]=="number"||a instanceof wt||"lat"in a?a=Et(a):a=_t(a);var u=this._southWest,d=this._northEast,_,w;return a instanceof gt?(_=a.getSouthWest(),w=a.getNorthEast()):_=w=a,_.lat>=u.lat&&w.lat<=d.lat&&_.lng>=u.lng&&w.lng<=d.lng},intersects:function(a){a=_t(a);var u=this._southWest,d=this._northEast,_=a.getSouthWest(),w=a.getNorthEast(),C=w.lat>=u.lat&&_.lat<=d.lat,M=w.lng>=u.lng&&_.lng<=d.lng;return C&&M},overlaps:function(a){a=_t(a);var u=this._southWest,d=this._northEast,_=a.getSouthWest(),w=a.getNorthEast(),C=w.lat>u.lat&&_.lat<d.lat,M=w.lng>u.lng&&_.lng<d.lng;return C&&M},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(a,u){return a?(a=_t(a),this._southWest.equals(a.getSouthWest(),u)&&this._northEast.equals(a.getNorthEast(),u)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function _t(a,u){return a instanceof gt?a:new gt(a,u)}function wt(a,u,d){if(isNaN(a)||isNaN(u))throw new Error("Invalid LatLng object: ("+a+", "+u+")");this.lat=+a,this.lng=+u,d!==void 0&&(this.alt=+d)}wt.prototype={equals:function(a,u){if(!a)return!1;a=Et(a);var d=Math.max(Math.abs(this.lat-a.lat),Math.abs(this.lng-a.lng));return d<=(u===void 0?1e-9:u)},toString:function(a){return"LatLng("+N(this.lat,a)+", "+N(this.lng,a)+")"},distanceTo:function(a){return we.distance(this,Et(a))},wrap:function(){return we.wrapLatLng(this)},toBounds:function(a){var u=180*a/40075017,d=u/Math.cos(Math.PI/180*this.lat);return _t([this.lat-u,this.lng-d],[this.lat+u,this.lng+d])},clone:function(){return new wt(this.lat,this.lng,this.alt)}};function Et(a,u,d){return a instanceof wt?a:ct(a)&&typeof a[0]!="object"?a.length===3?new wt(a[0],a[1],a[2]):a.length===2?new wt(a[0],a[1]):null:a==null?a:typeof a=="object"&&"lat"in a?new wt(a.lat,"lng"in a?a.lng:a.lon,a.alt):u===void 0?null:new wt(a,u,d)}var Ht={latLngToPoint:function(a,u){var d=this.projection.project(a),_=this.scale(u);return this.transformation._transform(d,_)},pointToLatLng:function(a,u){var d=this.scale(u),_=this.transformation.untransform(a,d);return this.projection.unproject(_)},project:function(a){return this.projection.project(a)},unproject:function(a){return this.projection.unproject(a)},scale:function(a){return 256*Math.pow(2,a)},zoom:function(a){return Math.log(a/256)/Math.LN2},getProjectedBounds:function(a){if(this.infinite)return null;var u=this.projection.bounds,d=this.scale(a),_=this.transformation.transform(u.min,d),w=this.transformation.transform(u.max,d);return new z(_,w)},infinite:!1,wrapLatLng:function(a){var u=this.wrapLng?S(a.lng,this.wrapLng,!0):a.lng,d=this.wrapLat?S(a.lat,this.wrapLat,!0):a.lat,_=a.alt;return new wt(d,u,_)},wrapLatLngBounds:function(a){var u=a.getCenter(),d=this.wrapLatLng(u),_=u.lat-d.lat,w=u.lng-d.lng;if(_===0&&w===0)return a;var C=a.getSouthWest(),M=a.getNorthEast(),Q=new wt(C.lat-_,C.lng-w),tt=new wt(M.lat-_,M.lng-w);return new gt(Q,tt)}},we=l({},Ht,{wrapLng:[-180,180],R:6371e3,distance:function(a,u){var d=Math.PI/180,_=a.lat*d,w=u.lat*d,C=Math.sin((u.lat-a.lat)*d/2),M=Math.sin((u.lng-a.lng)*d/2),Q=C*C+Math.cos(_)*Math.cos(w)*M*M,tt=2*Math.atan2(Math.sqrt(Q),Math.sqrt(1-Q));return this.R*tt}}),Re=6378137,cr={R:Re,MAX_LATITUDE:85.0511287798,project:function(a){var u=Math.PI/180,d=this.MAX_LATITUDE,_=Math.max(Math.min(d,a.lat),-d),w=Math.sin(_*u);return new pt(this.R*a.lng*u,this.R*Math.log((1+w)/(1-w))/2)},unproject:function(a){var u=180/Math.PI;return new wt((2*Math.atan(Math.exp(a.y/this.R))-Math.PI/2)*u,a.x*u/this.R)},bounds:(function(){var a=Re*Math.PI;return new z([-a,-a],[a,a])})()};function Lr(a,u,d,_){if(ct(a)){this._a=a[0],this._b=a[1],this._c=a[2],this._d=a[3];return}this._a=a,this._b=u,this._c=d,this._d=_}Lr.prototype={transform:function(a,u){return this._transform(a.clone(),u)},_transform:function(a,u){return u=u||1,a.x=u*(this._a*a.x+this._b),a.y=u*(this._c*a.y+this._d),a},untransform:function(a,u){return u=u||1,new pt((a.x/u-this._b)/this._a,(a.y/u-this._d)/this._c)}};function Bi(a,u,d,_){return new Lr(a,u,d,_)}var Pr=l({},we,{code:"EPSG:3857",projection:cr,transformation:(function(){var a=.5/(Math.PI*cr.R);return Bi(a,.5,-a,.5)})()}),ji=l({},Pr,{code:"EPSG:900913"});function Ws(a){return document.createElementNS("http://www.w3.org/2000/svg",a)}function Mr(a,u){var d="",_,w,C,M,Q,tt;for(_=0,C=a.length;_<C;_++){for(Q=a[_],w=0,M=Q.length;w<M;w++)tt=Q[w],d+=(w?"L":"M")+tt.x+" "+tt.y;d+=u?It.svg?"z":"x":""}return d||"M0 0"}var ms=document.documentElement.style,Dr="ActiveXObject"in window,Fe=Dr&&!document.addEventListener,Ge="msLaunchUri"in navigator&&!("documentMode"in document),Hi=yn("webkit"),cl=yn("android"),so=yn("android 2")||yn("android 3"),Cn=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),ps=cl&&yn("Google")&&Cn<537&&!("AudioNode"in window),gs=!!window.opera,Js=!Ge&&yn("chrome"),hr=yn("gecko")&&!Hi&&!gs&&!Dr,Ru=!Js&&yn("safari"),ao=yn("phantom"),oo="OTransition"in ms,hl=navigator.platform.indexOf("Win")===0,Jn=Dr&&"transition"in ms,tn="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!so,Gn="MozPerspective"in ms,Ve=!window.L_DISABLE_3D&&(Jn||tn||Gn)&&!oo&&!ao,kr=typeof orientation<"u"||yn("mobile"),ta=kr&&Hi,fl=kr&&tn,vi=!window.PointerEvent&&window.MSPointerEvent,Vr=!!(window.PointerEvent||vi),Ue="ontouchstart"in window||!!window.TouchEvent,qi=!window.L_NO_TOUCH&&(Ue||Vr),Fi=kr&&gs,Ti=kr&&hr,Cu=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,dl=(function(){var a=!1;try{var u=Object.defineProperty({},"passive",{get:function(){a=!0}});window.addEventListener("testPassiveEventSupport",R,u),window.removeEventListener("testPassiveEventSupport",R,u)}catch{}return a})(),Gi=(function(){return!!document.createElement("canvas").getContext})(),fr=!!(document.createElementNS&&Ws("svg").createSVGRect),Iu=!!fr&&(function(){var a=document.createElement("div");return a.innerHTML="<svg/>",(a.firstChild&&a.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"})(),_s=!fr&&(function(){try{var a=document.createElement("div");a.innerHTML='<v:shape adj="1"/>';var u=a.firstChild;return u.style.behavior="url(#default#VML)",u&&typeof u.adj=="object"}catch{return!1}})(),lo=navigator.platform.indexOf("Mac")===0,uo=navigator.platform.indexOf("Linux")===0;function yn(a){return navigator.userAgent.toLowerCase().indexOf(a)>=0}var It={ie:Dr,ielt9:Fe,edge:Ge,webkit:Hi,android:cl,android23:so,androidStock:ps,opera:gs,chrome:Js,gecko:hr,safari:Ru,phantom:ao,opera12:oo,win:hl,ie3d:Jn,webkit3d:tn,gecko3d:Gn,any3d:Ve,mobile:kr,mobileWebkit:ta,mobileWebkit3d:fl,msPointer:vi,pointer:Vr,touch:qi,touchNative:Ue,mobileOpera:Fi,mobileGecko:Ti,retina:Cu,passiveEvents:dl,canvas:Gi,svg:fr,vml:_s,inlineSvg:Iu,mac:lo,linux:uo},co=It.msPointer?"MSPointerDown":"pointerdown",ti=It.msPointer?"MSPointerMove":"pointermove",ei=It.msPointer?"MSPointerUp":"pointerup",ze=It.msPointer?"MSPointerCancel":"pointercancel",Ze={touchstart:co,touchmove:ti,touchend:ei,touchcancel:ze},Ei={touchstart:Ki,touchmove:vn,touchend:vn,touchcancel:vn},wi={},ml=!1;function pl(a,u,d){return u==="touchstart"&&ni(),Ei[u]?(d=Ei[u].bind(this,d),a.addEventListener(Ze[u],d,!1),d):(console.warn("wrong event specified:",u),R)}function gl(a,u,d){if(!Ze[u]){console.warn("wrong event specified:",u);return}a.removeEventListener(Ze[u],d,!1)}function Zi(a){wi[a.pointerId]=a}function ea(a){wi[a.pointerId]&&(wi[a.pointerId]=a)}function bi(a){delete wi[a.pointerId]}function ni(){ml||(document.addEventListener(co,Zi,!0),document.addEventListener(ti,ea,!0),document.addEventListener(ei,bi,!0),document.addEventListener(ze,bi,!0),ml=!0)}function vn(a,u){if(u.pointerType!==(u.MSPOINTER_TYPE_MOUSE||"mouse")){u.touches=[];for(var d in wi)u.touches.push(wi[d]);u.changedTouches=[u],a(u)}}function Ki(a,u){u.MSPOINTER_TYPE_TOUCH&&u.pointerType===u.MSPOINTER_TYPE_TOUCH&&Pe(u),vn(a,u)}function Ke(a){var u={},d,_;for(_ in a)d=a[_],u[_]=d&&d.bind?d.bind(a):d;return a=u,u.type="dblclick",u.detail=2,u.isTrusted=!1,u._simulated=!0,u}var ho=200;function fo(a,u){a.addEventListener("dblclick",u);var d=0,_;function w(C){if(C.detail!==1){_=C.detail;return}if(!(C.pointerType==="mouse"||C.sourceCapabilities&&!C.sourceCapabilities.firesTouchEvents)){var M=Hr(C);if(!(M.some(function(tt){return tt instanceof HTMLLabelElement&&tt.attributes.for})&&!M.some(function(tt){return tt instanceof HTMLInputElement||tt instanceof HTMLSelectElement}))){var Q=Date.now();Q-d<=ho?(_++,_===2&&u(Ke(C))):_=1,d=Q}}}return a.addEventListener("click",w),{dblclick:u,simDblclick:w}}function Yi(a,u){a.removeEventListener("dblclick",u.dblclick),a.removeEventListener("click",u.simDblclick)}var ii=vs(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),dr=vs(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),na=dr==="webkitTransition"||dr==="OTransition"?dr+"End":"transitionend";function ia(a){return typeof a=="string"?document.getElementById(a):a}function Ur(a,u){var d=a.style[u]||a.currentStyle&&a.currentStyle[u];if((!d||d==="auto")&&document.defaultView){var _=document.defaultView.getComputedStyle(a,null);d=_?_[u]:null}return d==="auto"?null:d}function Qt(a,u,d){var _=document.createElement(a);return _.className=u||"",d&&d.appendChild(_),_}function $t(a){var u=a.parentNode;u&&u.removeChild(a)}function Oe(a){for(;a.firstChild;)a.removeChild(a.firstChild)}function Le(a){var u=a.parentNode;u&&u.lastChild!==a&&u.appendChild(a)}function Zn(a){var u=a.parentNode;u&&u.firstChild!==a&&u.insertBefore(a,u.firstChild)}function ys(a,u){if(a.classList!==void 0)return a.classList.contains(u);var d=Qi(a);return d.length>0&&new RegExp("(^|\\s)"+u+"(\\s|$)").test(d)}function St(a,u){if(a.classList!==void 0)for(var d=B(u),_=0,w=d.length;_<w;_++)a.classList.add(d[_]);else if(!ys(a,u)){var C=Qi(a);ri(a,(C?C+" ":"")+u)}}function ye(a,u){a.classList!==void 0?a.classList.remove(u):ri(a,j((" "+Qi(a)+" ").replace(" "+u+" "," ")))}function ri(a,u){a.className.baseVal===void 0?a.className=u:a.className.baseVal=u}function Qi(a){return a.correspondingElement&&(a=a.correspondingElement),a.className.baseVal===void 0?a.className:a.className.baseVal}function Ce(a,u){"opacity"in a.style?a.style.opacity=u:"filter"in a.style&&ra(a,u)}function ra(a,u){var d=!1,_="DXImageTransform.Microsoft.Alpha";try{d=a.filters.item(_)}catch{if(u===1)return}u=Math.round(u*100),d?(d.Enabled=u!==100,d.Opacity=u):a.style.filter+=" progid:"+_+"(opacity="+u+")"}function vs(a){for(var u=document.documentElement.style,d=0;d<a.length;d++)if(a[d]in u)return a[d];return!1}function Si(a,u,d){var _=u||new pt(0,0);a.style[ii]=(It.ie3d?"translate("+_.x+"px,"+_.y+"px)":"translate3d("+_.x+"px,"+_.y+"px,0)")+(d?" scale("+d+")":"")}function ve(a,u){a._leaflet_pos=u,It.any3d?Si(a,u):(a.style.left=u.x+"px",a.style.top=u.y+"px")}function $i(a){return a._leaflet_pos||new pt(0,0)}var si,sn,sa;if("onselectstart"in document)si=function(){Dt(window,"selectstart",Pe)},sn=function(){he(window,"selectstart",Pe)};else{var mr=vs(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);si=function(){if(mr){var a=document.documentElement.style;sa=a[mr],a[mr]="none"}},sn=function(){mr&&(document.documentElement.style[mr]=sa,sa=void 0)}}function Ts(){Dt(window,"dragstart",Pe)}function zr(){he(window,"dragstart",Pe)}var Es,Xi;function Br(a){for(;a.tabIndex===-1;)a=a.parentNode;a.style&&(Mn(),Es=a,Xi=a.style.outlineStyle,a.style.outlineStyle="none",Dt(window,"keydown",Mn))}function Mn(){Es&&(Es.style.outlineStyle=Xi,Es=void 0,Xi=void 0,he(window,"keydown",Mn))}function aa(a){do a=a.parentNode;while((!a.offsetWidth||!a.offsetHeight)&&a!==document.body);return a}function Dn(a){var u=a.getBoundingClientRect();return{x:u.width/a.offsetWidth||1,y:u.height/a.offsetHeight||1,boundingClientRect:u}}var jr={__proto__:null,TRANSFORM:ii,TRANSITION:dr,TRANSITION_END:na,get:ia,getStyle:Ur,create:Qt,remove:$t,empty:Oe,toFront:Le,toBack:Zn,hasClass:ys,addClass:St,removeClass:ye,setClass:ri,getClass:Qi,setOpacity:Ce,testProp:vs,setTransform:Si,setPosition:ve,getPosition:$i,get disableTextSelection(){return si},get enableTextSelection(){return sn},disableImageDrag:Ts,enableImageDrag:zr,preventOutline:Br,restoreOutline:Mn,getSizedParentNode:aa,getScale:Dn};function Dt(a,u,d,_){if(u&&typeof u=="object")for(var w in u)kn(a,w,u[w],d);else{u=B(u);for(var C=0,M=u.length;C<M;C++)kn(a,u[C],d,_)}return this}var Tn="_leaflet_events";function he(a,u,d,_){if(arguments.length===1)pr(a),delete a[Tn];else if(u&&typeof u=="object")for(var w in u)gr(a,w,u[w],d);else if(u=B(u),arguments.length===2)pr(a,function(Q){return Ct(u,Q)!==-1});else for(var C=0,M=u.length;C<M;C++)gr(a,u[C],d,_);return this}function pr(a,u){for(var d in a[Tn]){var _=d.split(/\d/)[0];(!u||u(_))&&gr(a,_,null,null,d)}}var Kn={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function kn(a,u,d,_){var w=u+y(d)+(_?"_"+y(_):"");if(a[Tn]&&a[Tn][w])return this;var C=function(Q){return d.call(_||a,Q||window.event)},M=C;!It.touchNative&&It.pointer&&u.indexOf("touch")===0?C=pl(a,u,C):It.touch&&u==="dblclick"?C=fo(a,C):"addEventListener"in a?u==="touchstart"||u==="touchmove"||u==="wheel"||u==="mousewheel"?a.addEventListener(Kn[u]||u,C,It.passiveEvents?{passive:!1}:!1):u==="mouseenter"||u==="mouseleave"?(C=function(Q){Q=Q||window.event,Ci(a,Q)&&M(Q)},a.addEventListener(Kn[u],C,!1)):a.addEventListener(u,M,!1):a.attachEvent("on"+u,C),a[Tn]=a[Tn]||{},a[Tn][w]=C}function gr(a,u,d,_,w){w=w||u+y(d)+(_?"_"+y(_):"");var C=a[Tn]&&a[Tn][w];if(!C)return this;!It.touchNative&&It.pointer&&u.indexOf("touch")===0?gl(a,u,C):It.touch&&u==="dblclick"?Yi(a,C):"removeEventListener"in a?a.removeEventListener(Kn[u]||u,C,!1):a.detachEvent("on"+u,C),a[Tn][w]=null}function ee(a){return a.stopPropagation?a.stopPropagation():a.originalEvent?a.originalEvent._stopped=!0:a.cancelBubble=!0,this}function ai(a){return kn(a,"wheel",ee),this}function _r(a){return Dt(a,"mousedown touchstart dblclick contextmenu",ee),a._leaflet_disable_click=!0,this}function Pe(a){return a.preventDefault?a.preventDefault():a.returnValue=!1,this}function Ai(a){return Pe(a),ee(a),this}function Hr(a){if(a.composedPath)return a.composedPath();for(var u=[],d=a.target;d;)u.push(d),d=d.parentNode;return u}function Wi(a,u){if(!u)return new pt(a.clientX,a.clientY);var d=Dn(u),_=d.boundingClientRect;return new pt((a.clientX-_.left)/d.x-u.clientLeft,(a.clientY-_.top)/d.y-u.clientTop)}var Ri=It.linux&&It.chrome?window.devicePixelRatio:It.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function an(a){return It.edge?a.wheelDeltaY/2:a.deltaY&&a.deltaMode===0?-a.deltaY/Ri:a.deltaY&&a.deltaMode===1?-a.deltaY*20:a.deltaY&&a.deltaMode===2?-a.deltaY*60:a.deltaX||a.deltaZ?0:a.wheelDelta?(a.wheelDeltaY||a.wheelDelta)/2:a.detail&&Math.abs(a.detail)<32765?-a.detail*20:a.detail?a.detail/-32765*60:0}function Ci(a,u){var d=u.relatedTarget;if(!d)return!0;try{for(;d&&d!==a;)d=d.parentNode}catch{return!1}return d!==a}var Ji={__proto__:null,on:Dt,off:he,stopPropagation:ee,disableScrollPropagation:ai,disableClickPropagation:_r,preventDefault:Pe,stop:Ai,getPropagationPath:Hr,getMousePosition:Wi,getWheelDelta:an,isExternalTarget:Ci,addListener:Dt,removeListener:he},yr=vt.extend({run:function(a,u,d,_){this.stop(),this._el=a,this._inProgress=!0,this._duration=d||.25,this._easeOutPower=1/Math.max(_||.5,.2),this._startPos=$i(a),this._offset=u.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=U(this._animate,this),this._step()},_step:function(a){var u=+new Date-this._startTime,d=this._duration*1e3;u<d?this._runFrame(this._easeOut(u/d),a):(this._runFrame(1),this._complete())},_runFrame:function(a,u){var d=this._startPos.add(this._offset.multiplyBy(a));u&&d._round(),ve(this._el,d),this.fire("step")},_complete:function(){Z(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(a){return 1-Math.pow(1-a,this._easeOutPower)}}),Yt=vt.extend({options:{crs:Pr,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(a,u){u=K(this,u),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(a),this._initLayout(),this._onResize=m(this._onResize,this),this._initEvents(),u.maxBounds&&this.setMaxBounds(u.maxBounds),u.zoom!==void 0&&(this._zoom=this._limitZoom(u.zoom)),u.center&&u.zoom!==void 0&&this.setView(Et(u.center),u.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=dr&&It.any3d&&!It.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),Dt(this._proxy,na,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(a,u,d){if(u=u===void 0?this._zoom:this._limitZoom(u),a=this._limitCenter(Et(a),u,this.options.maxBounds),d=d||{},this._stop(),this._loaded&&!d.reset&&d!==!0){d.animate!==void 0&&(d.zoom=l({animate:d.animate},d.zoom),d.pan=l({animate:d.animate,duration:d.duration},d.pan));var _=this._zoom!==u?this._tryAnimatedZoom&&this._tryAnimatedZoom(a,u,d.zoom):this._tryAnimatedPan(a,d.pan);if(_)return clearTimeout(this._sizeTimer),this}return this._resetView(a,u,d.pan&&d.pan.noMoveStart),this},setZoom:function(a,u){return this._loaded?this.setView(this.getCenter(),a,{zoom:u}):(this._zoom=a,this)},zoomIn:function(a,u){return a=a||(It.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+a,u)},zoomOut:function(a,u){return a=a||(It.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-a,u)},setZoomAround:function(a,u,d){var _=this.getZoomScale(u),w=this.getSize().divideBy(2),C=a instanceof pt?a:this.latLngToContainerPoint(a),M=C.subtract(w).multiplyBy(1-1/_),Q=this.containerPointToLatLng(w.add(M));return this.setView(Q,u,{zoom:d})},_getBoundsCenterZoom:function(a,u){u=u||{},a=a.getBounds?a.getBounds():_t(a);var d=bt(u.paddingTopLeft||u.padding||[0,0]),_=bt(u.paddingBottomRight||u.padding||[0,0]),w=this.getBoundsZoom(a,!1,d.add(_));if(w=typeof u.maxZoom=="number"?Math.min(u.maxZoom,w):w,w===1/0)return{center:a.getCenter(),zoom:w};var C=_.subtract(d).divideBy(2),M=this.project(a.getSouthWest(),w),Q=this.project(a.getNorthEast(),w),tt=this.unproject(M.add(Q).divideBy(2).add(C),w);return{center:tt,zoom:w}},fitBounds:function(a,u){if(a=_t(a),!a.isValid())throw new Error("Bounds are not valid.");var d=this._getBoundsCenterZoom(a,u);return this.setView(d.center,d.zoom,u)},fitWorld:function(a){return this.fitBounds([[-90,-180],[90,180]],a)},panTo:function(a,u){return this.setView(a,this._zoom,{pan:u})},panBy:function(a,u){if(a=bt(a).round(),u=u||{},!a.x&&!a.y)return this.fire("moveend");if(u.animate!==!0&&!this.getSize().contains(a))return this._resetView(this.unproject(this.project(this.getCenter()).add(a)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new yr,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),u.noMoveStart||this.fire("movestart"),u.animate!==!1){St(this._mapPane,"leaflet-pan-anim");var d=this._getMapPanePos().subtract(a).round();this._panAnim.run(this._mapPane,d,u.duration||.25,u.easeLinearity)}else this._rawPanBy(a),this.fire("move").fire("moveend");return this},flyTo:function(a,u,d){if(d=d||{},d.animate===!1||!It.any3d)return this.setView(a,u,d);this._stop();var _=this.project(this.getCenter()),w=this.project(a),C=this.getSize(),M=this._zoom;a=Et(a),u=u===void 0?M:u;var Q=Math.max(C.x,C.y),tt=Q*this.getZoomScale(M,u),ht=w.distanceTo(_)||1,Tt=1.42,Ot=Tt*Tt;function Zt(Be){var br=Be?-1:1,Is=Be?tt:Q,Mu=tt*tt-Q*Q+br*Ot*Ot*ht*ht,Po=2*Is*Ot*ht,Mo=Mu/Po,Wr=Math.sqrt(Mo*Mo+1)-Mo,Sr=Wr<1e-9?-18:Math.log(Wr);return Sr}function pn(Be){return(Math.exp(Be)-Math.exp(-Be))/2}function Ye(Be){return(Math.exp(Be)+Math.exp(-Be))/2}function $n(Be){return pn(Be)/Ye(Be)}var fe=Zt(0);function de(Be){return Q*(Ye(fe)/Ye(fe+Tt*Be))}function Xt(Be){return Q*(Ye(fe)*$n(fe+Tt*Be)-pn(fe))/Ot}function $r(Be){return 1-Math.pow(1-Be,1.5)}var hi=Date.now(),xl=(Zt(1)-fe)/Tt,Xr=d.duration?1e3*d.duration:1e3*xl*.8;function Pu(){var Be=(Date.now()-hi)/Xr,br=$r(Be)*xl;Be<=1?(this._flyToFrame=U(Pu,this),this._move(this.unproject(_.add(w.subtract(_).multiplyBy(Xt(br)/ht)),M),this.getScaleZoom(Q/de(br),M),{flyTo:!0})):this._move(a,u)._moveEnd(!0)}return this._moveStart(!0,d.noMoveStart),Pu.call(this),this},flyToBounds:function(a,u){var d=this._getBoundsCenterZoom(a,u);return this.flyTo(d.center,d.zoom,u)},setMaxBounds:function(a){return a=_t(a),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),a.isValid()?(this.options.maxBounds=a,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(a){var u=this.options.minZoom;return this.options.minZoom=a,this._loaded&&u!==a&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(a):this},setMaxZoom:function(a){var u=this.options.maxZoom;return this.options.maxZoom=a,this._loaded&&u!==a&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(a):this},panInsideBounds:function(a,u){this._enforcingBounds=!0;var d=this.getCenter(),_=this._limitCenter(d,this._zoom,_t(a));return d.equals(_)||this.panTo(_,u),this._enforcingBounds=!1,this},panInside:function(a,u){u=u||{};var d=bt(u.paddingTopLeft||u.padding||[0,0]),_=bt(u.paddingBottomRight||u.padding||[0,0]),w=this.project(this.getCenter()),C=this.project(a),M=this.getPixelBounds(),Q=ot([M.min.add(d),M.max.subtract(_)]),tt=Q.getSize();if(!Q.contains(C)){this._enforcingBounds=!0;var ht=C.subtract(Q.getCenter()),Tt=Q.extend(C).getSize().subtract(tt);w.x+=ht.x<0?-Tt.x:Tt.x,w.y+=ht.y<0?-Tt.y:Tt.y,this.panTo(this.unproject(w),u),this._enforcingBounds=!1}return this},invalidateSize:function(a){if(!this._loaded)return this;a=l({animate:!1,pan:!0},a===!0?{animate:!0}:a);var u=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var d=this.getSize(),_=u.divideBy(2).round(),w=d.divideBy(2).round(),C=_.subtract(w);return!C.x&&!C.y?this:(a.animate&&a.pan?this.panBy(C):(a.pan&&this._rawPanBy(C),this.fire("move"),a.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(m(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:u,newSize:d}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(a){if(a=this._locateOptions=l({timeout:1e4,watch:!1},a),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var u=m(this._handleGeolocationResponse,this),d=m(this._handleGeolocationError,this);return a.watch?this._locationWatchId=navigator.geolocation.watchPosition(u,d,a):navigator.geolocation.getCurrentPosition(u,d,a),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(a){if(this._container._leaflet_id){var u=a.code,d=a.message||(u===1?"permission denied":u===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:u,message:"Geolocation error: "+d+"."})}},_handleGeolocationResponse:function(a){if(this._container._leaflet_id){var u=a.coords.latitude,d=a.coords.longitude,_=new wt(u,d),w=_.toBounds(a.coords.accuracy*2),C=this._locateOptions;if(C.setView){var M=this.getBoundsZoom(w);this.setView(_,C.maxZoom?Math.min(M,C.maxZoom):M)}var Q={latlng:_,bounds:w,timestamp:a.timestamp};for(var tt in a.coords)typeof a.coords[tt]=="number"&&(Q[tt]=a.coords[tt]);this.fire("locationfound",Q)}},addHandler:function(a,u){if(!u)return this;var d=this[a]=new u(this);return this._handlers.push(d),this.options[a]&&d.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),$t(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(Z(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var a;for(a in this._layers)this._layers[a].remove();for(a in this._panes)$t(this._panes[a]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(a,u){var d="leaflet-pane"+(a?" leaflet-"+a.replace("Pane","")+"-pane":""),_=Qt("div",d,u||this._mapPane);return a&&(this._panes[a]=_),_},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var a=this.getPixelBounds(),u=this.unproject(a.getBottomLeft()),d=this.unproject(a.getTopRight());return new gt(u,d)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(a,u,d){a=_t(a),d=bt(d||[0,0]);var _=this.getZoom()||0,w=this.getMinZoom(),C=this.getMaxZoom(),M=a.getNorthWest(),Q=a.getSouthEast(),tt=this.getSize().subtract(d),ht=ot(this.project(Q,_),this.project(M,_)).getSize(),Tt=It.any3d?this.options.zoomSnap:1,Ot=tt.x/ht.x,Zt=tt.y/ht.y,pn=u?Math.max(Ot,Zt):Math.min(Ot,Zt);return _=this.getScaleZoom(pn,_),Tt&&(_=Math.round(_/(Tt/100))*(Tt/100),_=u?Math.ceil(_/Tt)*Tt:Math.floor(_/Tt)*Tt),Math.max(w,Math.min(C,_))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new pt(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(a,u){var d=this._getTopLeftPoint(a,u);return new z(d,d.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(a){return this.options.crs.getProjectedBounds(a===void 0?this.getZoom():a)},getPane:function(a){return typeof a=="string"?this._panes[a]:a},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(a,u){var d=this.options.crs;return u=u===void 0?this._zoom:u,d.scale(a)/d.scale(u)},getScaleZoom:function(a,u){var d=this.options.crs;u=u===void 0?this._zoom:u;var _=d.zoom(a*d.scale(u));return isNaN(_)?1/0:_},project:function(a,u){return u=u===void 0?this._zoom:u,this.options.crs.latLngToPoint(Et(a),u)},unproject:function(a,u){return u=u===void 0?this._zoom:u,this.options.crs.pointToLatLng(bt(a),u)},layerPointToLatLng:function(a){var u=bt(a).add(this.getPixelOrigin());return this.unproject(u)},latLngToLayerPoint:function(a){var u=this.project(Et(a))._round();return u._subtract(this.getPixelOrigin())},wrapLatLng:function(a){return this.options.crs.wrapLatLng(Et(a))},wrapLatLngBounds:function(a){return this.options.crs.wrapLatLngBounds(_t(a))},distance:function(a,u){return this.options.crs.distance(Et(a),Et(u))},containerPointToLayerPoint:function(a){return bt(a).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(a){return bt(a).add(this._getMapPanePos())},containerPointToLatLng:function(a){var u=this.containerPointToLayerPoint(bt(a));return this.layerPointToLatLng(u)},latLngToContainerPoint:function(a){return this.layerPointToContainerPoint(this.latLngToLayerPoint(Et(a)))},mouseEventToContainerPoint:function(a){return Wi(a,this._container)},mouseEventToLayerPoint:function(a){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(a))},mouseEventToLatLng:function(a){return this.layerPointToLatLng(this.mouseEventToLayerPoint(a))},_initContainer:function(a){var u=this._container=ia(a);if(u){if(u._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");Dt(u,"scroll",this._onScroll,this),this._containerId=y(u)},_initLayout:function(){var a=this._container;this._fadeAnimated=this.options.fadeAnimation&&It.any3d,St(a,"leaflet-container"+(It.touch?" leaflet-touch":"")+(It.retina?" leaflet-retina":"")+(It.ielt9?" leaflet-oldie":"")+(It.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var u=Ur(a,"position");u!=="absolute"&&u!=="relative"&&u!=="fixed"&&u!=="sticky"&&(a.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var a=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),ve(this._mapPane,new pt(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(St(a.markerPane,"leaflet-zoom-hide"),St(a.shadowPane,"leaflet-zoom-hide"))},_resetView:function(a,u,d){ve(this._mapPane,new pt(0,0));var _=!this._loaded;this._loaded=!0,u=this._limitZoom(u),this.fire("viewprereset");var w=this._zoom!==u;this._moveStart(w,d)._move(a,u)._moveEnd(w),this.fire("viewreset"),_&&this.fire("load")},_moveStart:function(a,u){return a&&this.fire("zoomstart"),u||this.fire("movestart"),this},_move:function(a,u,d,_){u===void 0&&(u=this._zoom);var w=this._zoom!==u;return this._zoom=u,this._lastCenter=a,this._pixelOrigin=this._getNewPixelOrigin(a),_?d&&d.pinch&&this.fire("zoom",d):((w||d&&d.pinch)&&this.fire("zoom",d),this.fire("move",d)),this},_moveEnd:function(a){return a&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return Z(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(a){ve(this._mapPane,this._getMapPanePos().subtract(a))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(a){this._targets={},this._targets[y(this._container)]=this;var u=a?he:Dt;u(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&u(window,"resize",this._onResize,this),It.any3d&&this.options.transform3DLimit&&(a?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){Z(this._resizeRequest),this._resizeRequest=U(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var a=this._getMapPanePos();Math.max(Math.abs(a.x),Math.abs(a.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(a,u){for(var d=[],_,w=u==="mouseout"||u==="mouseover",C=a.target||a.srcElement,M=!1;C;){if(_=this._targets[y(C)],_&&(u==="click"||u==="preclick")&&this._draggableMoved(_)){M=!0;break}if(_&&_.listens(u,!0)&&(w&&!Ci(C,a)||(d.push(_),w))||C===this._container)break;C=C.parentNode}return!d.length&&!M&&!w&&this.listens(u,!0)&&(d=[this]),d},_isClickDisabled:function(a){for(;a&&a!==this._container;){if(a._leaflet_disable_click)return!0;a=a.parentNode}},_handleDOMEvent:function(a){var u=a.target||a.srcElement;if(!(!this._loaded||u._leaflet_disable_events||a.type==="click"&&this._isClickDisabled(u))){var d=a.type;d==="mousedown"&&Br(u),this._fireDOMEvent(a,d)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(a,u,d){if(a.type==="click"){var _=l({},a);_.type="preclick",this._fireDOMEvent(_,_.type,d)}var w=this._findEventTargets(a,u);if(d){for(var C=[],M=0;M<d.length;M++)d[M].listens(u,!0)&&C.push(d[M]);w=C.concat(w)}if(w.length){u==="contextmenu"&&Pe(a);var Q=w[0],tt={originalEvent:a};if(a.type!=="keypress"&&a.type!=="keydown"&&a.type!=="keyup"){var ht=Q.getLatLng&&(!Q._radius||Q._radius<=10);tt.containerPoint=ht?this.latLngToContainerPoint(Q.getLatLng()):this.mouseEventToContainerPoint(a),tt.layerPoint=this.containerPointToLayerPoint(tt.containerPoint),tt.latlng=ht?Q.getLatLng():this.layerPointToLatLng(tt.layerPoint)}for(M=0;M<w.length;M++)if(w[M].fire(u,tt,!0),tt.originalEvent._stopped||w[M].options.bubblingMouseEvents===!1&&Ct(this._mouseEvents,u)!==-1)return}},_draggableMoved:function(a){return a=a.dragging&&a.dragging.enabled()?a:this,a.dragging&&a.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var a=0,u=this._handlers.length;a<u;a++)this._handlers[a].disable()},whenReady:function(a,u){return this._loaded?a.call(u||this,{target:this}):this.on("load",a,u),this},_getMapPanePos:function(){return $i(this._mapPane)||new pt(0,0)},_moved:function(){var a=this._getMapPanePos();return a&&!a.equals([0,0])},_getTopLeftPoint:function(a,u){var d=a&&u!==void 0?this._getNewPixelOrigin(a,u):this.getPixelOrigin();return d.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(a,u){var d=this.getSize()._divideBy(2);return this.project(a,u)._subtract(d)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(a,u,d){var _=this._getNewPixelOrigin(d,u);return this.project(a,u)._subtract(_)},_latLngBoundsToNewLayerBounds:function(a,u,d){var _=this._getNewPixelOrigin(d,u);return ot([this.project(a.getSouthWest(),u)._subtract(_),this.project(a.getNorthWest(),u)._subtract(_),this.project(a.getSouthEast(),u)._subtract(_),this.project(a.getNorthEast(),u)._subtract(_)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(a){return this.latLngToLayerPoint(a).subtract(this._getCenterLayerPoint())},_limitCenter:function(a,u,d){if(!d)return a;var _=this.project(a,u),w=this.getSize().divideBy(2),C=new z(_.subtract(w),_.add(w)),M=this._getBoundsOffset(C,d,u);return Math.abs(M.x)<=1&&Math.abs(M.y)<=1?a:this.unproject(_.add(M),u)},_limitOffset:function(a,u){if(!u)return a;var d=this.getPixelBounds(),_=new z(d.min.add(a),d.max.add(a));return a.add(this._getBoundsOffset(_,u))},_getBoundsOffset:function(a,u,d){var _=ot(this.project(u.getNorthEast(),d),this.project(u.getSouthWest(),d)),w=_.min.subtract(a.min),C=_.max.subtract(a.max),M=this._rebound(w.x,-C.x),Q=this._rebound(w.y,-C.y);return new pt(M,Q)},_rebound:function(a,u){return a+u>0?Math.round(a-u)/2:Math.max(0,Math.ceil(a))-Math.max(0,Math.floor(u))},_limitZoom:function(a){var u=this.getMinZoom(),d=this.getMaxZoom(),_=It.any3d?this.options.zoomSnap:1;return _&&(a=Math.round(a/_)*_),Math.max(u,Math.min(d,a))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){ye(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(a,u){var d=this._getCenterOffset(a)._trunc();return(u&&u.animate)!==!0&&!this.getSize().contains(d)?!1:(this.panBy(d,u),!0)},_createAnimProxy:function(){var a=this._proxy=Qt("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(a),this.on("zoomanim",function(u){var d=ii,_=this._proxy.style[d];Si(this._proxy,this.project(u.center,u.zoom),this.getZoomScale(u.zoom,1)),_===this._proxy.style[d]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){$t(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var a=this.getCenter(),u=this.getZoom();Si(this._proxy,this.project(a,u),this.getZoomScale(u,1))},_catchTransitionEnd:function(a){this._animatingZoom&&a.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(a,u,d){if(this._animatingZoom)return!0;if(d=d||{},!this._zoomAnimated||d.animate===!1||this._nothingToAnimate()||Math.abs(u-this._zoom)>this.options.zoomAnimationThreshold)return!1;var _=this.getZoomScale(u),w=this._getCenterOffset(a)._divideBy(1-1/_);return d.animate!==!0&&!this.getSize().contains(w)?!1:(U(function(){this._moveStart(!0,d.noMoveStart||!1)._animateZoom(a,u,!0)},this),!0)},_animateZoom:function(a,u,d,_){this._mapPane&&(d&&(this._animatingZoom=!0,this._animateToCenter=a,this._animateToZoom=u,St(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:a,zoom:u,noUpdate:_}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(m(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&ye(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function qr(a,u){return new Yt(a,u)}var En=oe.extend({options:{position:"topright"},initialize:function(a){K(this,a)},getPosition:function(){return this.options.position},setPosition:function(a){var u=this._map;return u&&u.removeControl(this),this.options.position=a,u&&u.addControl(this),this},getContainer:function(){return this._container},addTo:function(a){this.remove(),this._map=a;var u=this._container=this.onAdd(a),d=this.getPosition(),_=a._controlCorners[d];return St(u,"leaflet-control"),d.indexOf("bottom")!==-1?_.insertBefore(u,_.firstChild):_.appendChild(u),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?($t(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(a){this._map&&a&&a.screenX>0&&a.screenY>0&&this._map.getContainer().focus()}}),Vn=function(a){return new En(a)};Yt.include({addControl:function(a){return a.addTo(this),this},removeControl:function(a){return a.remove(),this},_initControlPos:function(){var a=this._controlCorners={},u="leaflet-",d=this._controlContainer=Qt("div",u+"control-container",this._container);function _(w,C){var M=u+w+" "+u+C;a[w+C]=Qt("div",M,d)}_("top","left"),_("top","right"),_("bottom","left"),_("bottom","right")},_clearControlPos:function(){for(var a in this._controlCorners)$t(this._controlCorners[a]);$t(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var ws=En.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(a,u,d,_){return d<_?-1:_<d?1:0}},initialize:function(a,u,d){K(this,d),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var _ in a)this._addLayer(a[_],_);for(_ in u)this._addLayer(u[_],_,!0)},onAdd:function(a){this._initLayout(),this._update(),this._map=a,a.on("zoomend",this._checkDisabledLayers,this);for(var u=0;u<this._layers.length;u++)this._layers[u].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(a){return En.prototype.addTo.call(this,a),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var a=0;a<this._layers.length;a++)this._layers[a].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(a,u){return this._addLayer(a,u),this._map?this._update():this},addOverlay:function(a,u){return this._addLayer(a,u,!0),this._map?this._update():this},removeLayer:function(a){a.off("add remove",this._onLayerChange,this);var u=this._getLayer(y(a));return u&&this._layers.splice(this._layers.indexOf(u),1),this._map?this._update():this},expand:function(){St(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var a=this._map.getSize().y-(this._container.offsetTop+50);return a<this._section.clientHeight?(St(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=a+"px"):ye(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return ye(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var a="leaflet-control-layers",u=this._container=Qt("div",a),d=this.options.collapsed;u.setAttribute("aria-haspopup",!0),_r(u),ai(u);var _=this._section=Qt("section",a+"-list");d&&(this._map.on("click",this.collapse,this),Dt(u,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var w=this._layersLink=Qt("a",a+"-toggle",u);w.href="#",w.title="Layers",w.setAttribute("role","button"),Dt(w,{keydown:function(C){C.keyCode===13&&this._expandSafely()},click:function(C){Pe(C),this._expandSafely()}},this),d||this.expand(),this._baseLayersList=Qt("div",a+"-base",_),this._separator=Qt("div",a+"-separator",_),this._overlaysList=Qt("div",a+"-overlays",_),u.appendChild(_)},_getLayer:function(a){for(var u=0;u<this._layers.length;u++)if(this._layers[u]&&y(this._layers[u].layer)===a)return this._layers[u]},_addLayer:function(a,u,d){this._map&&a.on("add remove",this._onLayerChange,this),this._layers.push({layer:a,name:u,overlay:d}),this.options.sortLayers&&this._layers.sort(m(function(_,w){return this.options.sortFunction(_.layer,w.layer,_.name,w.name)},this)),this.options.autoZIndex&&a.setZIndex&&(this._lastZIndex++,a.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;Oe(this._baseLayersList),Oe(this._overlaysList),this._layerControlInputs=[];var a,u,d,_,w=0;for(d=0;d<this._layers.length;d++)_=this._layers[d],this._addItem(_),u=u||_.overlay,a=a||!_.overlay,w+=_.overlay?0:1;return this.options.hideSingleBase&&(a=a&&w>1,this._baseLayersList.style.display=a?"":"none"),this._separator.style.display=u&&a?"":"none",this},_onLayerChange:function(a){this._handlingClick||this._update();var u=this._getLayer(y(a.target)),d=u.overlay?a.type==="add"?"overlayadd":"overlayremove":a.type==="add"?"baselayerchange":null;d&&this._map.fire(d,u)},_createRadioElement:function(a,u){var d='<input type="radio" class="leaflet-control-layers-selector" name="'+a+'"'+(u?' checked="checked"':"")+"/>",_=document.createElement("div");return _.innerHTML=d,_.firstChild},_addItem:function(a){var u=document.createElement("label"),d=this._map.hasLayer(a.layer),_;a.overlay?(_=document.createElement("input"),_.type="checkbox",_.className="leaflet-control-layers-selector",_.defaultChecked=d):_=this._createRadioElement("leaflet-base-layers_"+y(this),d),this._layerControlInputs.push(_),_.layerId=y(a.layer),Dt(_,"click",this._onInputClick,this);var w=document.createElement("span");w.innerHTML=" "+a.name;var C=document.createElement("span");u.appendChild(C),C.appendChild(_),C.appendChild(w);var M=a.overlay?this._overlaysList:this._baseLayersList;return M.appendChild(u),this._checkDisabledLayers(),u},_onInputClick:function(){if(!this._preventClick){var a=this._layerControlInputs,u,d,_=[],w=[];this._handlingClick=!0;for(var C=a.length-1;C>=0;C--)u=a[C],d=this._getLayer(u.layerId).layer,u.checked?_.push(d):u.checked||w.push(d);for(C=0;C<w.length;C++)this._map.hasLayer(w[C])&&this._map.removeLayer(w[C]);for(C=0;C<_.length;C++)this._map.hasLayer(_[C])||this._map.addLayer(_[C]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var a=this._layerControlInputs,u,d,_=this._map.getZoom(),w=a.length-1;w>=0;w--)u=a[w],d=this._getLayer(u.layerId).layer,u.disabled=d.options.minZoom!==void 0&&_<d.options.minZoom||d.options.maxZoom!==void 0&&_>d.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var a=this._section;this._preventClick=!0,Dt(a,"click",Pe),this.expand();var u=this;setTimeout(function(){he(a,"click",Pe),u._preventClick=!1})}}),mo=function(a,u,d){return new ws(a,u,d)},vr=En.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(a){var u="leaflet-control-zoom",d=Qt("div",u+" leaflet-bar"),_=this.options;return this._zoomInButton=this._createButton(_.zoomInText,_.zoomInTitle,u+"-in",d,this._zoomIn),this._zoomOutButton=this._createButton(_.zoomOutText,_.zoomOutTitle,u+"-out",d,this._zoomOut),this._updateDisabled(),a.on("zoomend zoomlevelschange",this._updateDisabled,this),d},onRemove:function(a){a.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(a){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(a.shiftKey?3:1))},_zoomOut:function(a){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(a.shiftKey?3:1))},_createButton:function(a,u,d,_,w){var C=Qt("a",d,_);return C.innerHTML=a,C.href="#",C.title=u,C.setAttribute("role","button"),C.setAttribute("aria-label",u),_r(C),Dt(C,"click",Ai),Dt(C,"click",w,this),Dt(C,"click",this._refocusOnMap,this),C},_updateDisabled:function(){var a=this._map,u="leaflet-disabled";ye(this._zoomInButton,u),ye(this._zoomOutButton,u),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||a._zoom===a.getMinZoom())&&(St(this._zoomOutButton,u),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||a._zoom===a.getMaxZoom())&&(St(this._zoomInButton,u),this._zoomInButton.setAttribute("aria-disabled","true"))}});Yt.mergeOptions({zoomControl:!0}),Yt.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new vr,this.addControl(this.zoomControl))});var _l=function(a){return new vr(a)},po=En.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(a){var u="leaflet-control-scale",d=Qt("div",u),_=this.options;return this._addScales(_,u+"-line",d),a.on(_.updateWhenIdle?"moveend":"move",this._update,this),a.whenReady(this._update,this),d},onRemove:function(a){a.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(a,u,d){a.metric&&(this._mScale=Qt("div",u,d)),a.imperial&&(this._iScale=Qt("div",u,d))},_update:function(){var a=this._map,u=a.getSize().y/2,d=a.distance(a.containerPointToLatLng([0,u]),a.containerPointToLatLng([this.options.maxWidth,u]));this._updateScales(d)},_updateScales:function(a){this.options.metric&&a&&this._updateMetric(a),this.options.imperial&&a&&this._updateImperial(a)},_updateMetric:function(a){var u=this._getRoundNum(a),d=u<1e3?u+" m":u/1e3+" km";this._updateScale(this._mScale,d,u/a)},_updateImperial:function(a){var u=a*3.2808399,d,_,w;u>5280?(d=u/5280,_=this._getRoundNum(d),this._updateScale(this._iScale,_+" mi",_/d)):(w=this._getRoundNum(u),this._updateScale(this._iScale,w+" ft",w/u))},_updateScale:function(a,u,d){a.style.width=Math.round(this.options.maxWidth*d)+"px",a.innerHTML=u},_getRoundNum:function(a){var u=Math.pow(10,(Math.floor(a)+"").length-1),d=a/u;return d=d>=10?10:d>=5?5:d>=3?3:d>=2?2:1,u*d}}),bs=function(a){return new po(a)},go='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',oa=En.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(It.inlineSvg?go+" ":"")+"Leaflet</a>"},initialize:function(a){K(this,a),this._attributions={}},onAdd:function(a){a.attributionControl=this,this._container=Qt("div","leaflet-control-attribution"),_r(this._container);for(var u in a._layers)a._layers[u].getAttribution&&this.addAttribution(a._layers[u].getAttribution());return this._update(),a.on("layeradd",this._addAttribution,this),this._container},onRemove:function(a){a.off("layeradd",this._addAttribution,this)},_addAttribution:function(a){a.layer.getAttribution&&(this.addAttribution(a.layer.getAttribution()),a.layer.once("remove",function(){this.removeAttribution(a.layer.getAttribution())},this))},setPrefix:function(a){return this.options.prefix=a,this._update(),this},addAttribution:function(a){return a?(this._attributions[a]||(this._attributions[a]=0),this._attributions[a]++,this._update(),this):this},removeAttribution:function(a){return a?(this._attributions[a]&&(this._attributions[a]--,this._update()),this):this},_update:function(){if(this._map){var a=[];for(var u in this._attributions)this._attributions[u]&&a.push(u);var d=[];this.options.prefix&&d.push(this.options.prefix),a.length&&d.push(a.join(", ")),this._container.innerHTML=d.join(' <span aria-hidden="true">|</span> ')}}});Yt.mergeOptions({attributionControl:!0}),Yt.addInitHook(function(){this.options.attributionControl&&new oa().addTo(this)});var la=function(a){return new oa(a)};En.Layers=ws,En.Zoom=vr,En.Scale=po,En.Attribution=oa,Vn.layers=mo,Vn.zoom=_l,Vn.scale=bs,Vn.attribution=la;var Yn=oe.extend({initialize:function(a){this._map=a},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});Yn.addTo=function(a,u){return a.addHandler(u,this),this};var yl={Events:at},Ii=It.touch?"touchstart mousedown":"mousedown",xi=vt.extend({options:{clickTolerance:3},initialize:function(a,u,d,_){K(this,_),this._element=a,this._dragStartTarget=u||a,this._preventOutline=d},enable:function(){this._enabled||(Dt(this._dragStartTarget,Ii,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(xi._dragging===this&&this.finishDrag(!0),he(this._dragStartTarget,Ii,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(a){if(this._enabled&&(this._moved=!1,!ys(this._element,"leaflet-zoom-anim"))){if(a.touches&&a.touches.length!==1){xi._dragging===this&&this.finishDrag();return}if(!(xi._dragging||a.shiftKey||a.which!==1&&a.button!==1&&!a.touches)&&(xi._dragging=this,this._preventOutline&&Br(this._element),Ts(),si(),!this._moving)){this.fire("down");var u=a.touches?a.touches[0]:a,d=aa(this._element);this._startPoint=new pt(u.clientX,u.clientY),this._startPos=$i(this._element),this._parentScale=Dn(d);var _=a.type==="mousedown";Dt(document,_?"mousemove":"touchmove",this._onMove,this),Dt(document,_?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(a){if(this._enabled){if(a.touches&&a.touches.length>1){this._moved=!0;return}var u=a.touches&&a.touches.length===1?a.touches[0]:a,d=new pt(u.clientX,u.clientY)._subtract(this._startPoint);!d.x&&!d.y||Math.abs(d.x)+Math.abs(d.y)<this.options.clickTolerance||(d.x/=this._parentScale.x,d.y/=this._parentScale.y,Pe(a),this._moved||(this.fire("dragstart"),this._moved=!0,St(document.body,"leaflet-dragging"),this._lastTarget=a.target||a.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),St(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(d),this._moving=!0,this._lastEvent=a,this._updatePosition())}},_updatePosition:function(){var a={originalEvent:this._lastEvent};this.fire("predrag",a),ve(this._element,this._newPos),this.fire("drag",a)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(a){ye(document.body,"leaflet-dragging"),this._lastTarget&&(ye(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),he(document,"mousemove touchmove",this._onMove,this),he(document,"mouseup touchend touchcancel",this._onUp,this),zr(),sn();var u=this._moved&&this._moving;this._moving=!1,xi._dragging=!1,u&&this.fire("dragend",{noInertia:a,distance:this._newPos.distanceTo(this._startPos)})}});function _o(a,u,d){var _,w=[1,4,2,8],C,M,Q,tt,ht,Tt,Ot,Zt;for(C=0,Tt=a.length;C<Tt;C++)a[C]._code=nt(a[C],u);for(Q=0;Q<4;Q++){for(Ot=w[Q],_=[],C=0,Tt=a.length,M=Tt-1;C<Tt;M=C++)tt=a[C],ht=a[M],tt._code&Ot?ht._code&Ot||(Zt=X(ht,tt,Ot,u,d),Zt._code=nt(Zt,u),_.push(Zt)):(ht._code&Ot&&(Zt=X(ht,tt,Ot,u,d),Zt._code=nt(Zt,u),_.push(Zt)),_.push(tt));a=_}return a}function yo(a,u){var d,_,w,C,M,Q,tt,ht,Tt;if(!a||a.length===0)throw new Error("latlngs not passed");le(a)||(console.warn("latlngs are not flat! Only the first ring will be used"),a=a[0]);var Ot=Et([0,0]),Zt=_t(a),pn=Zt.getNorthWest().distanceTo(Zt.getSouthWest())*Zt.getNorthEast().distanceTo(Zt.getNorthWest());pn<1700&&(Ot=ua(a));var Ye=a.length,$n=[];for(d=0;d<Ye;d++){var fe=Et(a[d]);$n.push(u.project(Et([fe.lat-Ot.lat,fe.lng-Ot.lng])))}for(Q=tt=ht=0,d=0,_=Ye-1;d<Ye;_=d++)w=$n[d],C=$n[_],M=w.y*C.x-C.y*w.x,tt+=(w.x+C.x)*M,ht+=(w.y+C.y)*M,Q+=M*3;Q===0?Tt=$n[0]:Tt=[tt/Q,ht/Q];var de=u.unproject(bt(Tt));return Et([de.lat+Ot.lat,de.lng+Ot.lng])}function ua(a){for(var u=0,d=0,_=0,w=0;w<a.length;w++){var C=Et(a[w]);u+=C.lat,d+=C.lng,_++}return Et([u/_,d/_])}var Fr={__proto__:null,clipPolygon:_o,polygonCenter:yo,centroid:ua};function wn(a,u){if(!u||!a.length)return a.slice();var d=u*u;return a=E(a,d),a=Tr(a,d),a}function vo(a,u,d){return Math.sqrt(zt(a,u,d,!0))}function vl(a,u,d){return zt(a,u,d)}function Tr(a,u){var d=a.length,_=typeof Uint8Array<"u"?Uint8Array:Array,w=new _(d);w[0]=w[d-1]=1,f(a,w,u,0,d-1);var C,M=[];for(C=0;C<d;C++)w[C]&&M.push(a[C]);return M}function f(a,u,d,_,w){var C=0,M,Q,tt;for(Q=_+1;Q<=w-1;Q++)tt=zt(a[Q],a[_],a[w],!0),tt>C&&(M=Q,C=tt);C>d&&(u[M]=1,f(a,u,d,_,M),f(a,u,d,M,w))}function E(a,u){for(var d=[a[0]],_=1,w=0,C=a.length;_<C;_++)yt(a[_],a[w])>u&&(d.push(a[_]),w=_);return w<C-1&&d.push(a[C-1]),d}var A;function x(a,u,d,_,w){var C=_?A:nt(a,d),M=nt(u,d),Q,tt,ht;for(A=M;;){if(!(C|M))return[a,u];if(C&M)return!1;Q=C||M,tt=X(a,u,Q,d,w),ht=nt(tt,d),Q===C?(a=tt,C=ht):(u=tt,M=ht)}}function X(a,u,d,_,w){var C=u.x-a.x,M=u.y-a.y,Q=_.min,tt=_.max,ht,Tt;return d&8?(ht=a.x+C*(tt.y-a.y)/M,Tt=tt.y):d&4?(ht=a.x+C*(Q.y-a.y)/M,Tt=Q.y):d&2?(ht=tt.x,Tt=a.y+M*(tt.x-a.x)/C):d&1&&(ht=Q.x,Tt=a.y+M*(Q.x-a.x)/C),new pt(ht,Tt,w)}function nt(a,u){var d=0;return a.x<u.min.x?d|=1:a.x>u.max.x&&(d|=2),a.y<u.min.y?d|=4:a.y>u.max.y&&(d|=8),d}function yt(a,u){var d=u.x-a.x,_=u.y-a.y;return d*d+_*_}function zt(a,u,d,_){var w=u.x,C=u.y,M=d.x-w,Q=d.y-C,tt=M*M+Q*Q,ht;return tt>0&&(ht=((a.x-w)*M+(a.y-C)*Q)/tt,ht>1?(w=d.x,C=d.y):ht>0&&(w+=M*ht,C+=Q*ht)),M=a.x-w,Q=a.y-C,_?M*M+Q*Q:new pt(w,C)}function le(a){return!ct(a[0])||typeof a[0][0]!="object"&&typeof a[0][0]<"u"}function ue(a){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),le(a)}function Ie(a,u){var d,_,w,C,M,Q,tt,ht;if(!a||a.length===0)throw new Error("latlngs not passed");le(a)||(console.warn("latlngs are not flat! Only the first ring will be used"),a=a[0]);var Tt=Et([0,0]),Ot=_t(a),Zt=Ot.getNorthWest().distanceTo(Ot.getSouthWest())*Ot.getNorthEast().distanceTo(Ot.getNorthWest());Zt<1700&&(Tt=ua(a));var pn=a.length,Ye=[];for(d=0;d<pn;d++){var $n=Et(a[d]);Ye.push(u.project(Et([$n.lat-Tt.lat,$n.lng-Tt.lng])))}for(d=0,_=0;d<pn-1;d++)_+=Ye[d].distanceTo(Ye[d+1])/2;if(_===0)ht=Ye[0];else for(d=0,C=0;d<pn-1;d++)if(M=Ye[d],Q=Ye[d+1],w=M.distanceTo(Q),C+=w,C>_){tt=(C-_)/w,ht=[Q.x-tt*(Q.x-M.x),Q.y-tt*(Q.y-M.y)];break}var fe=u.unproject(bt(ht));return Et([fe.lat+Tt.lat,fe.lng+Tt.lng])}var oi={__proto__:null,simplify:wn,pointToSegmentDistance:vo,closestPointOnSegment:vl,clipSegment:x,_getEdgeIntersection:X,_getBitCode:nt,_sqClosestPointOnSegment:zt,isFlat:le,_flat:ue,polylineCenter:Ie},li={project:function(a){return new pt(a.lng,a.lat)},unproject:function(a){return new wt(a.y,a.x)},bounds:new z([-180,-90],[180,90])},Qn={R:6378137,R_MINOR:6356752314245179e-9,bounds:new z([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(a){var u=Math.PI/180,d=this.R,_=a.lat*u,w=this.R_MINOR/d,C=Math.sqrt(1-w*w),M=C*Math.sin(_),Q=Math.tan(Math.PI/4-_/2)/Math.pow((1-M)/(1+M),C/2);return _=-d*Math.log(Math.max(Q,1e-10)),new pt(a.lng*u*d,_)},unproject:function(a){for(var u=180/Math.PI,d=this.R,_=this.R_MINOR/d,w=Math.sqrt(1-_*_),C=Math.exp(-a.y/d),M=Math.PI/2-2*Math.atan(C),Q=0,tt=.1,ht;Q<15&&Math.abs(tt)>1e-7;Q++)ht=w*Math.sin(M),ht=Math.pow((1-ht)/(1+ht),w/2),tt=Math.PI/2-2*Math.atan(C*ht)-M,M+=tt;return new wt(M*u,a.x*u/d)}},Ni={__proto__:null,LonLat:li,Mercator:Qn,SphericalMercator:cr},Ss=l({},we,{code:"EPSG:3395",projection:Qn,transformation:(function(){var a=.5/(Math.PI*Qn.R);return Bi(a,.5,-a,.5)})()}),As=l({},we,{code:"EPSG:4326",projection:li,transformation:Bi(1/180,1,-1/180,.5)}),ca=l({},Ht,{projection:li,transformation:Bi(1,0,-1,0),scale:function(a){return Math.pow(2,a)},zoom:function(a){return Math.log(a)/Math.LN2},distance:function(a,u){var d=u.lng-a.lng,_=u.lat-a.lat;return Math.sqrt(d*d+_*_)},infinite:!0});Ht.Earth=we,Ht.EPSG3395=Ss,Ht.EPSG3857=Pr,Ht.EPSG900913=ji,Ht.EPSG4326=As,Ht.Simple=ca;var Oi=vt.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(a){return a.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(a){return a&&a.removeLayer(this),this},getPane:function(a){return this._map.getPane(a?this.options[a]||a:this.options.pane)},addInteractiveTarget:function(a){return this._map._targets[y(a)]=this,this},removeInteractiveTarget:function(a){return delete this._map._targets[y(a)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(a){var u=a.target;if(u.hasLayer(this)){if(this._map=u,this._zoomAnimated=u._zoomAnimated,this.getEvents){var d=this.getEvents();u.on(d,this),this.once("remove",function(){u.off(d,this)},this)}this.onAdd(u),this.fire("add"),u.fire("layeradd",{layer:this})}}});Yt.include({addLayer:function(a){if(!a._layerAdd)throw new Error("The provided object is not a Layer.");var u=y(a);return this._layers[u]?this:(this._layers[u]=a,a._mapToAdd=this,a.beforeAdd&&a.beforeAdd(this),this.whenReady(a._layerAdd,a),this)},removeLayer:function(a){var u=y(a);return this._layers[u]?(this._loaded&&a.onRemove(this),delete this._layers[u],this._loaded&&(this.fire("layerremove",{layer:a}),a.fire("remove")),a._map=a._mapToAdd=null,this):this},hasLayer:function(a){return y(a)in this._layers},eachLayer:function(a,u){for(var d in this._layers)a.call(u,this._layers[d]);return this},_addLayers:function(a){a=a?ct(a)?a:[a]:[];for(var u=0,d=a.length;u<d;u++)this.addLayer(a[u])},_addZoomLimit:function(a){(!isNaN(a.options.maxZoom)||!isNaN(a.options.minZoom))&&(this._zoomBoundLayers[y(a)]=a,this._updateZoomLevels())},_removeZoomLimit:function(a){var u=y(a);this._zoomBoundLayers[u]&&(delete this._zoomBoundLayers[u],this._updateZoomLevels())},_updateZoomLevels:function(){var a=1/0,u=-1/0,d=this._getZoomSpan();for(var _ in this._zoomBoundLayers){var w=this._zoomBoundLayers[_].options;a=w.minZoom===void 0?a:Math.min(a,w.minZoom),u=w.maxZoom===void 0?u:Math.max(u,w.maxZoom)}this._layersMaxZoom=u===-1/0?void 0:u,this._layersMinZoom=a===1/0?void 0:a,d!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var ha=Oi.extend({initialize:function(a,u){K(this,u),this._layers={};var d,_;if(a)for(d=0,_=a.length;d<_;d++)this.addLayer(a[d])},addLayer:function(a){var u=this.getLayerId(a);return this._layers[u]=a,this._map&&this._map.addLayer(a),this},removeLayer:function(a){var u=a in this._layers?a:this.getLayerId(a);return this._map&&this._layers[u]&&this._map.removeLayer(this._layers[u]),delete this._layers[u],this},hasLayer:function(a){var u=typeof a=="number"?a:this.getLayerId(a);return u in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(a){var u=Array.prototype.slice.call(arguments,1),d,_;for(d in this._layers)_=this._layers[d],_[a]&&_[a].apply(_,u);return this},onAdd:function(a){this.eachLayer(a.addLayer,a)},onRemove:function(a){this.eachLayer(a.removeLayer,a)},eachLayer:function(a,u){for(var d in this._layers)a.call(u,this._layers[d]);return this},getLayer:function(a){return this._layers[a]},getLayers:function(){var a=[];return this.eachLayer(a.push,a),a},setZIndex:function(a){return this.invoke("setZIndex",a)},getLayerId:function(a){return y(a)}}),yd=function(a,u){return new ha(a,u)},tr=ha.extend({addLayer:function(a){return this.hasLayer(a)?this:(a.addEventParent(this),ha.prototype.addLayer.call(this,a),this.fire("layeradd",{layer:a}))},removeLayer:function(a){return this.hasLayer(a)?(a in this._layers&&(a=this._layers[a]),a.removeEventParent(this),ha.prototype.removeLayer.call(this,a),this.fire("layerremove",{layer:a})):this},setStyle:function(a){return this.invoke("setStyle",a)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var a=new gt;for(var u in this._layers){var d=this._layers[u];a.extend(d.getBounds?d.getBounds():d.getLatLng())}return a}}),Xc=function(a,u){return new tr(a,u)},er=oe.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(a){K(this,a)},createIcon:function(a){return this._createIcon("icon",a)},createShadow:function(a){return this._createIcon("shadow",a)},_createIcon:function(a,u){var d=this._getIconUrl(a);if(!d){if(a==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var _=this._createImg(d,u&&u.tagName==="IMG"?u:null);return this._setIconStyles(_,a),(this.options.crossOrigin||this.options.crossOrigin==="")&&(_.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),_},_setIconStyles:function(a,u){var d=this.options,_=d[u+"Size"];typeof _=="number"&&(_=[_,_]);var w=bt(_),C=bt(u==="shadow"&&d.shadowAnchor||d.iconAnchor||w&&w.divideBy(2,!0));a.className="leaflet-marker-"+u+" "+(d.className||""),C&&(a.style.marginLeft=-C.x+"px",a.style.marginTop=-C.y+"px"),w&&(a.style.width=w.x+"px",a.style.height=w.y+"px")},_createImg:function(a,u){return u=u||document.createElement("img"),u.src=a,u},_getIconUrl:function(a){return It.retina&&this.options[a+"RetinaUrl"]||this.options[a+"Url"]}});function To(a){return new er(a)}var Eo=er.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(a){return typeof Eo.imagePath!="string"&&(Eo.imagePath=this._detectIconPath()),(this.options.imagePath||Eo.imagePath)+er.prototype._getIconUrl.call(this,a)},_stripUrl:function(a){var u=function(d,_,w){var C=_.exec(d);return C&&C[w]};return a=u(a,/^url\((['"])?(.+)\1\)$/,2),a&&u(a,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var a=Qt("div","leaflet-default-icon-path",document.body),u=Ur(a,"background-image")||Ur(a,"backgroundImage");if(document.body.removeChild(a),u=this._stripUrl(u),u)return u;var d=document.querySelector('link[href$="leaflet.css"]');return d?d.href.substring(0,d.href.length-11-1):""}}),wo=Yn.extend({initialize:function(a){this._marker=a},addHooks:function(){var a=this._marker._icon;this._draggable||(this._draggable=new xi(a,a,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),St(a,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&ye(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(a){var u=this._marker,d=u._map,_=this._marker.options.autoPanSpeed,w=this._marker.options.autoPanPadding,C=$i(u._icon),M=d.getPixelBounds(),Q=d.getPixelOrigin(),tt=ot(M.min._subtract(Q).add(w),M.max._subtract(Q).subtract(w));if(!tt.contains(C)){var ht=bt((Math.max(tt.max.x,C.x)-tt.max.x)/(M.max.x-tt.max.x)-(Math.min(tt.min.x,C.x)-tt.min.x)/(M.min.x-tt.min.x),(Math.max(tt.max.y,C.y)-tt.max.y)/(M.max.y-tt.max.y)-(Math.min(tt.min.y,C.y)-tt.min.y)/(M.min.y-tt.min.y)).multiplyBy(_);d.panBy(ht,{animate:!1}),this._draggable._newPos._add(ht),this._draggable._startPos._add(ht),ve(u._icon,this._draggable._newPos),this._onDrag(a),this._panRequest=U(this._adjustPan.bind(this,a))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(a){this._marker.options.autoPan&&(Z(this._panRequest),this._panRequest=U(this._adjustPan.bind(this,a)))},_onDrag:function(a){var u=this._marker,d=u._shadow,_=$i(u._icon),w=u._map.layerPointToLatLng(_);d&&ve(d,_),u._latlng=w,a.latlng=w,a.oldLatLng=this._oldLatLng,u.fire("move",a).fire("drag",a)},_onDragEnd:function(a){Z(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",a)}}),bo=Oi.extend({options:{icon:new Eo,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(a,u){K(this,u),this._latlng=Et(a)},onAdd:function(a){this._zoomAnimated=this._zoomAnimated&&a.options.markerZoomAnimation,this._zoomAnimated&&a.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(a){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&a.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(a){var u=this._latlng;return this._latlng=Et(a),this.update(),this.fire("move",{oldLatLng:u,latlng:this._latlng})},setZIndexOffset:function(a){return this.options.zIndexOffset=a,this.update()},getIcon:function(){return this.options.icon},setIcon:function(a){return this.options.icon=a,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var a=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(a)}return this},_initIcon:function(){var a=this.options,u="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),d=a.icon.createIcon(this._icon),_=!1;d!==this._icon&&(this._icon&&this._removeIcon(),_=!0,a.title&&(d.title=a.title),d.tagName==="IMG"&&(d.alt=a.alt||"")),St(d,u),a.keyboard&&(d.tabIndex="0",d.setAttribute("role","button")),this._icon=d,a.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Dt(d,"focus",this._panOnFocus,this);var w=a.icon.createShadow(this._shadow),C=!1;w!==this._shadow&&(this._removeShadow(),C=!0),w&&(St(w,u),w.alt=""),this._shadow=w,a.opacity<1&&this._updateOpacity(),_&&this.getPane().appendChild(this._icon),this._initInteraction(),w&&C&&this.getPane(a.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&he(this._icon,"focus",this._panOnFocus,this),$t(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&$t(this._shadow),this._shadow=null},_setPos:function(a){this._icon&&ve(this._icon,a),this._shadow&&ve(this._shadow,a),this._zIndex=a.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(a){this._icon&&(this._icon.style.zIndex=this._zIndex+a)},_animateZoom:function(a){var u=this._map._latLngToNewLayerPoint(this._latlng,a.zoom,a.center).round();this._setPos(u)},_initInteraction:function(){if(this.options.interactive&&(St(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),wo)){var a=this.options.draggable;this.dragging&&(a=this.dragging.enabled(),this.dragging.disable()),this.dragging=new wo(this),a&&this.dragging.enable()}},setOpacity:function(a){return this.options.opacity=a,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var a=this.options.opacity;this._icon&&Ce(this._icon,a),this._shadow&&Ce(this._shadow,a)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var a=this._map;if(a){var u=this.options.icon.options,d=u.iconSize?bt(u.iconSize):bt(0,0),_=u.iconAnchor?bt(u.iconAnchor):bt(0,0);a.panInside(this._latlng,{paddingTopLeft:_,paddingBottomRight:d.subtract(_)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function Wc(a,u){return new bo(a,u)}var nr=Oi.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(a){this._renderer=a.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(a){return K(this,a),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&a&&Object.prototype.hasOwnProperty.call(a,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),fa=nr.extend({options:{fill:!0,radius:10},initialize:function(a,u){K(this,u),this._latlng=Et(a),this._radius=this.options.radius},setLatLng:function(a){var u=this._latlng;return this._latlng=Et(a),this.redraw(),this.fire("move",{oldLatLng:u,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(a){return this.options.radius=this._radius=a,this.redraw()},getRadius:function(){return this._radius},setStyle:function(a){var u=a&&a.radius||this._radius;return nr.prototype.setStyle.call(this,a),this.setRadius(u),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var a=this._radius,u=this._radiusY||a,d=this._clickTolerance(),_=[a+d,u+d];this._pxBounds=new z(this._point.subtract(_),this._point.add(_))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(a){return a.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function Jc(a,u){return new fa(a,u)}var Tl=fa.extend({initialize:function(a,u,d){if(typeof u=="number"&&(u=l({},d,{radius:u})),K(this,u),this._latlng=Et(a),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(a){return this._mRadius=a,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var a=[this._radius,this._radiusY||this._radius];return new gt(this._map.layerPointToLatLng(this._point.subtract(a)),this._map.layerPointToLatLng(this._point.add(a)))},setStyle:nr.prototype.setStyle,_project:function(){var a=this._latlng.lng,u=this._latlng.lat,d=this._map,_=d.options.crs;if(_.distance===we.distance){var w=Math.PI/180,C=this._mRadius/we.R/w,M=d.project([u+C,a]),Q=d.project([u-C,a]),tt=M.add(Q).divideBy(2),ht=d.unproject(tt).lat,Tt=Math.acos((Math.cos(C*w)-Math.sin(u*w)*Math.sin(ht*w))/(Math.cos(u*w)*Math.cos(ht*w)))/w;(isNaN(Tt)||Tt===0)&&(Tt=C/Math.cos(Math.PI/180*u)),this._point=tt.subtract(d.getPixelOrigin()),this._radius=isNaN(Tt)?0:tt.x-d.project([ht,a-Tt]).x,this._radiusY=tt.y-M.y}else{var Ot=_.unproject(_.project(this._latlng).subtract([this._mRadius,0]));this._point=d.latLngToLayerPoint(this._latlng),this._radius=this._point.x-d.latLngToLayerPoint(Ot).x}this._updateBounds()}});function th(a,u,d){return new Tl(a,u,d)}var Er=nr.extend({options:{smoothFactor:1,noClip:!1},initialize:function(a,u){K(this,u),this._setLatLngs(a)},getLatLngs:function(){return this._latlngs},setLatLngs:function(a){return this._setLatLngs(a),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(a){for(var u=1/0,d=null,_=zt,w,C,M=0,Q=this._parts.length;M<Q;M++)for(var tt=this._parts[M],ht=1,Tt=tt.length;ht<Tt;ht++){w=tt[ht-1],C=tt[ht];var Ot=_(a,w,C,!0);Ot<u&&(u=Ot,d=_(a,w,C))}return d&&(d.distance=Math.sqrt(u)),d},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return Ie(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(a,u){return u=u||this._defaultShape(),a=Et(a),u.push(a),this._bounds.extend(a),this.redraw()},_setLatLngs:function(a){this._bounds=new gt,this._latlngs=this._convertLatLngs(a)},_defaultShape:function(){return le(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(a){for(var u=[],d=le(a),_=0,w=a.length;_<w;_++)d?(u[_]=Et(a[_]),this._bounds.extend(u[_])):u[_]=this._convertLatLngs(a[_]);return u},_project:function(){var a=new z;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,a),this._bounds.isValid()&&a.isValid()&&(this._rawPxBounds=a,this._updateBounds())},_updateBounds:function(){var a=this._clickTolerance(),u=new pt(a,a);this._rawPxBounds&&(this._pxBounds=new z([this._rawPxBounds.min.subtract(u),this._rawPxBounds.max.add(u)]))},_projectLatlngs:function(a,u,d){var _=a[0]instanceof wt,w=a.length,C,M;if(_){for(M=[],C=0;C<w;C++)M[C]=this._map.latLngToLayerPoint(a[C]),d.extend(M[C]);u.push(M)}else for(C=0;C<w;C++)this._projectLatlngs(a[C],u,d)},_clipPoints:function(){var a=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(a))){if(this.options.noClip){this._parts=this._rings;return}var u=this._parts,d,_,w,C,M,Q,tt;for(d=0,w=0,C=this._rings.length;d<C;d++)for(tt=this._rings[d],_=0,M=tt.length;_<M-1;_++)Q=x(tt[_],tt[_+1],a,_,!0),Q&&(u[w]=u[w]||[],u[w].push(Q[0]),(Q[1]!==tt[_+1]||_===M-2)&&(u[w].push(Q[1]),w++))}},_simplifyPoints:function(){for(var a=this._parts,u=this.options.smoothFactor,d=0,_=a.length;d<_;d++)a[d]=wn(a[d],u)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(a,u){var d,_,w,C,M,Q,tt=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(a))return!1;for(d=0,C=this._parts.length;d<C;d++)for(Q=this._parts[d],_=0,M=Q.length,w=M-1;_<M;w=_++)if(!(!u&&_===0)&&vo(a,Q[w],Q[_])<=tt)return!0;return!1}});function vd(a,u){return new Er(a,u)}Er._flat=ue;var da=Er.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return yo(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(a){var u=Er.prototype._convertLatLngs.call(this,a),d=u.length;return d>=2&&u[0]instanceof wt&&u[0].equals(u[d-1])&&u.pop(),u},_setLatLngs:function(a){Er.prototype._setLatLngs.call(this,a),le(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return le(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var a=this._renderer._bounds,u=this.options.weight,d=new pt(u,u);if(a=new z(a.min.subtract(d),a.max.add(d)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(a))){if(this.options.noClip){this._parts=this._rings;return}for(var _=0,w=this._rings.length,C;_<w;_++)C=_o(this._rings[_],a,!0),C.length&&this._parts.push(C)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(a){var u=!1,d,_,w,C,M,Q,tt,ht;if(!this._pxBounds||!this._pxBounds.contains(a))return!1;for(C=0,tt=this._parts.length;C<tt;C++)for(d=this._parts[C],M=0,ht=d.length,Q=ht-1;M<ht;Q=M++)_=d[M],w=d[Q],_.y>a.y!=w.y>a.y&&a.x<(w.x-_.x)*(a.y-_.y)/(w.y-_.y)+_.x&&(u=!u);return u||Er.prototype._containsPoint.call(this,a,!0)}});function Td(a,u){return new da(a,u)}var wr=tr.extend({initialize:function(a,u){K(this,u),this._layers={},a&&this.addData(a)},addData:function(a){var u=ct(a)?a:a.features,d,_,w;if(u){for(d=0,_=u.length;d<_;d++)w=u[d],(w.geometries||w.geometry||w.features||w.coordinates)&&this.addData(w);return this}var C=this.options;if(C.filter&&!C.filter(a))return this;var M=bn(a,C);return M?(M.feature=bl(a),M.defaultOptions=M.options,this.resetStyle(M),C.onEachFeature&&C.onEachFeature(a,M),this.addLayer(M)):this},resetStyle:function(a){return a===void 0?this.eachLayer(this.resetStyle,this):(a.options=l({},a.defaultOptions),this._setLayerStyle(a,this.options.style),this)},setStyle:function(a){return this.eachLayer(function(u){this._setLayerStyle(u,a)},this)},_setLayerStyle:function(a,u){a.setStyle&&(typeof u=="function"&&(u=u(a.feature)),a.setStyle(u))}});function bn(a,u){var d=a.type==="Feature"?a.geometry:a,_=d?d.coordinates:null,w=[],C=u&&u.pointToLayer,M=u&&u.coordsToLatLng||El,Q,tt,ht,Tt;if(!_&&!d)return null;switch(d.type){case"Point":return Q=M(_),ma(C,a,Q,u);case"MultiPoint":for(ht=0,Tt=_.length;ht<Tt;ht++)Q=M(_[ht]),w.push(ma(C,a,Q,u));return new tr(w);case"LineString":case"MultiLineString":return tt=So(_,d.type==="LineString"?0:1,M),new Er(tt,u);case"Polygon":case"MultiPolygon":return tt=So(_,d.type==="Polygon"?1:2,M),new da(tt,u);case"GeometryCollection":for(ht=0,Tt=d.geometries.length;ht<Tt;ht++){var Ot=bn({geometry:d.geometries[ht],type:"Feature",properties:a.properties},u);Ot&&w.push(Ot)}return new tr(w);case"FeatureCollection":for(ht=0,Tt=d.features.length;ht<Tt;ht++){var Zt=bn(d.features[ht],u);Zt&&w.push(Zt)}return new tr(w);default:throw new Error("Invalid GeoJSON object.")}}function ma(a,u,d,_){return a?a(u,d):new bo(d,_&&_.markersInheritOptions&&_)}function El(a){return new wt(a[1],a[0],a[2])}function So(a,u,d){for(var _=[],w=0,C=a.length,M;w<C;w++)M=u?So(a[w],u-1,d):(d||El)(a[w]),_.push(M);return _}function wl(a,u){return a=Et(a),a.alt!==void 0?[N(a.lng,u),N(a.lat,u),N(a.alt,u)]:[N(a.lng,u),N(a.lat,u)]}function Ao(a,u,d,_){for(var w=[],C=0,M=a.length;C<M;C++)w.push(u?Ao(a[C],le(a[C])?0:u-1,d,_):wl(a[C],_));return!u&&d&&w.length>0&&w.push(w[0].slice()),w}function Gr(a,u){return a.feature?l({},a.feature,{geometry:u}):bl(u)}function bl(a){return a.type==="Feature"||a.type==="FeatureCollection"?a:{type:"Feature",properties:{},geometry:a}}var Zr={toGeoJSON:function(a){return Gr(this,{type:"Point",coordinates:wl(this.getLatLng(),a)})}};bo.include(Zr),Tl.include(Zr),fa.include(Zr),Er.include({toGeoJSON:function(a){var u=!le(this._latlngs),d=Ao(this._latlngs,u?1:0,!1,a);return Gr(this,{type:(u?"Multi":"")+"LineString",coordinates:d})}}),da.include({toGeoJSON:function(a){var u=!le(this._latlngs),d=u&&!le(this._latlngs[0]),_=Ao(this._latlngs,d?2:u?1:0,!0,a);return u||(_=[_]),Gr(this,{type:(d?"Multi":"")+"Polygon",coordinates:_})}}),ha.include({toMultiPoint:function(a){var u=[];return this.eachLayer(function(d){u.push(d.toGeoJSON(a).geometry.coordinates)}),Gr(this,{type:"MultiPoint",coordinates:u})},toGeoJSON:function(a){var u=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(u==="MultiPoint")return this.toMultiPoint(a);var d=u==="GeometryCollection",_=[];return this.eachLayer(function(w){if(w.toGeoJSON){var C=w.toGeoJSON(a);if(d)_.push(C.geometry);else{var M=bl(C);M.type==="FeatureCollection"?_.push.apply(_,M.features):_.push(M)}}}),d?Gr(this,{geometries:_,type:"GeometryCollection"}):{type:"FeatureCollection",features:_}}});function Sl(a,u){return new wr(a,u)}var Ro=Sl,pa=Oi.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(a,u,d){this._url=a,this._bounds=_t(u),K(this,d)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(St(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){$t(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(a){return this.options.opacity=a,this._image&&this._updateOpacity(),this},setStyle:function(a){return a.opacity&&this.setOpacity(a.opacity),this},bringToFront:function(){return this._map&&Le(this._image),this},bringToBack:function(){return this._map&&Zn(this._image),this},setUrl:function(a){return this._url=a,this._image&&(this._image.src=a),this},setBounds:function(a){return this._bounds=_t(a),this._map&&this._reset(),this},getEvents:function(){var a={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(a.zoomanim=this._animateZoom),a},setZIndex:function(a){return this.options.zIndex=a,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var a=this._url.tagName==="IMG",u=this._image=a?this._url:Qt("img");if(St(u,"leaflet-image-layer"),this._zoomAnimated&&St(u,"leaflet-zoom-animated"),this.options.className&&St(u,this.options.className),u.onselectstart=R,u.onmousemove=R,u.onload=m(this.fire,this,"load"),u.onerror=m(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(u.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),a){this._url=u.src;return}u.src=this._url,u.alt=this.options.alt},_animateZoom:function(a){var u=this._map.getZoomScale(a.zoom),d=this._map._latLngBoundsToNewLayerBounds(this._bounds,a.zoom,a.center).min;Si(this._image,d,u)},_reset:function(){var a=this._image,u=new z(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),d=u.getSize();ve(a,u.min),a.style.width=d.x+"px",a.style.height=d.y+"px"},_updateOpacity:function(){Ce(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var a=this.options.errorOverlayUrl;a&&this._url!==a&&(this._url=a,this._image.src=a)},getCenter:function(){return this._bounds.getCenter()}}),eh=function(a,u,d){return new pa(a,u,d)},Kr=pa.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var a=this._url.tagName==="VIDEO",u=this._image=a?this._url:Qt("video");if(St(u,"leaflet-image-layer"),this._zoomAnimated&&St(u,"leaflet-zoom-animated"),this.options.className&&St(u,this.options.className),u.onselectstart=R,u.onmousemove=R,u.onloadeddata=m(this.fire,this,"load"),a){for(var d=u.getElementsByTagName("source"),_=[],w=0;w<d.length;w++)_.push(d[w].src);this._url=d.length>0?_:[u.src];return}ct(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(u.style,"objectFit")&&(u.style.objectFit="fill"),u.autoplay=!!this.options.autoplay,u.loop=!!this.options.loop,u.muted=!!this.options.muted,u.playsInline=!!this.options.playsInline;for(var C=0;C<this._url.length;C++){var M=Qt("source");M.src=this._url[C],u.appendChild(M)}}});function ga(a,u,d){return new Kr(a,u,d)}var Al=pa.extend({_initImage:function(){var a=this._image=this._url;St(a,"leaflet-image-layer"),this._zoomAnimated&&St(a,"leaflet-zoom-animated"),this.options.className&&St(a,this.options.className),a.onselectstart=R,a.onmousemove=R}});function nh(a,u,d){return new Al(a,u,d)}var Sn=Oi.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(a,u){a&&(a instanceof wt||ct(a))?(this._latlng=Et(a),K(this,u)):(K(this,a),this._source=u),this.options.content&&(this._content=this.options.content)},openOn:function(a){return a=arguments.length?a:this._source._map,a.hasLayer(this)||a.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(a){return this._map?this.close():(arguments.length?this._source=a:a=this._source,this._prepareOpen(),this.openOn(a._map)),this},onAdd:function(a){this._zoomAnimated=a._zoomAnimated,this._container||this._initLayout(),a._fadeAnimated&&Ce(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),a._fadeAnimated&&Ce(this._container,1),this.bringToFront(),this.options.interactive&&(St(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(a){a._fadeAnimated?(Ce(this._container,0),this._removeTimeout=setTimeout(m($t,void 0,this._container),200)):$t(this._container),this.options.interactive&&(ye(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(a){return this._latlng=Et(a),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(a){return this._content=a,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var a={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(a.zoomanim=this._animateZoom),a},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&Le(this._container),this},bringToBack:function(){return this._map&&Zn(this._container),this},_prepareOpen:function(a){var u=this._source;if(!u._map)return!1;if(u instanceof tr){u=null;var d=this._source._layers;for(var _ in d)if(d[_]._map){u=d[_];break}if(!u)return!1;this._source=u}if(!a)if(u.getCenter)a=u.getCenter();else if(u.getLatLng)a=u.getLatLng();else if(u.getBounds)a=u.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(a),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var a=this._contentNode,u=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof u=="string")a.innerHTML=u;else{for(;a.hasChildNodes();)a.removeChild(a.firstChild);a.appendChild(u)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var a=this._map.latLngToLayerPoint(this._latlng),u=bt(this.options.offset),d=this._getAnchor();this._zoomAnimated?ve(this._container,a.add(d)):u=u.add(a).add(d);var _=this._containerBottom=-u.y,w=this._containerLeft=-Math.round(this._containerWidth/2)+u.x;this._container.style.bottom=_+"px",this._container.style.left=w+"px"}},_getAnchor:function(){return[0,0]}});Yt.include({_initOverlay:function(a,u,d,_){var w=u;return w instanceof a||(w=new a(_).setContent(u)),d&&w.setLatLng(d),w}}),Oi.include({_initOverlay:function(a,u,d,_){var w=d;return w instanceof a?(K(w,_),w._source=this):(w=u&&!_?u:new a(_,this),w.setContent(d)),w}});var Co=Sn.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(a){return a=arguments.length?a:this._source._map,!a.hasLayer(this)&&a._popup&&a._popup.options.autoClose&&a.removeLayer(a._popup),a._popup=this,Sn.prototype.openOn.call(this,a)},onAdd:function(a){Sn.prototype.onAdd.call(this,a),a.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof nr||this._source.on("preclick",ee))},onRemove:function(a){Sn.prototype.onRemove.call(this,a),a.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof nr||this._source.off("preclick",ee))},getEvents:function(){var a=Sn.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(a.preclick=this.close),this.options.keepInView&&(a.moveend=this._adjustPan),a},_initLayout:function(){var a="leaflet-popup",u=this._container=Qt("div",a+" "+(this.options.className||"")+" leaflet-zoom-animated"),d=this._wrapper=Qt("div",a+"-content-wrapper",u);if(this._contentNode=Qt("div",a+"-content",d),_r(u),ai(this._contentNode),Dt(u,"contextmenu",ee),this._tipContainer=Qt("div",a+"-tip-container",u),this._tip=Qt("div",a+"-tip",this._tipContainer),this.options.closeButton){var _=this._closeButton=Qt("a",a+"-close-button",u);_.setAttribute("role","button"),_.setAttribute("aria-label","Close popup"),_.href="#close",_.innerHTML='<span aria-hidden="true">&#215;</span>',Dt(_,"click",function(w){Pe(w),this.close()},this)}},_updateLayout:function(){var a=this._contentNode,u=a.style;u.width="",u.whiteSpace="nowrap";var d=a.offsetWidth;d=Math.min(d,this.options.maxWidth),d=Math.max(d,this.options.minWidth),u.width=d+1+"px",u.whiteSpace="",u.height="";var _=a.offsetHeight,w=this.options.maxHeight,C="leaflet-popup-scrolled";w&&_>w?(u.height=w+"px",St(a,C)):ye(a,C),this._containerWidth=this._container.offsetWidth},_animateZoom:function(a){var u=this._map._latLngToNewLayerPoint(this._latlng,a.zoom,a.center),d=this._getAnchor();ve(this._container,u.add(d))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var a=this._map,u=parseInt(Ur(this._container,"marginBottom"),10)||0,d=this._container.offsetHeight+u,_=this._containerWidth,w=new pt(this._containerLeft,-d-this._containerBottom);w._add($i(this._container));var C=a.layerPointToContainerPoint(w),M=bt(this.options.autoPanPadding),Q=bt(this.options.autoPanPaddingTopLeft||M),tt=bt(this.options.autoPanPaddingBottomRight||M),ht=a.getSize(),Tt=0,Ot=0;C.x+_+tt.x>ht.x&&(Tt=C.x+_-ht.x+tt.x),C.x-Tt-Q.x<0&&(Tt=C.x-Q.x),C.y+d+tt.y>ht.y&&(Ot=C.y+d-ht.y+tt.y),C.y-Ot-Q.y<0&&(Ot=C.y-Q.y),(Tt||Ot)&&(this.options.keepInView&&(this._autopanning=!0),a.fire("autopanstart").panBy([Tt,Ot]))}},_getAnchor:function(){return bt(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),ih=function(a,u){return new Co(a,u)};Yt.mergeOptions({closePopupOnClick:!0}),Yt.include({openPopup:function(a,u,d){return this._initOverlay(Co,a,u,d).openOn(this),this},closePopup:function(a){return a=arguments.length?a:this._popup,a&&a.close(),this}}),Oi.include({bindPopup:function(a,u){return this._popup=this._initOverlay(Co,this._popup,a,u),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(a){return this._popup&&(this instanceof tr||(this._popup._source=this),this._popup._prepareOpen(a||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(a){return this._popup&&this._popup.setContent(a),this},getPopup:function(){return this._popup},_openPopup:function(a){if(!(!this._popup||!this._map)){Ai(a);var u=a.layer||a.target;if(this._popup._source===u&&!(u instanceof nr)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(a.latlng);return}this._popup._source=u,this.openPopup(a.latlng)}},_movePopup:function(a){this._popup.setLatLng(a.latlng)},_onKeyPress:function(a){a.originalEvent.keyCode===13&&this._openPopup(a)}});var Io=Sn.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(a){Sn.prototype.onAdd.call(this,a),this.setOpacity(this.options.opacity),a.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(a){Sn.prototype.onRemove.call(this,a),a.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var a=Sn.prototype.getEvents.call(this);return this.options.permanent||(a.preclick=this.close),a},_initLayout:function(){var a="leaflet-tooltip",u=a+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=Qt("div",u),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+y(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(a){var u,d,_=this._map,w=this._container,C=_.latLngToContainerPoint(_.getCenter()),M=_.layerPointToContainerPoint(a),Q=this.options.direction,tt=w.offsetWidth,ht=w.offsetHeight,Tt=bt(this.options.offset),Ot=this._getAnchor();Q==="top"?(u=tt/2,d=ht):Q==="bottom"?(u=tt/2,d=0):Q==="center"?(u=tt/2,d=ht/2):Q==="right"?(u=0,d=ht/2):Q==="left"?(u=tt,d=ht/2):M.x<C.x?(Q="right",u=0,d=ht/2):(Q="left",u=tt+(Tt.x+Ot.x)*2,d=ht/2),a=a.subtract(bt(u,d,!0)).add(Tt).add(Ot),ye(w,"leaflet-tooltip-right"),ye(w,"leaflet-tooltip-left"),ye(w,"leaflet-tooltip-top"),ye(w,"leaflet-tooltip-bottom"),St(w,"leaflet-tooltip-"+Q),ve(w,a)},_updatePosition:function(){var a=this._map.latLngToLayerPoint(this._latlng);this._setPosition(a)},setOpacity:function(a){this.options.opacity=a,this._container&&Ce(this._container,a)},_animateZoom:function(a){var u=this._map._latLngToNewLayerPoint(this._latlng,a.zoom,a.center);this._setPosition(u)},_getAnchor:function(){return bt(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),Ed=function(a,u){return new Io(a,u)};Yt.include({openTooltip:function(a,u,d){return this._initOverlay(Io,a,u,d).openOn(this),this},closeTooltip:function(a){return a.close(),this}}),Oi.include({bindTooltip:function(a,u){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(Io,this._tooltip,a,u),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(a){if(!(!a&&this._tooltipHandlersAdded)){var u=a?"off":"on",d={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?d.add=this._openTooltip:(d.mouseover=this._openTooltip,d.mouseout=this.closeTooltip,d.click=this._openTooltip,this._map?this._addFocusListeners():d.add=this._addFocusListeners),this._tooltip.options.sticky&&(d.mousemove=this._moveTooltip),this[u](d),this._tooltipHandlersAdded=!a}},openTooltip:function(a){return this._tooltip&&(this instanceof tr||(this._tooltip._source=this),this._tooltip._prepareOpen(a)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(a){return this._tooltip&&this._tooltip.setContent(a),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(a){var u=typeof a.getElement=="function"&&a.getElement();u&&(Dt(u,"focus",function(){this._tooltip._source=a,this.openTooltip()},this),Dt(u,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(a){var u=typeof a.getElement=="function"&&a.getElement();u&&u.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(a){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var u=this;this._map.once("moveend",function(){u._openOnceFlag=!1,u._openTooltip(a)});return}this._tooltip._source=a.layer||a.target,this.openTooltip(this._tooltip.options.sticky?a.latlng:void 0)}},_moveTooltip:function(a){var u=a.latlng,d,_;this._tooltip.options.sticky&&a.originalEvent&&(d=this._map.mouseEventToContainerPoint(a.originalEvent),_=this._map.containerPointToLayerPoint(d),u=this._map.layerPointToLatLng(_)),this._tooltip.setLatLng(u)}});var rh=er.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(a){var u=a&&a.tagName==="DIV"?a:document.createElement("div"),d=this.options;if(d.html instanceof Element?(Oe(u),u.appendChild(d.html)):u.innerHTML=d.html!==!1?d.html:"",d.bgPos){var _=bt(d.bgPos);u.style.backgroundPosition=-_.x+"px "+-_.y+"px"}return this._setIconStyles(u,"icon"),u},createShadow:function(){return null}});function wd(a){return new rh(a)}er.Default=Eo;var _a=Oi.extend({options:{tileSize:256,opacity:1,updateWhenIdle:It.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(a){K(this,a)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(a){a._addZoomLimit(this)},onRemove:function(a){this._removeAllTiles(),$t(this._container),a._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(Le(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(Zn(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(a){return this.options.opacity=a,this._updateOpacity(),this},setZIndex:function(a){return this.options.zIndex=a,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var a=this._clampZoom(this._map.getZoom());a!==this._tileZoom&&(this._tileZoom=a,this._updateLevels()),this._update()}return this},getEvents:function(){var a={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=T(this._onMoveEnd,this.options.updateInterval,this)),a.move=this._onMove),this._zoomAnimated&&(a.zoomanim=this._animateZoom),a},createTile:function(){return document.createElement("div")},getTileSize:function(){var a=this.options.tileSize;return a instanceof pt?a:new pt(a,a)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(a){for(var u=this.getPane().children,d=-a(-1/0,1/0),_=0,w=u.length,C;_<w;_++)C=u[_].style.zIndex,u[_]!==this._container&&C&&(d=a(d,+C));isFinite(d)&&(this.options.zIndex=d+a(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!It.ielt9){Ce(this._container,this.options.opacity);var a=+new Date,u=!1,d=!1;for(var _ in this._tiles){var w=this._tiles[_];if(!(!w.current||!w.loaded)){var C=Math.min(1,(a-w.loaded)/200);Ce(w.el,C),C<1?u=!0:(w.active?d=!0:this._onOpaqueTile(w),w.active=!0)}}d&&!this._noPrune&&this._pruneTiles(),u&&(Z(this._fadeFrame),this._fadeFrame=U(this._updateOpacity,this))}},_onOpaqueTile:R,_initContainer:function(){this._container||(this._container=Qt("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var a=this._tileZoom,u=this.options.maxZoom;if(a!==void 0){for(var d in this._levels)d=Number(d),this._levels[d].el.children.length||d===a?(this._levels[d].el.style.zIndex=u-Math.abs(a-d),this._onUpdateLevel(d)):($t(this._levels[d].el),this._removeTilesAtZoom(d),this._onRemoveLevel(d),delete this._levels[d]);var _=this._levels[a],w=this._map;return _||(_=this._levels[a]={},_.el=Qt("div","leaflet-tile-container leaflet-zoom-animated",this._container),_.el.style.zIndex=u,_.origin=w.project(w.unproject(w.getPixelOrigin()),a).round(),_.zoom=a,this._setZoomTransform(_,w.getCenter(),w.getZoom()),R(_.el.offsetWidth),this._onCreateLevel(_)),this._level=_,_}},_onUpdateLevel:R,_onRemoveLevel:R,_onCreateLevel:R,_pruneTiles:function(){if(this._map){var a,u,d=this._map.getZoom();if(d>this.options.maxZoom||d<this.options.minZoom){this._removeAllTiles();return}for(a in this._tiles)u=this._tiles[a],u.retain=u.current;for(a in this._tiles)if(u=this._tiles[a],u.current&&!u.active){var _=u.coords;this._retainParent(_.x,_.y,_.z,_.z-5)||this._retainChildren(_.x,_.y,_.z,_.z+2)}for(a in this._tiles)this._tiles[a].retain||this._removeTile(a)}},_removeTilesAtZoom:function(a){for(var u in this._tiles)this._tiles[u].coords.z===a&&this._removeTile(u)},_removeAllTiles:function(){for(var a in this._tiles)this._removeTile(a)},_invalidateAll:function(){for(var a in this._levels)$t(this._levels[a].el),this._onRemoveLevel(Number(a)),delete this._levels[a];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(a,u,d,_){var w=Math.floor(a/2),C=Math.floor(u/2),M=d-1,Q=new pt(+w,+C);Q.z=+M;var tt=this._tileCoordsToKey(Q),ht=this._tiles[tt];return ht&&ht.active?(ht.retain=!0,!0):(ht&&ht.loaded&&(ht.retain=!0),M>_?this._retainParent(w,C,M,_):!1)},_retainChildren:function(a,u,d,_){for(var w=2*a;w<2*a+2;w++)for(var C=2*u;C<2*u+2;C++){var M=new pt(w,C);M.z=d+1;var Q=this._tileCoordsToKey(M),tt=this._tiles[Q];if(tt&&tt.active){tt.retain=!0;continue}else tt&&tt.loaded&&(tt.retain=!0);d+1<_&&this._retainChildren(w,C,d+1,_)}},_resetView:function(a){var u=a&&(a.pinch||a.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),u,u)},_animateZoom:function(a){this._setView(a.center,a.zoom,!0,a.noUpdate)},_clampZoom:function(a){var u=this.options;return u.minNativeZoom!==void 0&&a<u.minNativeZoom?u.minNativeZoom:u.maxNativeZoom!==void 0&&u.maxNativeZoom<a?u.maxNativeZoom:a},_setView:function(a,u,d,_){var w=Math.round(u);this.options.maxZoom!==void 0&&w>this.options.maxZoom||this.options.minZoom!==void 0&&w<this.options.minZoom?w=void 0:w=this._clampZoom(w);var C=this.options.updateWhenZooming&&w!==this._tileZoom;(!_||C)&&(this._tileZoom=w,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),w!==void 0&&this._update(a),d||this._pruneTiles(),this._noPrune=!!d),this._setZoomTransforms(a,u)},_setZoomTransforms:function(a,u){for(var d in this._levels)this._setZoomTransform(this._levels[d],a,u)},_setZoomTransform:function(a,u,d){var _=this._map.getZoomScale(d,a.zoom),w=a.origin.multiplyBy(_).subtract(this._map._getNewPixelOrigin(u,d)).round();It.any3d?Si(a.el,w,_):ve(a.el,w)},_resetGrid:function(){var a=this._map,u=a.options.crs,d=this._tileSize=this.getTileSize(),_=this._tileZoom,w=this._map.getPixelWorldBounds(this._tileZoom);w&&(this._globalTileRange=this._pxBoundsToTileRange(w)),this._wrapX=u.wrapLng&&!this.options.noWrap&&[Math.floor(a.project([0,u.wrapLng[0]],_).x/d.x),Math.ceil(a.project([0,u.wrapLng[1]],_).x/d.y)],this._wrapY=u.wrapLat&&!this.options.noWrap&&[Math.floor(a.project([u.wrapLat[0],0],_).y/d.x),Math.ceil(a.project([u.wrapLat[1],0],_).y/d.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(a){var u=this._map,d=u._animatingZoom?Math.max(u._animateToZoom,u.getZoom()):u.getZoom(),_=u.getZoomScale(d,this._tileZoom),w=u.project(a,this._tileZoom).floor(),C=u.getSize().divideBy(_*2);return new z(w.subtract(C),w.add(C))},_update:function(a){var u=this._map;if(u){var d=this._clampZoom(u.getZoom());if(a===void 0&&(a=u.getCenter()),this._tileZoom!==void 0){var _=this._getTiledPixelBounds(a),w=this._pxBoundsToTileRange(_),C=w.getCenter(),M=[],Q=this.options.keepBuffer,tt=new z(w.getBottomLeft().subtract([Q,-Q]),w.getTopRight().add([Q,-Q]));if(!(isFinite(w.min.x)&&isFinite(w.min.y)&&isFinite(w.max.x)&&isFinite(w.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var ht in this._tiles){var Tt=this._tiles[ht].coords;(Tt.z!==this._tileZoom||!tt.contains(new pt(Tt.x,Tt.y)))&&(this._tiles[ht].current=!1)}if(Math.abs(d-this._tileZoom)>1){this._setView(a,d);return}for(var Ot=w.min.y;Ot<=w.max.y;Ot++)for(var Zt=w.min.x;Zt<=w.max.x;Zt++){var pn=new pt(Zt,Ot);if(pn.z=this._tileZoom,!!this._isValidTile(pn)){var Ye=this._tiles[this._tileCoordsToKey(pn)];Ye?Ye.current=!0:M.push(pn)}}if(M.sort(function(fe,de){return fe.distanceTo(C)-de.distanceTo(C)}),M.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var $n=document.createDocumentFragment();for(Zt=0;Zt<M.length;Zt++)this._addTile(M[Zt],$n);this._level.el.appendChild($n)}}}},_isValidTile:function(a){var u=this._map.options.crs;if(!u.infinite){var d=this._globalTileRange;if(!u.wrapLng&&(a.x<d.min.x||a.x>d.max.x)||!u.wrapLat&&(a.y<d.min.y||a.y>d.max.y))return!1}if(!this.options.bounds)return!0;var _=this._tileCoordsToBounds(a);return _t(this.options.bounds).overlaps(_)},_keyToBounds:function(a){return this._tileCoordsToBounds(this._keyToTileCoords(a))},_tileCoordsToNwSe:function(a){var u=this._map,d=this.getTileSize(),_=a.scaleBy(d),w=_.add(d),C=u.unproject(_,a.z),M=u.unproject(w,a.z);return[C,M]},_tileCoordsToBounds:function(a){var u=this._tileCoordsToNwSe(a),d=new gt(u[0],u[1]);return this.options.noWrap||(d=this._map.wrapLatLngBounds(d)),d},_tileCoordsToKey:function(a){return a.x+":"+a.y+":"+a.z},_keyToTileCoords:function(a){var u=a.split(":"),d=new pt(+u[0],+u[1]);return d.z=+u[2],d},_removeTile:function(a){var u=this._tiles[a];u&&($t(u.el),delete this._tiles[a],this.fire("tileunload",{tile:u.el,coords:this._keyToTileCoords(a)}))},_initTile:function(a){St(a,"leaflet-tile");var u=this.getTileSize();a.style.width=u.x+"px",a.style.height=u.y+"px",a.onselectstart=R,a.onmousemove=R,It.ielt9&&this.options.opacity<1&&Ce(a,this.options.opacity)},_addTile:function(a,u){var d=this._getTilePos(a),_=this._tileCoordsToKey(a),w=this.createTile(this._wrapCoords(a),m(this._tileReady,this,a));this._initTile(w),this.createTile.length<2&&U(m(this._tileReady,this,a,null,w)),ve(w,d),this._tiles[_]={el:w,coords:a,current:!0},u.appendChild(w),this.fire("tileloadstart",{tile:w,coords:a})},_tileReady:function(a,u,d){u&&this.fire("tileerror",{error:u,tile:d,coords:a});var _=this._tileCoordsToKey(a);d=this._tiles[_],d&&(d.loaded=+new Date,this._map._fadeAnimated?(Ce(d.el,0),Z(this._fadeFrame),this._fadeFrame=U(this._updateOpacity,this)):(d.active=!0,this._pruneTiles()),u||(St(d.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:d.el,coords:a})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),It.ielt9||!this._map._fadeAnimated?U(this._pruneTiles,this):setTimeout(m(this._pruneTiles,this),250)))},_getTilePos:function(a){return a.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(a){var u=new pt(this._wrapX?S(a.x,this._wrapX):a.x,this._wrapY?S(a.y,this._wrapY):a.y);return u.z=a.z,u},_pxBoundsToTileRange:function(a){var u=this.getTileSize();return new z(a.min.unscaleBy(u).floor(),a.max.unscaleBy(u).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var a in this._tiles)if(!this._tiles[a].loaded)return!1;return!0}});function sh(a){return new _a(a)}var Yr=_a.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(a,u){this._url=a,u=K(this,u),u.detectRetina&&It.retina&&u.maxZoom>0?(u.tileSize=Math.floor(u.tileSize/2),u.zoomReverse?(u.zoomOffset--,u.minZoom=Math.min(u.maxZoom,u.minZoom+1)):(u.zoomOffset++,u.maxZoom=Math.max(u.minZoom,u.maxZoom-1)),u.minZoom=Math.max(0,u.minZoom)):u.zoomReverse?u.minZoom=Math.min(u.maxZoom,u.minZoom):u.maxZoom=Math.max(u.minZoom,u.maxZoom),typeof u.subdomains=="string"&&(u.subdomains=u.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(a,u){return this._url===a&&u===void 0&&(u=!0),this._url=a,u||this.redraw(),this},createTile:function(a,u){var d=document.createElement("img");return Dt(d,"load",m(this._tileOnLoad,this,u,d)),Dt(d,"error",m(this._tileOnError,this,u,d)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(d.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(d.referrerPolicy=this.options.referrerPolicy),d.alt="",d.src=this.getTileUrl(a),d},getTileUrl:function(a){var u={r:It.retina?"@2x":"",s:this._getSubdomain(a),x:a.x,y:a.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var d=this._globalTileRange.max.y-a.y;this.options.tms&&(u.y=d),u["-y"]=d}return rt(this._url,l(u,this.options))},_tileOnLoad:function(a,u){It.ielt9?setTimeout(m(a,this,null,u),0):a(null,u)},_tileOnError:function(a,u,d){var _=this.options.errorTileUrl;_&&u.getAttribute("src")!==_&&(u.src=_),a(d,u)},_onTileRemove:function(a){a.tile.onload=null},_getZoomForUrl:function(){var a=this._tileZoom,u=this.options.maxZoom,d=this.options.zoomReverse,_=this.options.zoomOffset;return d&&(a=u-a),a+_},_getSubdomain:function(a){var u=Math.abs(a.x+a.y)%this.options.subdomains.length;return this.options.subdomains[u]},_abortLoading:function(){var a,u;for(a in this._tiles)if(this._tiles[a].coords.z!==this._tileZoom&&(u=this._tiles[a].el,u.onload=R,u.onerror=R,!u.complete)){u.src=Lt;var d=this._tiles[a].coords;$t(u),delete this._tiles[a],this.fire("tileabort",{tile:u,coords:d})}},_removeTile:function(a){var u=this._tiles[a];if(u)return u.el.setAttribute("src",Lt),_a.prototype._removeTile.call(this,a)},_tileReady:function(a,u,d){if(!(!this._map||d&&d.getAttribute("src")===Lt))return _a.prototype._tileReady.call(this,a,u,d)}});function ui(a,u){return new Yr(a,u)}var xo=Yr.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(a,u){this._url=a;var d=l({},this.defaultWmsParams);for(var _ in u)_ in this.options||(d[_]=u[_]);u=K(this,u);var w=u.detectRetina&&It.retina?2:1,C=this.getTileSize();d.width=C.x*w,d.height=C.y*w,this.wmsParams=d},onAdd:function(a){this._crs=this.options.crs||a.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var u=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[u]=this._crs.code,Yr.prototype.onAdd.call(this,a)},getTileUrl:function(a){var u=this._tileCoordsToNwSe(a),d=this._crs,_=ot(d.project(u[0]),d.project(u[1])),w=_.min,C=_.max,M=(this._wmsVersion>=1.3&&this._crs===As?[w.y,w.x,C.y,C.x]:[w.x,w.y,C.x,C.y]).join(","),Q=Yr.prototype.getTileUrl.call(this,a);return Q+G(this.wmsParams,Q,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+M},setParams:function(a,u){return l(this.wmsParams,a),u||this.redraw(),this}});function ci(a,u){return new xo(a,u)}Yr.WMS=xo,ui.wms=ci;var Un=Oi.extend({options:{padding:.1},initialize:function(a){K(this,a),y(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),St(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var a={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(a.zoomanim=this._onAnimZoom),a},_onAnimZoom:function(a){this._updateTransform(a.center,a.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(a,u){var d=this._map.getZoomScale(u,this._zoom),_=this._map.getSize().multiplyBy(.5+this.options.padding),w=this._map.project(this._center,u),C=_.multiplyBy(-d).add(w).subtract(this._map._getNewPixelOrigin(a,u));It.any3d?Si(this._container,C,d):ve(this._container,C)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var a in this._layers)this._layers[a]._reset()},_onZoomEnd:function(){for(var a in this._layers)this._layers[a]._project()},_updatePaths:function(){for(var a in this._layers)this._layers[a]._update()},_update:function(){var a=this.options.padding,u=this._map.getSize(),d=this._map.containerPointToLayerPoint(u.multiplyBy(-a)).round();this._bounds=new z(d,d.add(u.multiplyBy(1+a*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),Rl=Un.extend({options:{tolerance:0},getEvents:function(){var a=Un.prototype.getEvents.call(this);return a.viewprereset=this._onViewPreReset,a},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){Un.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var a=this._container=document.createElement("canvas");Dt(a,"mousemove",this._onMouseMove,this),Dt(a,"click dblclick mousedown mouseup contextmenu",this._onClick,this),Dt(a,"mouseout",this._handleMouseOut,this),a._leaflet_disable_events=!0,this._ctx=a.getContext("2d")},_destroyContainer:function(){Z(this._redrawRequest),delete this._ctx,$t(this._container),he(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var a;this._redrawBounds=null;for(var u in this._layers)a=this._layers[u],a._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Un.prototype._update.call(this);var a=this._bounds,u=this._container,d=a.getSize(),_=It.retina?2:1;ve(u,a.min),u.width=_*d.x,u.height=_*d.y,u.style.width=d.x+"px",u.style.height=d.y+"px",It.retina&&this._ctx.scale(2,2),this._ctx.translate(-a.min.x,-a.min.y),this.fire("update")}},_reset:function(){Un.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(a){this._updateDashArray(a),this._layers[y(a)]=a;var u=a._order={layer:a,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=u),this._drawLast=u,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(a){this._requestRedraw(a)},_removePath:function(a){var u=a._order,d=u.next,_=u.prev;d?d.prev=_:this._drawLast=_,_?_.next=d:this._drawFirst=d,delete a._order,delete this._layers[y(a)],this._requestRedraw(a)},_updatePath:function(a){this._extendRedrawBounds(a),a._project(),a._update(),this._requestRedraw(a)},_updateStyle:function(a){this._updateDashArray(a),this._requestRedraw(a)},_updateDashArray:function(a){if(typeof a.options.dashArray=="string"){var u=a.options.dashArray.split(/[, ]+/),d=[],_,w;for(w=0;w<u.length;w++){if(_=Number(u[w]),isNaN(_))return;d.push(_)}a.options._dashArray=d}else a.options._dashArray=a.options.dashArray},_requestRedraw:function(a){this._map&&(this._extendRedrawBounds(a),this._redrawRequest=this._redrawRequest||U(this._redraw,this))},_extendRedrawBounds:function(a){if(a._pxBounds){var u=(a.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new z,this._redrawBounds.extend(a._pxBounds.min.subtract([u,u])),this._redrawBounds.extend(a._pxBounds.max.add([u,u]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var a=this._redrawBounds;if(a){var u=a.getSize();this._ctx.clearRect(a.min.x,a.min.y,u.x,u.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var a,u=this._redrawBounds;if(this._ctx.save(),u){var d=u.getSize();this._ctx.beginPath(),this._ctx.rect(u.min.x,u.min.y,d.x,d.y),this._ctx.clip()}this._drawing=!0;for(var _=this._drawFirst;_;_=_.next)a=_.layer,(!u||a._pxBounds&&a._pxBounds.intersects(u))&&a._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(a,u){if(this._drawing){var d,_,w,C,M=a._parts,Q=M.length,tt=this._ctx;if(Q){for(tt.beginPath(),d=0;d<Q;d++){for(_=0,w=M[d].length;_<w;_++)C=M[d][_],tt[_?"lineTo":"moveTo"](C.x,C.y);u&&tt.closePath()}this._fillStroke(tt,a)}}},_updateCircle:function(a){if(!(!this._drawing||a._empty())){var u=a._point,d=this._ctx,_=Math.max(Math.round(a._radius),1),w=(Math.max(Math.round(a._radiusY),1)||_)/_;w!==1&&(d.save(),d.scale(1,w)),d.beginPath(),d.arc(u.x,u.y/w,_,0,Math.PI*2,!1),w!==1&&d.restore(),this._fillStroke(d,a)}},_fillStroke:function(a,u){var d=u.options;d.fill&&(a.globalAlpha=d.fillOpacity,a.fillStyle=d.fillColor||d.color,a.fill(d.fillRule||"evenodd")),d.stroke&&d.weight!==0&&(a.setLineDash&&a.setLineDash(u.options&&u.options._dashArray||[]),a.globalAlpha=d.opacity,a.lineWidth=d.weight,a.strokeStyle=d.color,a.lineCap=d.lineCap,a.lineJoin=d.lineJoin,a.stroke())},_onClick:function(a){for(var u=this._map.mouseEventToLayerPoint(a),d,_,w=this._drawFirst;w;w=w.next)d=w.layer,d.options.interactive&&d._containsPoint(u)&&(!(a.type==="click"||a.type==="preclick")||!this._map._draggableMoved(d))&&(_=d);this._fireEvent(_?[_]:!1,a)},_onMouseMove:function(a){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var u=this._map.mouseEventToLayerPoint(a);this._handleMouseHover(a,u)}},_handleMouseOut:function(a){var u=this._hoveredLayer;u&&(ye(this._container,"leaflet-interactive"),this._fireEvent([u],a,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(a,u){if(!this._mouseHoverThrottled){for(var d,_,w=this._drawFirst;w;w=w.next)d=w.layer,d.options.interactive&&d._containsPoint(u)&&(_=d);_!==this._hoveredLayer&&(this._handleMouseOut(a),_&&(St(this._container,"leaflet-interactive"),this._fireEvent([_],a,"mouseover"),this._hoveredLayer=_)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,a),this._mouseHoverThrottled=!0,setTimeout(m(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(a,u,d){this._map._fireDOMEvent(u,d||u.type,a)},_bringToFront:function(a){var u=a._order;if(u){var d=u.next,_=u.prev;if(d)d.prev=_;else return;_?_.next=d:d&&(this._drawFirst=d),u.prev=this._drawLast,this._drawLast.next=u,u.next=null,this._drawLast=u,this._requestRedraw(a)}},_bringToBack:function(a){var u=a._order;if(u){var d=u.next,_=u.prev;if(_)_.next=d;else return;d?d.prev=_:_&&(this._drawLast=_),u.prev=null,u.next=this._drawFirst,this._drawFirst.prev=u,this._drawFirst=u,this._requestRedraw(a)}}});function No(a){return It.canvas?new Rl(a):null}var Qr=(function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(a){return document.createElement("<lvml:"+a+' class="lvml">')}}catch{}return function(a){return document.createElement("<"+a+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}})(),xu={_initContainer:function(){this._container=Qt("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(Un.prototype._update.call(this),this.fire("update"))},_initPath:function(a){var u=a._container=Qr("shape");St(u,"leaflet-vml-shape "+(this.options.className||"")),u.coordsize="1 1",a._path=Qr("path"),u.appendChild(a._path),this._updateStyle(a),this._layers[y(a)]=a},_addPath:function(a){var u=a._container;this._container.appendChild(u),a.options.interactive&&a.addInteractiveTarget(u)},_removePath:function(a){var u=a._container;$t(u),a.removeInteractiveTarget(u),delete this._layers[y(a)]},_updateStyle:function(a){var u=a._stroke,d=a._fill,_=a.options,w=a._container;w.stroked=!!_.stroke,w.filled=!!_.fill,_.stroke?(u||(u=a._stroke=Qr("stroke")),w.appendChild(u),u.weight=_.weight+"px",u.color=_.color,u.opacity=_.opacity,_.dashArray?u.dashStyle=ct(_.dashArray)?_.dashArray.join(" "):_.dashArray.replace(/( *, *)/g," "):u.dashStyle="",u.endcap=_.lineCap.replace("butt","flat"),u.joinstyle=_.lineJoin):u&&(w.removeChild(u),a._stroke=null),_.fill?(d||(d=a._fill=Qr("fill")),w.appendChild(d),d.color=_.fillColor||_.color,d.opacity=_.fillOpacity):d&&(w.removeChild(d),a._fill=null)},_updateCircle:function(a){var u=a._point.round(),d=Math.round(a._radius),_=Math.round(a._radiusY||d);this._setPath(a,a._empty()?"M0 0":"AL "+u.x+","+u.y+" "+d+","+_+" 0,"+65535*360)},_setPath:function(a,u){a._path.v=u},_bringToFront:function(a){Le(a._container)},_bringToBack:function(a){Zn(a._container)}},ir=It.vml?Qr:Ws,ya=Un.extend({_initContainer:function(){this._container=ir("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=ir("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){$t(this._container),he(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Un.prototype._update.call(this);var a=this._bounds,u=a.getSize(),d=this._container;(!this._svgSize||!this._svgSize.equals(u))&&(this._svgSize=u,d.setAttribute("width",u.x),d.setAttribute("height",u.y)),ve(d,a.min),d.setAttribute("viewBox",[a.min.x,a.min.y,u.x,u.y].join(" ")),this.fire("update")}},_initPath:function(a){var u=a._path=ir("path");a.options.className&&St(u,a.options.className),a.options.interactive&&St(u,"leaflet-interactive"),this._updateStyle(a),this._layers[y(a)]=a},_addPath:function(a){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(a._path),a.addInteractiveTarget(a._path)},_removePath:function(a){$t(a._path),a.removeInteractiveTarget(a._path),delete this._layers[y(a)]},_updatePath:function(a){a._project(),a._update()},_updateStyle:function(a){var u=a._path,d=a.options;u&&(d.stroke?(u.setAttribute("stroke",d.color),u.setAttribute("stroke-opacity",d.opacity),u.setAttribute("stroke-width",d.weight),u.setAttribute("stroke-linecap",d.lineCap),u.setAttribute("stroke-linejoin",d.lineJoin),d.dashArray?u.setAttribute("stroke-dasharray",d.dashArray):u.removeAttribute("stroke-dasharray"),d.dashOffset?u.setAttribute("stroke-dashoffset",d.dashOffset):u.removeAttribute("stroke-dashoffset")):u.setAttribute("stroke","none"),d.fill?(u.setAttribute("fill",d.fillColor||d.color),u.setAttribute("fill-opacity",d.fillOpacity),u.setAttribute("fill-rule",d.fillRule||"evenodd")):u.setAttribute("fill","none"))},_updatePoly:function(a,u){this._setPath(a,Mr(a._parts,u))},_updateCircle:function(a){var u=a._point,d=Math.max(Math.round(a._radius),1),_=Math.max(Math.round(a._radiusY),1)||d,w="a"+d+","+_+" 0 1,0 ",C=a._empty()?"M0 0":"M"+(u.x-d)+","+u.y+w+d*2+",0 "+w+-d*2+",0 ";this._setPath(a,C)},_setPath:function(a,u){a._path.setAttribute("d",u)},_bringToFront:function(a){Le(a._path)},_bringToBack:function(a){Zn(a._path)}});It.vml&&ya.include(xu);function Oo(a){return It.svg||It.vml?new ya(a):null}Yt.include({getRenderer:function(a){var u=a.options.renderer||this._getPaneRenderer(a.options.pane)||this.options.renderer||this._renderer;return u||(u=this._renderer=this._createRenderer()),this.hasLayer(u)||this.addLayer(u),u},_getPaneRenderer:function(a){if(a==="overlayPane"||a===void 0)return!1;var u=this._paneRenderers[a];return u===void 0&&(u=this._createRenderer({pane:a}),this._paneRenderers[a]=u),u},_createRenderer:function(a){return this.options.preferCanvas&&No(a)||Oo(a)}});var Rs=da.extend({initialize:function(a,u){da.prototype.initialize.call(this,this._boundsToLatLngs(a),u)},setBounds:function(a){return this.setLatLngs(this._boundsToLatLngs(a))},_boundsToLatLngs:function(a){return a=_t(a),[a.getSouthWest(),a.getNorthWest(),a.getNorthEast(),a.getSouthEast()]}});function bd(a,u){return new Rs(a,u)}ya.create=ir,ya.pointsToPath=Mr,wr.geometryToLayer=bn,wr.coordsToLatLng=El,wr.coordsToLatLngs=So,wr.latLngToCoords=wl,wr.latLngsToCoords=Ao,wr.getFeature=Gr,wr.asFeature=bl,Yt.mergeOptions({boxZoom:!0});var zn=Yn.extend({initialize:function(a){this._map=a,this._container=a._container,this._pane=a._panes.overlayPane,this._resetStateTimeout=0,a.on("unload",this._destroy,this)},addHooks:function(){Dt(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){he(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){$t(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(a){if(!a.shiftKey||a.which!==1&&a.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),si(),Ts(),this._startPoint=this._map.mouseEventToContainerPoint(a),Dt(document,{contextmenu:Ai,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(a){this._moved||(this._moved=!0,this._box=Qt("div","leaflet-zoom-box",this._container),St(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(a);var u=new z(this._point,this._startPoint),d=u.getSize();ve(this._box,u.min),this._box.style.width=d.x+"px",this._box.style.height=d.y+"px"},_finish:function(){this._moved&&($t(this._box),ye(this._container,"leaflet-crosshair")),sn(),zr(),he(document,{contextmenu:Ai,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(a){if(!(a.which!==1&&a.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(m(this._resetState,this),0);var u=new gt(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(u).fire("boxzoomend",{boxZoomBounds:u})}},_onKeyDown:function(a){a.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});Yt.addInitHook("addHandler","boxZoom",zn),Yt.mergeOptions({doubleClickZoom:!0});var Cl=Yn.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(a){var u=this._map,d=u.getZoom(),_=u.options.zoomDelta,w=a.originalEvent.shiftKey?d-_:d+_;u.options.doubleClickZoom==="center"?u.setZoom(w):u.setZoomAround(a.containerPoint,w)}});Yt.addInitHook("addHandler","doubleClickZoom",Cl),Yt.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var rr=Yn.extend({addHooks:function(){if(!this._draggable){var a=this._map;this._draggable=new xi(a._mapPane,a._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),a.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),a.on("zoomend",this._onZoomEnd,this),a.whenReady(this._onZoomEnd,this))}St(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){ye(this._map._container,"leaflet-grab"),ye(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var a=this._map;if(a._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var u=_t(this._map.options.maxBounds);this._offsetLimit=ot(this._map.latLngToContainerPoint(u.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(u.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;a.fire("movestart").fire("dragstart"),a.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(a){if(this._map.options.inertia){var u=this._lastTime=+new Date,d=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(d),this._times.push(u),this._prunePositions(u)}this._map.fire("move",a).fire("drag",a)},_prunePositions:function(a){for(;this._positions.length>1&&a-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var a=this._map.getSize().divideBy(2),u=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=u.subtract(a).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(a,u){return a-(a-u)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var a=this._draggable._newPos.subtract(this._draggable._startPos),u=this._offsetLimit;a.x<u.min.x&&(a.x=this._viscousLimit(a.x,u.min.x)),a.y<u.min.y&&(a.y=this._viscousLimit(a.y,u.min.y)),a.x>u.max.x&&(a.x=this._viscousLimit(a.x,u.max.x)),a.y>u.max.y&&(a.y=this._viscousLimit(a.y,u.max.y)),this._draggable._newPos=this._draggable._startPos.add(a)}},_onPreDragWrap:function(){var a=this._worldWidth,u=Math.round(a/2),d=this._initialWorldOffset,_=this._draggable._newPos.x,w=(_-u+d)%a+u-d,C=(_+u+d)%a-u-d,M=Math.abs(w+d)<Math.abs(C+d)?w:C;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=M},_onDragEnd:function(a){var u=this._map,d=u.options,_=!d.inertia||a.noInertia||this._times.length<2;if(u.fire("dragend",a),_)u.fire("moveend");else{this._prunePositions(+new Date);var w=this._lastPos.subtract(this._positions[0]),C=(this._lastTime-this._times[0])/1e3,M=d.easeLinearity,Q=w.multiplyBy(M/C),tt=Q.distanceTo([0,0]),ht=Math.min(d.inertiaMaxSpeed,tt),Tt=Q.multiplyBy(ht/tt),Ot=ht/(d.inertiaDeceleration*M),Zt=Tt.multiplyBy(-Ot/2).round();!Zt.x&&!Zt.y?u.fire("moveend"):(Zt=u._limitOffset(Zt,u.options.maxBounds),U(function(){u.panBy(Zt,{duration:Ot,easeLinearity:M,noMoveStart:!0,animate:!0})}))}}});Yt.addInitHook("addHandler","dragging",rr),Yt.mergeOptions({keyboard:!0,keyboardPanDelta:80});var Nu=Yn.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(a){this._map=a,this._setPanDelta(a.options.keyboardPanDelta),this._setZoomDelta(a.options.zoomDelta)},addHooks:function(){var a=this._map._container;a.tabIndex<=0&&(a.tabIndex="0"),Dt(a,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),he(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var a=document.body,u=document.documentElement,d=a.scrollTop||u.scrollTop,_=a.scrollLeft||u.scrollLeft;this._map._container.focus(),window.scrollTo(_,d)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(a){var u=this._panKeys={},d=this.keyCodes,_,w;for(_=0,w=d.left.length;_<w;_++)u[d.left[_]]=[-1*a,0];for(_=0,w=d.right.length;_<w;_++)u[d.right[_]]=[a,0];for(_=0,w=d.down.length;_<w;_++)u[d.down[_]]=[0,a];for(_=0,w=d.up.length;_<w;_++)u[d.up[_]]=[0,-1*a]},_setZoomDelta:function(a){var u=this._zoomKeys={},d=this.keyCodes,_,w;for(_=0,w=d.zoomIn.length;_<w;_++)u[d.zoomIn[_]]=a;for(_=0,w=d.zoomOut.length;_<w;_++)u[d.zoomOut[_]]=-a},_addHooks:function(){Dt(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){he(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(a){if(!(a.altKey||a.ctrlKey||a.metaKey)){var u=a.keyCode,d=this._map,_;if(u in this._panKeys){if(!d._panAnim||!d._panAnim._inProgress)if(_=this._panKeys[u],a.shiftKey&&(_=bt(_).multiplyBy(3)),d.options.maxBounds&&(_=d._limitOffset(bt(_),d.options.maxBounds)),d.options.worldCopyJump){var w=d.wrapLatLng(d.unproject(d.project(d.getCenter()).add(_)));d.panTo(w)}else d.panBy(_)}else if(u in this._zoomKeys)d.setZoom(d.getZoom()+(a.shiftKey?3:1)*this._zoomKeys[u]);else if(u===27&&d._popup&&d._popup.options.closeOnEscapeKey)d.closePopup();else return;Ai(a)}}});Yt.addInitHook("addHandler","keyboard",Nu),Yt.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var Lo=Yn.extend({addHooks:function(){Dt(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){he(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(a){var u=an(a),d=this._map.options.wheelDebounceTime;this._delta+=u,this._lastMousePos=this._map.mouseEventToContainerPoint(a),this._startTime||(this._startTime=+new Date);var _=Math.max(d-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(m(this._performZoom,this),_),Ai(a)},_performZoom:function(){var a=this._map,u=a.getZoom(),d=this._map.options.zoomSnap||0;a._stop();var _=this._delta/(this._map.options.wheelPxPerZoomLevel*4),w=4*Math.log(2/(1+Math.exp(-Math.abs(_))))/Math.LN2,C=d?Math.ceil(w/d)*d:w,M=a._limitZoom(u+(this._delta>0?C:-C))-u;this._delta=0,this._startTime=null,M&&(a.options.scrollWheelZoom==="center"?a.setZoom(u+M):a.setZoomAround(this._lastMousePos,u+M))}});Yt.addInitHook("addHandler","scrollWheelZoom",Lo);var Cs=600;Yt.mergeOptions({tapHold:It.touchNative&&It.safari&&It.mobile,tapTolerance:15});var Il=Yn.extend({addHooks:function(){Dt(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){he(this._map._container,"touchstart",this._onDown,this)},_onDown:function(a){if(clearTimeout(this._holdTimeout),a.touches.length===1){var u=a.touches[0];this._startPos=this._newPos=new pt(u.clientX,u.clientY),this._holdTimeout=setTimeout(m(function(){this._cancel(),this._isTapValid()&&(Dt(document,"touchend",Pe),Dt(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",u))},this),Cs),Dt(document,"touchend touchcancel contextmenu",this._cancel,this),Dt(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function a(){he(document,"touchend",Pe),he(document,"touchend touchcancel",a)},_cancel:function(){clearTimeout(this._holdTimeout),he(document,"touchend touchcancel contextmenu",this._cancel,this),he(document,"touchmove",this._onMove,this)},_onMove:function(a){var u=a.touches[0];this._newPos=new pt(u.clientX,u.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(a,u){var d=new MouseEvent(a,{bubbles:!0,cancelable:!0,view:window,screenX:u.screenX,screenY:u.screenY,clientX:u.clientX,clientY:u.clientY});d._simulated=!0,u.target.dispatchEvent(d)}});Yt.addInitHook("addHandler","tapHold",Il),Yt.mergeOptions({touchZoom:It.touch,bounceAtZoomLimits:!0});var Ou=Yn.extend({addHooks:function(){St(this._map._container,"leaflet-touch-zoom"),Dt(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){ye(this._map._container,"leaflet-touch-zoom"),he(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(a){var u=this._map;if(!(!a.touches||a.touches.length!==2||u._animatingZoom||this._zooming)){var d=u.mouseEventToContainerPoint(a.touches[0]),_=u.mouseEventToContainerPoint(a.touches[1]);this._centerPoint=u.getSize()._divideBy(2),this._startLatLng=u.containerPointToLatLng(this._centerPoint),u.options.touchZoom!=="center"&&(this._pinchStartLatLng=u.containerPointToLatLng(d.add(_)._divideBy(2))),this._startDist=d.distanceTo(_),this._startZoom=u.getZoom(),this._moved=!1,this._zooming=!0,u._stop(),Dt(document,"touchmove",this._onTouchMove,this),Dt(document,"touchend touchcancel",this._onTouchEnd,this),Pe(a)}},_onTouchMove:function(a){if(!(!a.touches||a.touches.length!==2||!this._zooming)){var u=this._map,d=u.mouseEventToContainerPoint(a.touches[0]),_=u.mouseEventToContainerPoint(a.touches[1]),w=d.distanceTo(_)/this._startDist;if(this._zoom=u.getScaleZoom(w,this._startZoom),!u.options.bounceAtZoomLimits&&(this._zoom<u.getMinZoom()&&w<1||this._zoom>u.getMaxZoom()&&w>1)&&(this._zoom=u._limitZoom(this._zoom)),u.options.touchZoom==="center"){if(this._center=this._startLatLng,w===1)return}else{var C=d._add(_)._divideBy(2)._subtract(this._centerPoint);if(w===1&&C.x===0&&C.y===0)return;this._center=u.unproject(u.project(this._pinchStartLatLng,this._zoom).subtract(C),this._zoom)}this._moved||(u._moveStart(!0,!1),this._moved=!0),Z(this._animRequest);var M=m(u._move,u,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=U(M,this,!0),Pe(a)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,Z(this._animRequest),he(document,"touchmove",this._onTouchMove,this),he(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});Yt.addInitHook("addHandler","touchZoom",Ou),Yt.BoxZoom=zn,Yt.DoubleClickZoom=Cl,Yt.Drag=rr,Yt.Keyboard=Nu,Yt.ScrollWheelZoom=Lo,Yt.TapHold=Il,Yt.TouchZoom=Ou,n.Bounds=z,n.Browser=It,n.CRS=Ht,n.Canvas=Rl,n.Circle=Tl,n.CircleMarker=fa,n.Class=oe,n.Control=En,n.DivIcon=rh,n.DivOverlay=Sn,n.DomEvent=Ji,n.DomUtil=jr,n.Draggable=xi,n.Evented=vt,n.FeatureGroup=tr,n.GeoJSON=wr,n.GridLayer=_a,n.Handler=Yn,n.Icon=er,n.ImageOverlay=pa,n.LatLng=wt,n.LatLngBounds=gt,n.Layer=Oi,n.LayerGroup=ha,n.LineUtil=oi,n.Map=Yt,n.Marker=bo,n.Mixin=yl,n.Path=nr,n.Point=pt,n.PolyUtil=Fr,n.Polygon=da,n.Polyline=Er,n.Popup=Co,n.PosAnimation=yr,n.Projection=Ni,n.Rectangle=Rs,n.Renderer=Un,n.SVG=ya,n.SVGOverlay=Al,n.TileLayer=Yr,n.Tooltip=Io,n.Transformation=Lr,n.Util=k,n.VideoOverlay=Kr,n.bind=m,n.bounds=ot,n.canvas=No,n.circle=th,n.circleMarker=Jc,n.control=Vn,n.divIcon=wd,n.extend=l,n.featureGroup=Xc,n.geoJSON=Sl,n.geoJson=Ro,n.gridLayer=sh,n.icon=To,n.imageOverlay=eh,n.latLng=Et,n.latLngBounds=_t,n.layerGroup=yd,n.map=qr,n.marker=Wc,n.point=bt,n.polygon=Td,n.polyline=vd,n.popup=ih,n.rectangle=bd,n.setOptions=K,n.stamp=y,n.svg=Oo,n.svgOverlay=nh,n.tileLayer=ui,n.tooltip=Ed,n.transformation=Bi,n.version=s,n.videoOverlay=ga;var Lu=window.L;n.noConflict=function(){return window.L=Lu,this},window.L=n}))})(vc,vc.exports)),vc.exports}var $c=HP();const qP=Xp($c);function d_(r,t,n){return Object.freeze({instance:r,context:t,container:n})}function m_(r,t){return t==null?function(s,l){const h=$.useRef(void 0);return h.current||(h.current=r(s,l)),h}:function(s,l){const h=$.useRef(void 0);h.current||(h.current=r(s,l));const m=$.useRef(s),{instance:v}=h.current;return $.useEffect(function(){m.current!==s&&(t(v,s,m.current),m.current=s)},[v,s,t]),h}}function FP(r,t){$.useEffect(function(){return(t.layerContainer??t.map).addLayer(r.instance),function(){t.layerContainer?.removeLayer(r.instance),t.map.removeLayer(r.instance)}},[t,r])}function hS(r){return function(n){const s=uS(),l=r(f_(n,s),s);return lS(s.map,n.attribution),cS(l.current,n.eventHandlers),FP(l.current,s),l}}function GP(r,t){const n=m_(r,t),s=hS(n);return VP(s)}function ZP(r,t){const n=m_(r),s=BP(n,t);return UP(s)}function KP(r,t){const n=m_(r,t),s=hS(n);return zP(s)}function YP(r,t,n){const{opacity:s,zIndex:l}=t;s!=null&&s!==n.opacity&&r.setOpacity(s),l!=null&&l!==n.zIndex&&r.setZIndex(l)}function QP({bounds:r,boundsOptions:t,center:n,children:s,className:l,id:h,placeholder:m,style:v,whenReady:y,zoom:T,...S},R){const[N]=$.useState({className:l,id:h,style:v}),[j,B]=$.useState(null),K=$.useRef(void 0);$.useImperativeHandle(R,()=>j?.map??null,[j]);const G=$.useCallback(rt=>{if(rt!==null&&!K.current){const ct=new $c.Map(rt,S);K.current=ct,n!=null&&T!=null?ct.setView(n,T):r!=null&&ct.fitBounds(r,t),y!=null&&ct.whenReady(y),B(DP(ct))}},[]);$.useEffect(()=>()=>{j?.map.remove()},[j]);const it=j?Sf.createElement(h_,{value:j},s):m??null;return Sf.createElement("div",{...N,ref:G},it)}const $P=$.forwardRef(QP),XP=GP(function({position:t,...n},s){const l=new $c.Marker(t,n);return d_(l,kP(s,{overlayContainer:l}))},function(t,n,s){n.position!==s.position&&t.setLatLng(n.position),n.icon!=null&&n.icon!==s.icon&&t.setIcon(n.icon),n.zIndexOffset!=null&&n.zIndexOffset!==s.zIndexOffset&&t.setZIndexOffset(n.zIndexOffset),n.opacity!=null&&n.opacity!==s.opacity&&t.setOpacity(n.opacity),t.dragging!=null&&n.draggable!==s.draggable&&(n.draggable===!0?t.dragging.enable():t.dragging.disable())}),WP=ZP(function(t,n){const s=new $c.Popup(t,n.overlayContainer);return d_(s,n)},function(t,n,{position:s},l){$.useEffect(function(){const{instance:m}=t;function v(T){T.popup===m&&(m.update(),l(!0))}function y(T){T.popup===m&&l(!1)}return n.map.on({popupopen:v,popupclose:y}),n.overlayContainer==null?(s!=null&&m.setLatLng(s),m.openOn(n.map)):n.overlayContainer.bindPopup(m),function(){n.map.off({popupopen:v,popupclose:y}),n.overlayContainer?.unbindPopup(),n.map.removeLayer(m)}},[t,n,l,s])}),JP=KP(function({url:t,...n},s){const l=new $c.TileLayer(t,f_(n,s));return d_(l,s)},function(t,n,s){YP(t,n,s);const{url:l}=n;l!=null&&l!==s.url&&t.setUrl(l)}),tM=new qP.Icon({iconUrl:"https://raw.githubusercontent.com/pointhi/leaflet-color-markers/master/img/marker-icon-2x-red.png",shadowUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/0.7.7/images/marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],shadowSize:[41,41]}),eM=()=>{const[r,t]=$.useState([]),[n,s]=$.useState(!0);$.useEffect(()=>{const h=Jg(hd(is,"posts")),m=n_(h,v=>{const y=[];v.forEach(T=>{const S=T.data();S.location&&S.location.lat&&S.location.lon&&y.push({...S,id:T.id})}),t(y),s(!1)});return()=>m()},[]);const l=[17.385,78.4867];return n?q.jsx("p",{children:"Loading map and posts..."}):q.jsxs("div",{className:"map-page-container",children:[q.jsxs("div",{className:"map-description",children:[q.jsx("h3",{children:"Live Community Reports"}),q.jsx("p",{children:"This map shows real-time alerts, requests, and offers from your community. Click a pin to see the details."})]}),q.jsxs($P,{center:l,zoom:12,className:"map-container",children:[q.jsx(JP,{url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",attribution:'© <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'}),r.map(h=>q.jsx(XP,{position:[h.location.lat,h.location.lon],icon:tM,children:q.jsx(WP,{children:q.jsxs("div",{className:"map-popup",children:[q.jsxs("h4",{children:[h.category,": ",h.location.name]}),q.jsx("p",{children:h.content}),h.imageUrl&&q.jsx("img",{src:h.imageUrl,alt:"Post"}),q.jsxs("small",{children:["By: ",h.authorName]})]})})},h.id))]})]})},nM=r=>{let t=r.replace(/\*\*(.*?)\*\*/g,"<strong>$1</strong>");return t.includes("* ")&&(t=`<ul>${t.split("* ").slice(1).map(l=>`<li>${l.trim()}</li>`).join("")}</ul>`),t=t.replace(/\n/g,"<br />"),t},iM=()=>{const[r,t]=$.useState(!1),[n,s]=$.useState([{from:"ai",text:"Hi there! I’m Raksha Mitra, your guide to monsoon safety. Let’s make sure you’re ready for anything the rain brings!"}]),[l,h]=$.useState(""),[m,v]=$.useState(!1),y=$.useRef(null);$.useEffect(()=>{y.current?.scrollIntoView({behavior:"smooth"})},[n,m]);const T=async S=>{if(S.preventDefault(),!l.trim())return;const R={from:"user",text:l.trim()};s(K=>[...K,R]),h(""),v(!0);const j="https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-preview-05-20:generateContent?key=AIzaSyARkZCLlUIfoau22rQ98VkncCBhme7q-lU",B="You are Raksha Mitra, a friendly and reassuring AI assistant for the VarshaRaksha app. Your purpose is to provide clear, simple, and practical advice on monsoon safety in India. Always be encouraging and helpful. Use markdown formatting (bolding for emphasis, and unordered lists for steps or items) to make your answers easy to read. Do not answer questions outside of this safety context.";try{const K=await fetch(j,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({contents:[{parts:[{text:R.text}]}],systemInstruction:{parts:[{text:B}]}})});if(!K.ok)throw new Error("API request failed.");const rt={from:"ai",text:(await K.json()).candidates?.[0]?.content?.parts?.[0]?.text||"Sorry, I couldn't process that. Please try again."};s(ct=>[...ct,rt])}catch(K){console.error("Error calling Gemini API:",K);const G={from:"ai",text:"Sorry, I'm having trouble connecting. Please check your connection and try again."};s(it=>[...it,G])}finally{v(!1)}};return q.jsxs(q.Fragment,{children:[q.jsx("button",{className:"chatbot-fab",onClick:()=>t(!0),children:"🤖"}),r&&q.jsxs("div",{className:"chat-window",children:[q.jsxs("div",{className:"chat-header",children:[q.jsx("h3",{children:"Raksha Mitra"}),q.jsx("button",{onClick:()=>t(!1),children:"✕"})]}),q.jsxs("div",{className:"chat-messages",children:[n.map((S,R)=>q.jsx("div",{className:`message ${S.from}`,children:S.from==="ai"?q.jsx("div",{dangerouslySetInnerHTML:{__html:nM(S.text)}}):S.text},R)),m&&q.jsxs("div",{className:"message ai typing",children:[q.jsx("span",{children:"."}),q.jsx("span",{children:"."}),q.jsx("span",{children:"."})]}),q.jsx("div",{ref:y})]}),q.jsxs("form",{className:"chat-input-form",onSubmit:T,children:[q.jsx("input",{type:"text",value:l,onChange:S=>h(S.target.value),placeholder:"Ask a safety question...",disabled:m}),q.jsx("button",{type:"submit",disabled:m,children:"Send"})]})]})]})};function rM(){const[r,t]=$.useState(null);$.useEffect(()=>{const s=OI(Vi,l=>{t(l)});return()=>s()},[]);const n=async()=>{try{await LI(Vi)}catch(s){console.error("Error signing out: ",s)}};return r?q.jsxs("div",{className:"container",children:[q.jsxs("header",{className:"app-header",children:[q.jsxs("div",{className:"logo-title",children:[q.jsx("img",{src:oS,alt:"VarshaRaksha Logo",className:"logo"}),q.jsx("h1",{children:"VarshaRaksha"})]}),q.jsxs("div",{className:"header-user-info",children:[q.jsxs("span",{children:["Welcome, ",r.displayName,"!"]}),q.jsx(Wl,{to:"/profile",className:"profile-link",children:"My Profile"}),q.jsx("button",{onClick:n,className:"auth-button sign-out-small",children:"Sign Out"})]})]}),q.jsxs("nav",{className:"main-nav",children:[q.jsx(Wl,{to:"/",children:"Community Feed"}),q.jsx(Wl,{to:"/official-info",children:"Official Info"}),q.jsx(Wl,{to:"/emergency-help",children:"Emergency Help"}),q.jsx(Wl,{to:"/map",children:"Live Map"})]}),q.jsx("main",{children:q.jsxs(I1,{children:[q.jsx(Xl,{path:"/",element:q.jsxs(q.Fragment,{children:[q.jsx(CP,{}),q.jsx(IP,{})]})}),q.jsx(Xl,{path:"/official-info",element:q.jsx(NP,{})}),q.jsx(Xl,{path:"/emergency-help",element:q.jsx(OP,{})}),q.jsx(Xl,{path:"/profile",element:q.jsx(PP,{})}),q.jsx(Xl,{path:"/map",element:q.jsx(eM,{})})]})}),q.jsx(iM,{})]}):q.jsxs("div",{className:"login-container",children:[q.jsx("header",{className:"login-header",children:q.jsx("h1",{children:"VarshaRaksha"})}),q.jsx(RP,{})]})}VA.createRoot(document.getElementById("root")).render(q.jsx(Sf.StrictMode,{children:q.jsx(X1,{children:q.jsx(rM,{})})}));
